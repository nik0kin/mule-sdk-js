!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["mule-sdk-js"]=e():n["mule-sdk-js"]=e()}(this,function(){return function(n){function e(t){if(A[t])return A[t].exports;var r=A[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var A={};return e.m=n,e.c=A,e.i=function(n){return n},e.d=function(n,A,t){e.o(n,A)||Object.defineProperty(n,A,{configurable:!1,enumerable:!0,get:t})},e.n=function(n){var A=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(A,"a",A),A},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=11)}([function(n,e,A){(function(n,t){var r;(function(){function o(n,e,A){switch(A.length){case 0:return n.call(e);case 1:return n.call(e,A[0]);case 2:return n.call(e,A[0],A[1]);case 3:return n.call(e,A[0],A[1],A[2])}return n.apply(e,A)}function l(n,e,A,t){for(var r=-1,o=null==n?0:n.length;++r<o;){var l=n[r];e(t,l,A(l),n)}return t}function i(n,e){for(var A=-1,t=null==n?0:n.length;++A<t&&!1!==e(n[A],A,n););return n}function u(n,e){for(var A=null==n?0:n.length;A--&&!1!==e(n[A],A,n););return n}function a(n,e){for(var A=-1,t=null==n?0:n.length;++A<t;)if(!e(n[A],A,n))return!1;return!0}function s(n,e){for(var A=-1,t=null==n?0:n.length,r=0,o=[];++A<t;){var l=n[A];e(l,A,n)&&(o[r++]=l)}return o}function c(n,e){return!!(null==n?0:n.length)&&b(n,e,0)>-1}function m(n,e,A){for(var t=-1,r=null==n?0:n.length;++t<r;)if(A(e,n[t]))return!0;return!1}function d(n,e){for(var A=-1,t=null==n?0:n.length,r=Array(t);++A<t;)r[A]=e(n[A],A,n);return r}function f(n,e){for(var A=-1,t=e.length,r=n.length;++A<t;)n[r+A]=e[A];return n}function p(n,e,A,t){var r=-1,o=null==n?0:n.length;for(t&&o&&(A=n[++r]);++r<o;)A=e(A,n[r],r,n);return A}function h(n,e,A,t){var r=null==n?0:n.length;for(t&&r&&(A=n[--r]);r--;)A=e(A,n[r],r,n);return A}function C(n,e){for(var A=-1,t=null==n?0:n.length;++A<t;)if(e(n[A],A,n))return!0;return!1}function y(n){return n.split("")}function B(n){return n.match(Ke)||[]}function g(n,e,A){var t;return A(n,function(n,A,r){if(e(n,A,r))return t=A,!1}),t}function v(n,e,A,t){for(var r=n.length,o=A+(t?1:-1);t?o--:++o<r;)if(e(n[o],o,n))return o;return-1}function b(n,e,A){return e===e?J(n,e,A):v(n,_,A)}function S(n,e,A,t){for(var r=A-1,o=n.length;++r<o;)if(t(n[r],e))return r;return-1}function _(n){return n!==n}function I(n,e){var A=null==n?0:n.length;return A?k(n,e)/A:Tn}function M(n){return function(e){return null==e?An:e[n]}}function E(n){return function(e){return null==n?An:n[e]}}function G(n,e,A,t,r){return r(n,function(n,r,o){A=t?(t=!1,n):e(A,n,r,o)}),A}function D(n,e){var A=n.length;for(n.sort(e);A--;)n[A]=n[A].value;return n}function k(n,e){for(var A,t=-1,r=n.length;++t<r;){var o=e(n[t]);o!==An&&(A=A===An?o:A+o)}return A}function Q(n,e){for(var A=-1,t=Array(n);++A<n;)t[A]=e(A);return t}function P(n,e){return d(e,function(e){return[e,n[e]]})}function O(n){return function(e){return n(e)}}function T(n,e){return d(e,function(e){return n[e]})}function U(n,e){return n.has(e)}function w(n,e){for(var A=-1,t=n.length;++A<t&&b(e,n[A],0)>-1;);return A}function x(n,e){for(var A=n.length;A--&&b(e,n[A],0)>-1;);return A}function K(n,e){for(var A=n.length,t=0;A--;)n[A]===e&&++t;return t}function R(n){return"\\"+IA[n]}function j(n,e){return null==n?An:n[e]}function L(n){return hA.test(n)}function W(n){return CA.test(n)}function H(n){for(var e,A=[];!(e=n.next()).done;)A.push(e.value);return A}function F(n){var e=-1,A=Array(n.size);return n.forEach(function(n,t){A[++e]=[t,n]}),A}function Y(n,e){return function(A){return n(e(A))}}function N(n,e){for(var A=-1,t=n.length,r=0,o=[];++A<t;){var l=n[A];l!==e&&l!==an||(n[A]=an,o[r++]=A)}return o}function z(n){var e=-1,A=Array(n.size);return n.forEach(function(n){A[++e]=n}),A}function q(n){var e=-1,A=Array(n.size);return n.forEach(function(n){A[++e]=[n,n]}),A}function J(n,e,A){for(var t=A-1,r=n.length;++t<r;)if(n[t]===e)return t;return-1}function V(n,e,A){for(var t=A+1;t--;)if(n[t]===e)return t;return t}function Z(n){return L(n)?$(n):WA(n)}function X(n){return L(n)?nn(n):y(n)}function $(n){for(var e=fA.lastIndex=0;fA.test(n);)++e;return e}function nn(n){return n.match(fA)||[]}function en(n){return n.match(pA)||[]}var An,tn=200,rn="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",on="Expected a function",ln="__lodash_hash_undefined__",un=500,an="__lodash_placeholder__",sn=1,cn=2,mn=4,dn=1,fn=2,pn=1,hn=2,Cn=4,yn=8,Bn=16,gn=32,vn=64,bn=128,Sn=256,_n=512,In=30,Mn="...",En=800,Gn=16,Dn=1,kn=2,Qn=1/0,Pn=9007199254740991,On=1.7976931348623157e308,Tn=NaN,Un=4294967295,wn=Un-1,xn=Un>>>1,Kn=[["ary",bn],["bind",pn],["bindKey",hn],["curry",yn],["curryRight",Bn],["flip",_n],["partial",gn],["partialRight",vn],["rearg",Sn]],Rn="[object Arguments]",jn="[object Array]",Ln="[object AsyncFunction]",Wn="[object Boolean]",Hn="[object Date]",Fn="[object DOMException]",Yn="[object Error]",Nn="[object Function]",zn="[object GeneratorFunction]",qn="[object Map]",Jn="[object Number]",Vn="[object Null]",Zn="[object Object]",Xn="[object Proxy]",$n="[object RegExp]",ne="[object Set]",ee="[object String]",Ae="[object Symbol]",te="[object Undefined]",re="[object WeakMap]",oe="[object WeakSet]",le="[object ArrayBuffer]",ie="[object DataView]",ue="[object Float32Array]",ae="[object Float64Array]",se="[object Int8Array]",ce="[object Int16Array]",me="[object Int32Array]",de="[object Uint8Array]",fe="[object Uint8ClampedArray]",pe="[object Uint16Array]",he="[object Uint32Array]",Ce=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,Be=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39);/g,ve=/[&<>"']/g,be=RegExp(ge.source),Se=RegExp(ve.source),_e=/<%-([\s\S]+?)%>/g,Ie=/<%([\s\S]+?)%>/g,Me=/<%=([\s\S]+?)%>/g,Ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ge=/^\w*$/,De=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/[\\^$.*+?()[\]{}|]/g,Qe=RegExp(ke.source),Pe=/^\s+|\s+$/g,Oe=/^\s+/,Te=/\s+$/,Ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,we=/\{\n\/\* \[wrapped with (.+)\] \*/,xe=/,? & /,Ke=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Re=/\\(\\)?/g,je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Le=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Fe=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Ne=/^(?:0|[1-9]\d*)$/,ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qe=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,Ve="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ze="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xe="["+Ze+"]",$e="["+Ve+"]",nA="[a-z\\xdf-\\xf6\\xf8-\\xff]",eA="[^\\ud800-\\udfff"+Ze+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",AA="\\ud83c[\\udffb-\\udfff]",tA="(?:\\ud83c[\\udde6-\\uddff]){2}",rA="[\\ud800-\\udbff][\\udc00-\\udfff]",oA="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lA="(?:"+nA+"|"+eA+")",iA="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",uA="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",tA,rA].join("|")+")[\\ufe0e\\ufe0f]?"+iA+")*",aA="[\\ufe0e\\ufe0f]?"+iA+uA,sA="(?:"+["[\\u2700-\\u27bf]",tA,rA].join("|")+")"+aA,cA="(?:"+["[^\\ud800-\\udfff]"+$e+"?",$e,tA,rA,"[\\ud800-\\udfff]"].join("|")+")",mA=RegExp("['’]","g"),dA=RegExp($e,"g"),fA=RegExp(AA+"(?="+AA+")|"+cA+aA,"g"),pA=RegExp([oA+"?"+nA+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[Xe,oA,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[Xe,oA+lA,"$"].join("|")+")",oA+"?"+lA+"+(?:['’](?:d|ll|m|re|s|t|ve))?",oA+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",sA].join("|"),"g"),hA=RegExp("[\\u200d\\ud800-\\udfff"+Ve+"\\ufe0e\\ufe0f]"),CA=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yA=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],BA=-1,gA={};gA[ue]=gA[ae]=gA[se]=gA[ce]=gA[me]=gA[de]=gA[fe]=gA[pe]=gA[he]=!0,gA[Rn]=gA[jn]=gA[le]=gA[Wn]=gA[ie]=gA[Hn]=gA[Yn]=gA[Nn]=gA[qn]=gA[Jn]=gA[Zn]=gA[$n]=gA[ne]=gA[ee]=gA[re]=!1;var vA={};vA[Rn]=vA[jn]=vA[le]=vA[ie]=vA[Wn]=vA[Hn]=vA[ue]=vA[ae]=vA[se]=vA[ce]=vA[me]=vA[qn]=vA[Jn]=vA[Zn]=vA[$n]=vA[ne]=vA[ee]=vA[Ae]=vA[de]=vA[fe]=vA[pe]=vA[he]=!0,vA[Yn]=vA[Nn]=vA[re]=!1;var bA={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},SA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},_A={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},IA={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},MA=parseFloat,EA=parseInt,GA="object"==typeof n&&n&&n.Object===Object&&n,DA="object"==typeof self&&self&&self.Object===Object&&self,kA=GA||DA||Function("return this")(),QA="object"==typeof e&&e&&!e.nodeType&&e,PA=QA&&"object"==typeof t&&t&&!t.nodeType&&t,OA=PA&&PA.exports===QA,TA=OA&&GA.process,UA=function(){try{var n=PA&&PA.require&&PA.require("util").types;return n||TA&&TA.binding&&TA.binding("util")}catch(n){}}(),wA=UA&&UA.isArrayBuffer,xA=UA&&UA.isDate,KA=UA&&UA.isMap,RA=UA&&UA.isRegExp,jA=UA&&UA.isSet,LA=UA&&UA.isTypedArray,WA=M("length"),HA=E(bA),FA=E(SA),YA=E(_A),NA=function n(e){function A(n){if(eu(n)&&!mm(n)&&!(n instanceof y)){if(n instanceof r)return n;if(ms.call(n,"__wrapped__"))return Xo(n)}return new r(n)}function t(){}function r(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=An}function y(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Un,this.__views__=[]}function E(){var n=new y(this.__wrapped__);return n.__actions__=Pr(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Pr(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Pr(this.__views__),n}function J(){if(this.__filtered__){var n=new y(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function $(){var n=this.__wrapped__.value(),e=this.__dir__,A=mm(n),t=e<0,r=A?n.length:0,o=bo(0,r,this.__views__),l=o.start,i=o.end,u=i-l,a=t?i:l-1,s=this.__iteratees__,c=s.length,m=0,d=Ws(u,this.__takeCount__);if(!A||!t&&r==u&&d==u)return pr(n,this.__actions__);var f=[];n:for(;u--&&m<d;){a+=e;for(var p=-1,h=n[a];++p<c;){var C=s[p],y=C.iteratee,B=C.type,g=y(h);if(B==kn)h=g;else if(!g){if(B==Dn)continue n;break n}}f[m++]=h}return f}function nn(n){var e=-1,A=null==n?0:n.length;for(this.clear();++e<A;){var t=n[e];this.set(t[0],t[1])}}function Ke(){this.__data__=Xs?Xs(null):{},this.size=0}function Ve(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}function Ze(n){var e=this.__data__;if(Xs){var A=e[n];return A===ln?An:A}return ms.call(e,n)?e[n]:An}function Xe(n){var e=this.__data__;return Xs?e[n]!==An:ms.call(e,n)}function $e(n,e){var A=this.__data__;return this.size+=this.has(n)?0:1,A[n]=Xs&&e===An?ln:e,this}function nA(n){var e=-1,A=null==n?0:n.length;for(this.clear();++e<A;){var t=n[e];this.set(t[0],t[1])}}function eA(){this.__data__=[],this.size=0}function AA(n){var e=this.__data__,A=zA(e,n);return!(A<0)&&(A==e.length-1?e.pop():Ms.call(e,A,1),--this.size,!0)}function tA(n){var e=this.__data__,A=zA(e,n);return A<0?An:e[A][1]}function rA(n){return zA(this.__data__,n)>-1}function oA(n,e){var A=this.__data__,t=zA(A,n);return t<0?(++this.size,A.push([n,e])):A[t][1]=e,this}function lA(n){var e=-1,A=null==n?0:n.length;for(this.clear();++e<A;){var t=n[e];this.set(t[0],t[1])}}function iA(){this.size=0,this.__data__={hash:new nn,map:new(qs||nA),string:new nn}}function uA(n){var e=yo(this,n).delete(n);return this.size-=e?1:0,e}function aA(n){return yo(this,n).get(n)}function sA(n){return yo(this,n).has(n)}function cA(n,e){var A=yo(this,n),t=A.size;return A.set(n,e),this.size+=A.size==t?0:1,this}function fA(n){var e=-1,A=null==n?0:n.length;for(this.__data__=new lA;++e<A;)this.add(n[e])}function pA(n){return this.__data__.set(n,ln),this}function hA(n){return this.__data__.has(n)}function CA(n){var e=this.__data__=new nA(n);this.size=e.size}function bA(){this.__data__=new nA,this.size=0}function SA(n){var e=this.__data__,A=e.delete(n);return this.size=e.size,A}function _A(n){return this.__data__.get(n)}function IA(n){return this.__data__.has(n)}function GA(n,e){var A=this.__data__;if(A instanceof nA){var t=A.__data__;if(!qs||t.length<tn-1)return t.push([n,e]),this.size=++A.size,this;A=this.__data__=new lA(t)}return A.set(n,e),this.size=A.size,this}function DA(n,e){var A=mm(n),t=!A&&cm(n),r=!A&&!t&&fm(n),o=!A&&!t&&!r&&Bm(n),l=A||t||r||o,i=l?Q(n.length,os):[],u=i.length;for(var a in n)!e&&!ms.call(n,a)||l&&("length"==a||r&&("offset"==a||"parent"==a)||o&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||ko(a,u))||i.push(a);return i}function QA(n){var e=n.length;return e?n[Vt(0,e-1)]:An}function PA(n,e){return qo(Pr(n),$A(e,0,n.length))}function TA(n){return qo(Pr(n))}function UA(n,e,A){(A===An||Li(n[e],A))&&(A!==An||e in n)||ZA(n,e,A)}function WA(n,e,A){var t=n[e];ms.call(n,e)&&Li(t,A)&&(A!==An||e in n)||ZA(n,e,A)}function zA(n,e){for(var A=n.length;A--;)if(Li(n[A][0],e))return A;return-1}function qA(n,e,A,t){return sc(n,function(n,r,o){e(t,n,A(n),o)}),t}function JA(n,e){return n&&Or(e,wu(e),n)}function VA(n,e){return n&&Or(e,xu(e),n)}function ZA(n,e,A){"__proto__"==e&&ks?ks(n,e,{configurable:!0,enumerable:!0,value:A,writable:!0}):n[e]=A}function XA(n,e){for(var A=-1,t=e.length,r=Xa(t),o=null==n;++A<t;)r[A]=o?An:Ou(n,e[A]);return r}function $A(n,e,A){return n===n&&(A!==An&&(n=n<=A?n:A),e!==An&&(n=n>=e?n:e)),n}function nt(n,e,A,t,r,o){var l,u=e&sn,a=e&cn,s=e&mn;if(A&&(l=r?A(n,t,r,o):A(n)),l!==An)return l;if(!nu(n))return n;var c=mm(n);if(c){if(l=Io(n),!u)return Pr(n,l)}else{var m=bc(n),d=m==Nn||m==zn;if(fm(n))return br(n,u);if(m==Zn||m==Rn||d&&!r){if(l=a||d?{}:Mo(n),!u)return a?Ur(n,VA(l,n)):Tr(n,JA(l,n))}else{if(!vA[m])return r?n:{};l=Eo(n,m,u)}}o||(o=new CA);var f=o.get(n);if(f)return f;o.set(n,l),ym(n)?n.forEach(function(t){l.add(nt(t,e,A,t,n,o))}):hm(n)&&n.forEach(function(t,r){l.set(r,nt(t,e,A,r,n,o))});var p=s?a?fo:mo:a?xu:wu,h=c?An:p(n);return i(h||n,function(t,r){h&&(r=t,t=n[r]),WA(l,r,nt(t,e,A,r,n,o))}),l}function et(n){var e=wu(n);return function(A){return At(A,n,e)}}function At(n,e,A){var t=A.length;if(null==n)return!t;for(n=ts(n);t--;){var r=A[t],o=e[r],l=n[r];if(l===An&&!(r in n)||!o(l))return!1}return!0}function tt(n,e,A){if("function"!=typeof n)throw new ls(on);return Ic(function(){n.apply(An,A)},e)}function rt(n,e,A,t){var r=-1,o=c,l=!0,i=n.length,u=[],a=e.length;if(!i)return u;A&&(e=d(e,O(A))),t?(o=m,l=!1):e.length>=tn&&(o=U,l=!1,e=new fA(e));n:for(;++r<i;){var s=n[r],f=null==A?s:A(s);if(s=t||0!==s?s:0,l&&f===f){for(var p=a;p--;)if(e[p]===f)continue n;u.push(s)}else o(e,f,t)||u.push(s)}return u}function ot(n,e){var A=!0;return sc(n,function(n,t,r){return A=!!e(n,t,r)}),A}function lt(n,e,A){for(var t=-1,r=n.length;++t<r;){var o=n[t],l=e(o);if(null!=l&&(i===An?l===l&&!mu(l):A(l,i)))var i=l,u=o}return u}function it(n,e,A,t){var r=n.length;for(A=yu(A),A<0&&(A=-A>r?0:r+A),t=t===An||t>r?r:yu(t),t<0&&(t+=r),t=A>t?0:Bu(t);A<t;)n[A++]=e;return n}function ut(n,e){var A=[];return sc(n,function(n,t,r){e(n,t,r)&&A.push(n)}),A}function at(n,e,A,t,r){var o=-1,l=n.length;for(A||(A=Do),r||(r=[]);++o<l;){var i=n[o];e>0&&A(i)?e>1?at(i,e-1,A,t,r):f(r,i):t||(r[r.length]=i)}return r}function st(n,e){return n&&mc(n,e,wu)}function ct(n,e){return n&&dc(n,e,wu)}function mt(n,e){return s(e,function(e){return Zi(n[e])})}function dt(n,e){e=gr(e,n);for(var A=0,t=e.length;null!=n&&A<t;)n=n[Jo(e[A++])];return A&&A==t?n:An}function ft(n,e,A){var t=e(n);return mm(n)?t:f(t,A(n))}function pt(n){return null==n?n===An?te:Vn:Ds&&Ds in ts(n)?vo(n):Lo(n)}function ht(n,e){return n>e}function Ct(n,e){return null!=n&&ms.call(n,e)}function yt(n,e){return null!=n&&e in ts(n)}function Bt(n,e,A){return n>=Ws(e,A)&&n<Ls(e,A)}function gt(n,e,A){for(var t=A?m:c,r=n[0].length,o=n.length,l=o,i=Xa(o),u=1/0,a=[];l--;){var s=n[l];l&&e&&(s=d(s,O(e))),u=Ws(s.length,u),i[l]=!A&&(e||r>=120&&s.length>=120)?new fA(l&&s):An}s=n[0];var f=-1,p=i[0];n:for(;++f<r&&a.length<u;){var h=s[f],C=e?e(h):h;if(h=A||0!==h?h:0,!(p?U(p,C):t(a,C,A))){for(l=o;--l;){var y=i[l];if(!(y?U(y,C):t(n[l],C,A)))continue n}p&&p.push(C),a.push(h)}}return a}function vt(n,e,A,t){return st(n,function(n,r,o){e(t,A(n),r,o)}),t}function bt(n,e,A){e=gr(e,n),n=Ho(n,e);var t=null==n?n:n[Jo(Cl(e))];return null==t?An:o(t,n,A)}function St(n){return eu(n)&&pt(n)==Rn}function _t(n){return eu(n)&&pt(n)==le}function It(n){return eu(n)&&pt(n)==Hn}function Mt(n,e,A,t,r){return n===e||(null==n||null==e||!eu(n)&&!eu(e)?n!==n&&e!==e:Et(n,e,A,t,Mt,r))}function Et(n,e,A,t,r,o){var l=mm(n),i=mm(e),u=l?jn:bc(n),a=i?jn:bc(e);u=u==Rn?Zn:u,a=a==Rn?Zn:a;var s=u==Zn,c=a==Zn,m=u==a;if(m&&fm(n)){if(!fm(e))return!1;l=!0,s=!1}if(m&&!s)return o||(o=new CA),l||Bm(n)?uo(n,e,A,t,r,o):ao(n,e,u,A,t,r,o);if(!(A&dn)){var d=s&&ms.call(n,"__wrapped__"),f=c&&ms.call(e,"__wrapped__");if(d||f){var p=d?n.value():n,h=f?e.value():e;return o||(o=new CA),r(p,h,A,t,o)}}return!!m&&(o||(o=new CA),so(n,e,A,t,r,o))}function Gt(n){return eu(n)&&bc(n)==qn}function Dt(n,e,A,t){var r=A.length,o=r,l=!t;if(null==n)return!o;for(n=ts(n);r--;){var i=A[r];if(l&&i[2]?i[1]!==n[i[0]]:!(i[0]in n))return!1}for(;++r<o;){i=A[r];var u=i[0],a=n[u],s=i[1];if(l&&i[2]){if(a===An&&!(u in n))return!1}else{var c=new CA;if(t)var m=t(a,s,u,n,e,c);if(!(m===An?Mt(s,a,dn|fn,t,c):m))return!1}}return!0}function kt(n){return!(!nu(n)||Uo(n))&&(Zi(n)?ys:Fe).test(Vo(n))}function Qt(n){return eu(n)&&pt(n)==$n}function Pt(n){return eu(n)&&bc(n)==ne}function Ot(n){return eu(n)&&$i(n.length)&&!!gA[pt(n)]}function Tt(n){return"function"==typeof n?n:null==n?Ma:"object"==typeof n?mm(n)?jt(n[0],n[1]):Rt(n):Ta(n)}function Ut(n){if(!wo(n))return js(n);var e=[];for(var A in ts(n))ms.call(n,A)&&"constructor"!=A&&e.push(A);return e}function wt(n){if(!nu(n))return jo(n);var e=wo(n),A=[];for(var t in n)("constructor"!=t||!e&&ms.call(n,t))&&A.push(t);return A}function xt(n,e){return n<e}function Kt(n,e){var A=-1,t=Wi(n)?Xa(n.length):[];return sc(n,function(n,r,o){t[++A]=e(n,r,o)}),t}function Rt(n){var e=Bo(n);return 1==e.length&&e[0][2]?Ko(e[0][0],e[0][1]):function(A){return A===n||Dt(A,n,e)}}function jt(n,e){return Po(n)&&xo(e)?Ko(Jo(n),e):function(A){var t=Ou(A,n);return t===An&&t===e?Uu(A,n):Mt(e,t,dn|fn)}}function Lt(n,e,A,t,r){n!==e&&mc(e,function(o,l){if(r||(r=new CA),nu(o))Wt(n,e,l,A,Lt,t,r);else{var i=t?t(Yo(n,l),o,l+"",n,e,r):An;i===An&&(i=o),UA(n,l,i)}},xu)}function Wt(n,e,A,t,r,o,l){var i=Yo(n,A),u=Yo(e,A),a=l.get(u);if(a)return void UA(n,A,a);var s=o?o(i,u,A+"",n,e,l):An,c=s===An;if(c){var m=mm(u),d=!m&&fm(u),f=!m&&!d&&Bm(u);s=u,m||d||f?mm(i)?s=i:Hi(i)?s=Pr(i):d?(c=!1,s=br(u,!0)):f?(c=!1,s=Er(u,!0)):s=[]:au(u)||cm(u)?(s=i,cm(i)?s=vu(i):nu(i)&&!Zi(i)||(s=Mo(u))):c=!1}c&&(l.set(u,s),r(s,u,t,o,l),l.delete(u)),UA(n,A,s)}function Ht(n,e){var A=n.length;if(A)return e+=e<0?A:0,ko(e,A)?n[e]:An}function Ft(n,e,A){var t=-1;return e=d(e.length?e:[Ma],O(Co())),D(Kt(n,function(n,A,r){return{criteria:d(e,function(e){return e(n)}),index:++t,value:n}}),function(n,e){return Dr(n,e,A)})}function Yt(n,e){return Nt(n,e,function(e,A){return Uu(n,A)})}function Nt(n,e,A){for(var t=-1,r=e.length,o={};++t<r;){var l=e[t],i=dt(n,l);A(i,l)&&Ar(o,gr(l,n),i)}return o}function zt(n){return function(e){return dt(e,n)}}function qt(n,e,A,t){var r=t?S:b,o=-1,l=e.length,i=n;for(n===e&&(e=Pr(e)),A&&(i=d(n,O(A)));++o<l;)for(var u=0,a=e[o],s=A?A(a):a;(u=r(i,s,u,t))>-1;)i!==n&&Ms.call(i,u,1),Ms.call(n,u,1);return n}function Jt(n,e){for(var A=n?e.length:0,t=A-1;A--;){var r=e[A];if(A==t||r!==o){var o=r;ko(r)?Ms.call(n,r,1):mr(n,r)}}return n}function Vt(n,e){return n+Us(Ys()*(e-n+1))}function Zt(n,e,A,t){for(var r=-1,o=Ls(Ts((e-n)/(A||1)),0),l=Xa(o);o--;)l[t?o:++r]=n,n+=A;return l}function Xt(n,e){var A="";if(!n||e<1||e>Pn)return A;do{e%2&&(A+=n),(e=Us(e/2))&&(n+=n)}while(e);return A}function $t(n,e){return Mc(Wo(n,e,Ma),n+"")}function nr(n){return QA(Ju(n))}function er(n,e){var A=Ju(n);return qo(A,$A(e,0,A.length))}function Ar(n,e,A,t){if(!nu(n))return n;e=gr(e,n);for(var r=-1,o=e.length,l=o-1,i=n;null!=i&&++r<o;){var u=Jo(e[r]),a=A;if(r!=l){var s=i[u];a=t?t(s,u,i):An,a===An&&(a=nu(s)?s:ko(e[r+1])?[]:{})}WA(i,u,a),i=i[u]}return n}function tr(n){return qo(Ju(n))}function rr(n,e,A){var t=-1,r=n.length;e<0&&(e=-e>r?0:r+e),A=A>r?r:A,A<0&&(A+=r),r=e>A?0:A-e>>>0,e>>>=0;for(var o=Xa(r);++t<r;)o[t]=n[t+e];return o}function or(n,e){var A;return sc(n,function(n,t,r){return!(A=e(n,t,r))}),!!A}function lr(n,e,A){var t=0,r=null==n?t:n.length;if("number"==typeof e&&e===e&&r<=xn){for(;t<r;){var o=t+r>>>1,l=n[o];null!==l&&!mu(l)&&(A?l<=e:l<e)?t=o+1:r=o}return r}return ir(n,e,Ma,A)}function ir(n,e,A,t){e=A(e);for(var r=0,o=null==n?0:n.length,l=e!==e,i=null===e,u=mu(e),a=e===An;r<o;){var s=Us((r+o)/2),c=A(n[s]),m=c!==An,d=null===c,f=c===c,p=mu(c);if(l)var h=t||f;else h=a?f&&(t||m):i?f&&m&&(t||!d):u?f&&m&&!d&&(t||!p):!d&&!p&&(t?c<=e:c<e);h?r=s+1:o=s}return Ws(o,wn)}function ur(n,e){for(var A=-1,t=n.length,r=0,o=[];++A<t;){var l=n[A],i=e?e(l):l;if(!A||!Li(i,u)){var u=i;o[r++]=0===l?0:l}}return o}function ar(n){return"number"==typeof n?n:mu(n)?Tn:+n}function sr(n){if("string"==typeof n)return n;if(mm(n))return d(n,sr)+"";if(mu(n))return uc?uc.call(n):"";var e=n+"";return"0"==e&&1/n==-Qn?"-0":e}function cr(n,e,A){var t=-1,r=c,o=n.length,l=!0,i=[],u=i;if(A)l=!1,r=m;else if(o>=tn){var a=e?null:yc(n);if(a)return z(a);l=!1,r=U,u=new fA}else u=e?[]:i;n:for(;++t<o;){var s=n[t],d=e?e(s):s;if(s=A||0!==s?s:0,l&&d===d){for(var f=u.length;f--;)if(u[f]===d)continue n;e&&u.push(d),i.push(s)}else r(u,d,A)||(u!==i&&u.push(d),i.push(s))}return i}function mr(n,e){return e=gr(e,n),null==(n=Ho(n,e))||delete n[Jo(Cl(e))]}function dr(n,e,A,t){return Ar(n,e,A(dt(n,e)),t)}function fr(n,e,A,t){for(var r=n.length,o=t?r:-1;(t?o--:++o<r)&&e(n[o],o,n););return A?rr(n,t?0:o,t?o+1:r):rr(n,t?o+1:0,t?r:o)}function pr(n,e){var A=n;return A instanceof y&&(A=A.value()),p(e,function(n,e){return e.func.apply(e.thisArg,f([n],e.args))},A)}function hr(n,e,A){var t=n.length;if(t<2)return t?cr(n[0]):[];for(var r=-1,o=Xa(t);++r<t;)for(var l=n[r],i=-1;++i<t;)i!=r&&(o[r]=rt(o[r]||l,n[i],e,A));return cr(at(o,1),e,A)}function Cr(n,e,A){for(var t=-1,r=n.length,o=e.length,l={};++t<r;){var i=t<o?e[t]:An;A(l,n[t],i)}return l}function yr(n){return Hi(n)?n:[]}function Br(n){return"function"==typeof n?n:Ma}function gr(n,e){return mm(n)?n:Po(n,e)?[n]:Ec(Su(n))}function vr(n,e,A){var t=n.length;return A=A===An?t:A,!e&&A>=t?n:rr(n,e,A)}function br(n,e){if(e)return n.slice();var A=n.length,t=bs?bs(A):new n.constructor(A);return n.copy(t),t}function Sr(n){var e=new n.constructor(n.byteLength);return new vs(e).set(new vs(n)),e}function _r(n,e){var A=e?Sr(n.buffer):n.buffer;return new n.constructor(A,n.byteOffset,n.byteLength)}function Ir(n){var e=new n.constructor(n.source,Le.exec(n));return e.lastIndex=n.lastIndex,e}function Mr(n){return ic?ts(ic.call(n)):{}}function Er(n,e){var A=e?Sr(n.buffer):n.buffer;return new n.constructor(A,n.byteOffset,n.length)}function Gr(n,e){if(n!==e){var A=n!==An,t=null===n,r=n===n,o=mu(n),l=e!==An,i=null===e,u=e===e,a=mu(e);if(!i&&!a&&!o&&n>e||o&&l&&u&&!i&&!a||t&&l&&u||!A&&u||!r)return 1;if(!t&&!o&&!a&&n<e||a&&A&&r&&!t&&!o||i&&A&&r||!l&&r||!u)return-1}return 0}function Dr(n,e,A){for(var t=-1,r=n.criteria,o=e.criteria,l=r.length,i=A.length;++t<l;){var u=Gr(r[t],o[t]);if(u){if(t>=i)return u;return u*("desc"==A[t]?-1:1)}}return n.index-e.index}function kr(n,e,A,t){for(var r=-1,o=n.length,l=A.length,i=-1,u=e.length,a=Ls(o-l,0),s=Xa(u+a),c=!t;++i<u;)s[i]=e[i];for(;++r<l;)(c||r<o)&&(s[A[r]]=n[r]);for(;a--;)s[i++]=n[r++];return s}function Qr(n,e,A,t){for(var r=-1,o=n.length,l=-1,i=A.length,u=-1,a=e.length,s=Ls(o-i,0),c=Xa(s+a),m=!t;++r<s;)c[r]=n[r];for(var d=r;++u<a;)c[d+u]=e[u];for(;++l<i;)(m||r<o)&&(c[d+A[l]]=n[r++]);return c}function Pr(n,e){var A=-1,t=n.length;for(e||(e=Xa(t));++A<t;)e[A]=n[A];return e}function Or(n,e,A,t){var r=!A;A||(A={});for(var o=-1,l=e.length;++o<l;){var i=e[o],u=t?t(A[i],n[i],i,A,n):An;u===An&&(u=n[i]),r?ZA(A,i,u):WA(A,i,u)}return A}function Tr(n,e){return Or(n,gc(n),e)}function Ur(n,e){return Or(n,vc(n),e)}function wr(n,e){return function(A,t){var r=mm(A)?l:qA,o=e?e():{};return r(A,n,Co(t,2),o)}}function xr(n){return $t(function(e,A){var t=-1,r=A.length,o=r>1?A[r-1]:An,l=r>2?A[2]:An;for(o=n.length>3&&"function"==typeof o?(r--,o):An,l&&Qo(A[0],A[1],l)&&(o=r<3?An:o,r=1),e=ts(e);++t<r;){var i=A[t];i&&n(e,i,t,o)}return e})}function Kr(n,e){return function(A,t){if(null==A)return A;if(!Wi(A))return n(A,t);for(var r=A.length,o=e?r:-1,l=ts(A);(e?o--:++o<r)&&!1!==t(l[o],o,l););return A}}function Rr(n){return function(e,A,t){for(var r=-1,o=ts(e),l=t(e),i=l.length;i--;){var u=l[n?i:++r];if(!1===A(o[u],u,o))break}return e}}function jr(n,e,A){function t(){return(this&&this!==kA&&this instanceof t?o:n).apply(r?A:this,arguments)}var r=e&pn,o=Hr(n);return t}function Lr(n){return function(e){e=Su(e);var A=L(e)?X(e):An,t=A?A[0]:e.charAt(0),r=A?vr(A,1).join(""):e.slice(1);return t[n]()+r}}function Wr(n){return function(e){return p(va(ea(e).replace(mA,"")),n,"")}}function Hr(n){return function(){var e=arguments;switch(e.length){case 0:return new n;case 1:return new n(e[0]);case 2:return new n(e[0],e[1]);case 3:return new n(e[0],e[1],e[2]);case 4:return new n(e[0],e[1],e[2],e[3]);case 5:return new n(e[0],e[1],e[2],e[3],e[4]);case 6:return new n(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new n(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var A=ac(n.prototype),t=n.apply(A,e);return nu(t)?t:A}}function Fr(n,e,A){function t(){for(var l=arguments.length,i=Xa(l),u=l,a=ho(t);u--;)i[u]=arguments[u];var s=l<3&&i[0]!==a&&i[l-1]!==a?[]:N(i,a);return(l-=s.length)<A?eo(n,e,zr,t.placeholder,An,i,s,An,An,A-l):o(this&&this!==kA&&this instanceof t?r:n,this,i)}var r=Hr(n);return t}function Yr(n){return function(e,A,t){var r=ts(e);if(!Wi(e)){var o=Co(A,3);e=wu(e),A=function(n){return o(r[n],n,r)}}var l=n(e,A,t);return l>-1?r[o?e[l]:l]:An}}function Nr(n){return co(function(e){var A=e.length,t=A,o=r.prototype.thru;for(n&&e.reverse();t--;){var l=e[t];if("function"!=typeof l)throw new ls(on);if(o&&!i&&"wrapper"==po(l))var i=new r([],!0)}for(t=i?t:A;++t<A;){l=e[t];var u=po(l),a="wrapper"==u?Bc(l):An;i=a&&To(a[0])&&a[1]==(bn|yn|gn|Sn)&&!a[4].length&&1==a[9]?i[po(a[0])].apply(i,a[3]):1==l.length&&To(l)?i[u]():i.thru(l)}return function(){var n=arguments,t=n[0];if(i&&1==n.length&&mm(t))return i.plant(t).value();for(var r=0,o=A?e[r].apply(this,n):t;++r<A;)o=e[r].call(this,o);return o}})}function zr(n,e,A,t,r,o,l,i,u,a){function s(){for(var C=arguments.length,y=Xa(C),B=C;B--;)y[B]=arguments[B];if(f)var g=ho(s),v=K(y,g);if(t&&(y=kr(y,t,r,f)),o&&(y=Qr(y,o,l,f)),C-=v,f&&C<a){var b=N(y,g);return eo(n,e,zr,s.placeholder,A,y,b,i,u,a-C)}var S=m?A:this,_=d?S[n]:n;return C=y.length,i?y=Fo(y,i):p&&C>1&&y.reverse(),c&&u<C&&(y.length=u),this&&this!==kA&&this instanceof s&&(_=h||Hr(_)),_.apply(S,y)}var c=e&bn,m=e&pn,d=e&hn,f=e&(yn|Bn),p=e&_n,h=d?An:Hr(n);return s}function qr(n,e){return function(A,t){return vt(A,n,e(t),{})}}function Jr(n,e){return function(A,t){var r;if(A===An&&t===An)return e;if(A!==An&&(r=A),t!==An){if(r===An)return t;"string"==typeof A||"string"==typeof t?(A=sr(A),t=sr(t)):(A=ar(A),t=ar(t)),r=n(A,t)}return r}}function Vr(n){return co(function(e){return e=d(e,O(Co())),$t(function(A){var t=this;return n(e,function(n){return o(n,t,A)})})})}function Zr(n,e){e=e===An?" ":sr(e);var A=e.length;if(A<2)return A?Xt(e,n):e;var t=Xt(e,Ts(n/Z(e)));return L(e)?vr(X(t),0,n).join(""):t.slice(0,n)}function Xr(n,e,A,t){function r(){for(var e=-1,u=arguments.length,a=-1,s=t.length,c=Xa(s+u),m=this&&this!==kA&&this instanceof r?i:n;++a<s;)c[a]=t[a];for(;u--;)c[a++]=arguments[++e];return o(m,l?A:this,c)}var l=e&pn,i=Hr(n);return r}function $r(n){return function(e,A,t){return t&&"number"!=typeof t&&Qo(e,A,t)&&(A=t=An),e=Cu(e),A===An?(A=e,e=0):A=Cu(A),t=t===An?e<A?1:-1:Cu(t),Zt(e,A,t,n)}}function no(n){return function(e,A){return"string"==typeof e&&"string"==typeof A||(e=gu(e),A=gu(A)),n(e,A)}}function eo(n,e,A,t,r,o,l,i,u,a){var s=e&yn,c=s?l:An,m=s?An:l,d=s?o:An,f=s?An:o;e|=s?gn:vn,(e&=~(s?vn:gn))&Cn||(e&=~(pn|hn));var p=[n,e,r,d,c,f,m,i,u,a],h=A.apply(An,p);return To(n)&&_c(h,p),h.placeholder=t,No(h,n,e)}function Ao(n){var e=As[n];return function(n,A){if(n=gu(n),(A=null==A?0:Ws(yu(A),292))&&Ks(n)){var t=(Su(n)+"e").split("e");return t=(Su(e(t[0]+"e"+(+t[1]+A)))+"e").split("e"),+(t[0]+"e"+(+t[1]-A))}return e(n)}}function to(n){return function(e){var A=bc(e);return A==qn?F(e):A==ne?q(e):P(e,n(e))}}function ro(n,e,A,t,r,o,l,i){var u=e&hn;if(!u&&"function"!=typeof n)throw new ls(on);var a=t?t.length:0;if(a||(e&=~(gn|vn),t=r=An),l=l===An?l:Ls(yu(l),0),i=i===An?i:yu(i),a-=r?r.length:0,e&vn){var s=t,c=r;t=r=An}var m=u?An:Bc(n),d=[n,e,A,t,r,s,c,o,l,i];if(m&&Ro(d,m),n=d[0],e=d[1],A=d[2],t=d[3],r=d[4],i=d[9]=d[9]===An?u?0:n.length:Ls(d[9]-a,0),!i&&e&(yn|Bn)&&(e&=~(yn|Bn)),e&&e!=pn)f=e==yn||e==Bn?Fr(n,e,i):e!=gn&&e!=(pn|gn)||r.length?zr.apply(An,d):Xr(n,e,A,t);else var f=jr(n,e,A);return No((m?fc:_c)(f,d),n,e)}function oo(n,e,A,t){return n===An||Li(n,as[A])&&!ms.call(t,A)?e:n}function lo(n,e,A,t,r,o){return nu(n)&&nu(e)&&(o.set(e,n),Lt(n,e,An,lo,o),o.delete(e)),n}function io(n){return au(n)?An:n}function uo(n,e,A,t,r,o){var l=A&dn,i=n.length,u=e.length;if(i!=u&&!(l&&u>i))return!1;var a=o.get(n);if(a&&o.get(e))return a==e;var s=-1,c=!0,m=A&fn?new fA:An;for(o.set(n,e),o.set(e,n);++s<i;){var d=n[s],f=e[s];if(t)var p=l?t(f,d,s,e,n,o):t(d,f,s,n,e,o);if(p!==An){if(p)continue;c=!1;break}if(m){if(!C(e,function(n,e){if(!U(m,e)&&(d===n||r(d,n,A,t,o)))return m.push(e)})){c=!1;break}}else if(d!==f&&!r(d,f,A,t,o)){c=!1;break}}return o.delete(n),o.delete(e),c}function ao(n,e,A,t,r,o,l){switch(A){case ie:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case le:return!(n.byteLength!=e.byteLength||!o(new vs(n),new vs(e)));case Wn:case Hn:case Jn:return Li(+n,+e);case Yn:return n.name==e.name&&n.message==e.message;case $n:case ee:return n==e+"";case qn:var i=F;case ne:var u=t&dn;if(i||(i=z),n.size!=e.size&&!u)return!1;var a=l.get(n);if(a)return a==e;t|=fn,l.set(n,e);var s=uo(i(n),i(e),t,r,o,l);return l.delete(n),s;case Ae:if(ic)return ic.call(n)==ic.call(e)}return!1}function so(n,e,A,t,r,o){var l=A&dn,i=mo(n),u=i.length;if(u!=mo(e).length&&!l)return!1;for(var a=u;a--;){var s=i[a];if(!(l?s in e:ms.call(e,s)))return!1}var c=o.get(n);if(c&&o.get(e))return c==e;var m=!0;o.set(n,e),o.set(e,n);for(var d=l;++a<u;){s=i[a];var f=n[s],p=e[s];if(t)var h=l?t(p,f,s,e,n,o):t(f,p,s,n,e,o);if(!(h===An?f===p||r(f,p,A,t,o):h)){m=!1;break}d||(d="constructor"==s)}if(m&&!d){var C=n.constructor,y=e.constructor;C!=y&&"constructor"in n&&"constructor"in e&&!("function"==typeof C&&C instanceof C&&"function"==typeof y&&y instanceof y)&&(m=!1)}return o.delete(n),o.delete(e),m}function co(n){return Mc(Wo(n,An,al),n+"")}function mo(n){return ft(n,wu,gc)}function fo(n){return ft(n,xu,vc)}function po(n){for(var e=n.name+"",A=nc[e],t=ms.call(nc,e)?A.length:0;t--;){var r=A[t],o=r.func;if(null==o||o==n)return r.name}return e}function ho(n){return(ms.call(A,"placeholder")?A:n).placeholder}function Co(){var n=A.iteratee||Ea;return n=n===Ea?Tt:n,arguments.length?n(arguments[0],arguments[1]):n}function yo(n,e){var A=n.__data__;return Oo(e)?A["string"==typeof e?"string":"hash"]:A.map}function Bo(n){for(var e=wu(n),A=e.length;A--;){var t=e[A],r=n[t];e[A]=[t,r,xo(r)]}return e}function go(n,e){var A=j(n,e);return kt(A)?A:An}function vo(n){var e=ms.call(n,Ds),A=n[Ds];try{n[Ds]=An;var t=!0}catch(n){}var r=ps.call(n);return t&&(e?n[Ds]=A:delete n[Ds]),r}function bo(n,e,A){for(var t=-1,r=A.length;++t<r;){var o=A[t],l=o.size;switch(o.type){case"drop":n+=l;break;case"dropRight":e-=l;break;case"take":e=Ws(e,n+l);break;case"takeRight":n=Ls(n,e-l)}}return{start:n,end:e}}function So(n){var e=n.match(we);return e?e[1].split(xe):[]}function _o(n,e,A){e=gr(e,n);for(var t=-1,r=e.length,o=!1;++t<r;){var l=Jo(e[t]);if(!(o=null!=n&&A(n,l)))break;n=n[l]}return o||++t!=r?o:!!(r=null==n?0:n.length)&&$i(r)&&ko(l,r)&&(mm(n)||cm(n))}function Io(n){var e=n.length,A=new n.constructor(e);return e&&"string"==typeof n[0]&&ms.call(n,"index")&&(A.index=n.index,A.input=n.input),A}function Mo(n){return"function"!=typeof n.constructor||wo(n)?{}:ac(Ss(n))}function Eo(n,e,A){var t=n.constructor;switch(e){case le:return Sr(n);case Wn:case Hn:return new t(+n);case ie:return _r(n,A);case ue:case ae:case se:case ce:case me:case de:case fe:case pe:case he:return Er(n,A);case qn:return new t;case Jn:case ee:return new t(n);case $n:return Ir(n);case ne:return new t;case Ae:return Mr(n)}}function Go(n,e){var A=e.length;if(!A)return n;var t=A-1;return e[t]=(A>1?"& ":"")+e[t],e=e.join(A>2?", ":" "),n.replace(Ue,"{\n/* [wrapped with "+e+"] */\n")}function Do(n){return mm(n)||cm(n)||!!(Es&&n&&n[Es])}function ko(n,e){var A=typeof n;return!!(e=null==e?Pn:e)&&("number"==A||"symbol"!=A&&Ne.test(n))&&n>-1&&n%1==0&&n<e}function Qo(n,e,A){if(!nu(A))return!1;var t=typeof e;return!!("number"==t?Wi(A)&&ko(e,A.length):"string"==t&&e in A)&&Li(A[e],n)}function Po(n,e){if(mm(n))return!1;var A=typeof n;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=n&&!mu(n))||(Ge.test(n)||!Ee.test(n)||null!=e&&n in ts(e))}function Oo(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}function To(n){var e=po(n),t=A[e];if("function"!=typeof t||!(e in y.prototype))return!1;if(n===t)return!0;var r=Bc(t);return!!r&&n===r[0]}function Uo(n){return!!fs&&fs in n}function wo(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||as)}function xo(n){return n===n&&!nu(n)}function Ko(n,e){return function(A){return null!=A&&(A[n]===e&&(e!==An||n in ts(A)))}}function Ro(n,e){var A=n[1],t=e[1],r=A|t,o=r<(pn|hn|bn),l=t==bn&&A==yn||t==bn&&A==Sn&&n[7].length<=e[8]||t==(bn|Sn)&&e[7].length<=e[8]&&A==yn;if(!o&&!l)return n;t&pn&&(n[2]=e[2],r|=A&pn?0:Cn);var i=e[3];if(i){var u=n[3];n[3]=u?kr(u,i,e[4]):i,n[4]=u?N(n[3],an):e[4]}return i=e[5],i&&(u=n[5],n[5]=u?Qr(u,i,e[6]):i,n[6]=u?N(n[5],an):e[6]),i=e[7],i&&(n[7]=i),t&bn&&(n[8]=null==n[8]?e[8]:Ws(n[8],e[8])),null==n[9]&&(n[9]=e[9]),n[0]=e[0],n[1]=r,n}function jo(n){var e=[];if(null!=n)for(var A in ts(n))e.push(A);return e}function Lo(n){return ps.call(n)}function Wo(n,e,A){return e=Ls(e===An?n.length-1:e,0),function(){for(var t=arguments,r=-1,l=Ls(t.length-e,0),i=Xa(l);++r<l;)i[r]=t[e+r];r=-1;for(var u=Xa(e+1);++r<e;)u[r]=t[r];return u[e]=A(i),o(n,this,u)}}function Ho(n,e){return e.length<2?n:dt(n,rr(e,0,-1))}function Fo(n,e){for(var A=n.length,t=Ws(e.length,A),r=Pr(n);t--;){var o=e[t];n[t]=ko(o,A)?r[o]:An}return n}function Yo(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]}function No(n,e,A){var t=e+"";return Mc(n,Go(t,Zo(So(t),A)))}function zo(n){var e=0,A=0;return function(){var t=Hs(),r=Gn-(t-A);if(A=t,r>0){if(++e>=En)return arguments[0]}else e=0;return n.apply(An,arguments)}}function qo(n,e){var A=-1,t=n.length,r=t-1;for(e=e===An?t:e;++A<e;){var o=Vt(A,r),l=n[o];n[o]=n[A],n[A]=l}return n.length=e,n}function Jo(n){if("string"==typeof n||mu(n))return n;var e=n+"";return"0"==e&&1/n==-Qn?"-0":e}function Vo(n){if(null!=n){try{return cs.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Zo(n,e){return i(Kn,function(A){var t="_."+A[0];e&A[1]&&!c(n,t)&&n.push(t)}),n.sort()}function Xo(n){if(n instanceof y)return n.clone();var e=new r(n.__wrapped__,n.__chain__);return e.__actions__=Pr(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}function $o(n,e,A){e=(A?Qo(n,e,A):e===An)?1:Ls(yu(e),0);var t=null==n?0:n.length;if(!t||e<1)return[];for(var r=0,o=0,l=Xa(Ts(t/e));r<t;)l[o++]=rr(n,r,r+=e);return l}function nl(n){for(var e=-1,A=null==n?0:n.length,t=0,r=[];++e<A;){var o=n[e];o&&(r[t++]=o)}return r}function el(){var n=arguments.length;if(!n)return[];for(var e=Xa(n-1),A=arguments[0],t=n;t--;)e[t-1]=arguments[t];return f(mm(A)?Pr(A):[A],at(e,1))}function Al(n,e,A){var t=null==n?0:n.length;return t?(e=A||e===An?1:yu(e),rr(n,e<0?0:e,t)):[]}function tl(n,e,A){var t=null==n?0:n.length;return t?(e=A||e===An?1:yu(e),e=t-e,rr(n,0,e<0?0:e)):[]}function rl(n,e){return n&&n.length?fr(n,Co(e,3),!0,!0):[]}function ol(n,e){return n&&n.length?fr(n,Co(e,3),!0):[]}function ll(n,e,A,t){var r=null==n?0:n.length;return r?(A&&"number"!=typeof A&&Qo(n,e,A)&&(A=0,t=r),it(n,e,A,t)):[]}function il(n,e,A){var t=null==n?0:n.length;if(!t)return-1;var r=null==A?0:yu(A);return r<0&&(r=Ls(t+r,0)),v(n,Co(e,3),r)}function ul(n,e,A){var t=null==n?0:n.length;if(!t)return-1;var r=t-1;return A!==An&&(r=yu(A),r=A<0?Ls(t+r,0):Ws(r,t-1)),v(n,Co(e,3),r,!0)}function al(n){return(null==n?0:n.length)?at(n,1):[]}function sl(n){return(null==n?0:n.length)?at(n,Qn):[]}function cl(n,e){return(null==n?0:n.length)?(e=e===An?1:yu(e),at(n,e)):[]}function ml(n){for(var e=-1,A=null==n?0:n.length,t={};++e<A;){var r=n[e];t[r[0]]=r[1]}return t}function dl(n){return n&&n.length?n[0]:An}function fl(n,e,A){var t=null==n?0:n.length;if(!t)return-1;var r=null==A?0:yu(A);return r<0&&(r=Ls(t+r,0)),b(n,e,r)}function pl(n){return(null==n?0:n.length)?rr(n,0,-1):[]}function hl(n,e){return null==n?"":Rs.call(n,e)}function Cl(n){var e=null==n?0:n.length;return e?n[e-1]:An}function yl(n,e,A){var t=null==n?0:n.length;if(!t)return-1;var r=t;return A!==An&&(r=yu(A),r=r<0?Ls(t+r,0):Ws(r,t-1)),e===e?V(n,e,r):v(n,_,r,!0)}function Bl(n,e){return n&&n.length?Ht(n,yu(e)):An}function gl(n,e){return n&&n.length&&e&&e.length?qt(n,e):n}function vl(n,e,A){return n&&n.length&&e&&e.length?qt(n,e,Co(A,2)):n}function bl(n,e,A){return n&&n.length&&e&&e.length?qt(n,e,An,A):n}function Sl(n,e){var A=[];if(!n||!n.length)return A;var t=-1,r=[],o=n.length;for(e=Co(e,3);++t<o;){var l=n[t];e(l,t,n)&&(A.push(l),r.push(t))}return Jt(n,r),A}function _l(n){return null==n?n:Ns.call(n)}function Il(n,e,A){var t=null==n?0:n.length;return t?(A&&"number"!=typeof A&&Qo(n,e,A)?(e=0,A=t):(e=null==e?0:yu(e),A=A===An?t:yu(A)),rr(n,e,A)):[]}function Ml(n,e){return lr(n,e)}function El(n,e,A){return ir(n,e,Co(A,2))}function Gl(n,e){var A=null==n?0:n.length;if(A){var t=lr(n,e);if(t<A&&Li(n[t],e))return t}return-1}function Dl(n,e){return lr(n,e,!0)}function kl(n,e,A){return ir(n,e,Co(A,2),!0)}function Ql(n,e){if(null==n?0:n.length){var A=lr(n,e,!0)-1;if(Li(n[A],e))return A}return-1}function Pl(n){return n&&n.length?ur(n):[]}function Ol(n,e){return n&&n.length?ur(n,Co(e,2)):[]}function Tl(n){var e=null==n?0:n.length;return e?rr(n,1,e):[]}function Ul(n,e,A){return n&&n.length?(e=A||e===An?1:yu(e),rr(n,0,e<0?0:e)):[]}function wl(n,e,A){var t=null==n?0:n.length;return t?(e=A||e===An?1:yu(e),e=t-e,rr(n,e<0?0:e,t)):[]}function xl(n,e){return n&&n.length?fr(n,Co(e,3),!1,!0):[]}function Kl(n,e){return n&&n.length?fr(n,Co(e,3)):[]}function Rl(n){return n&&n.length?cr(n):[]}function jl(n,e){return n&&n.length?cr(n,Co(e,2)):[]}function Ll(n,e){return e="function"==typeof e?e:An,n&&n.length?cr(n,An,e):[]}function Wl(n){if(!n||!n.length)return[];var e=0;return n=s(n,function(n){if(Hi(n))return e=Ls(n.length,e),!0}),Q(e,function(e){return d(n,M(e))})}function Hl(n,e){if(!n||!n.length)return[];var A=Wl(n);return null==e?A:d(A,function(n){return o(e,An,n)})}function Fl(n,e){return Cr(n||[],e||[],WA)}function Yl(n,e){return Cr(n||[],e||[],Ar)}function Nl(n){var e=A(n);return e.__chain__=!0,e}function zl(n,e){return e(n),n}function ql(n,e){return e(n)}function Jl(){return Nl(this)}function Vl(){return new r(this.value(),this.__chain__)}function Zl(){this.__values__===An&&(this.__values__=hu(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?An:this.__values__[this.__index__++]}}function Xl(){return this}function $l(n){for(var e,A=this;A instanceof t;){var r=Xo(A);r.__index__=0,r.__values__=An,e?o.__wrapped__=r:e=r;var o=r;A=A.__wrapped__}return o.__wrapped__=n,e}function ni(){var n=this.__wrapped__;if(n instanceof y){var e=n;return this.__actions__.length&&(e=new y(this)),e=e.reverse(),e.__actions__.push({func:ql,args:[_l],thisArg:An}),new r(e,this.__chain__)}return this.thru(_l)}function ei(){return pr(this.__wrapped__,this.__actions__)}function Ai(n,e,A){var t=mm(n)?a:ot;return A&&Qo(n,e,A)&&(e=An),t(n,Co(e,3))}function ti(n,e){return(mm(n)?s:ut)(n,Co(e,3))}function ri(n,e){return at(si(n,e),1)}function oi(n,e){return at(si(n,e),Qn)}function li(n,e,A){return A=A===An?1:yu(A),at(si(n,e),A)}function ii(n,e){return(mm(n)?i:sc)(n,Co(e,3))}function ui(n,e){return(mm(n)?u:cc)(n,Co(e,3))}function ai(n,e,A,t){n=Wi(n)?n:Ju(n),A=A&&!t?yu(A):0;var r=n.length;return A<0&&(A=Ls(r+A,0)),cu(n)?A<=r&&n.indexOf(e,A)>-1:!!r&&b(n,e,A)>-1}function si(n,e){return(mm(n)?d:Kt)(n,Co(e,3))}function ci(n,e,A,t){return null==n?[]:(mm(e)||(e=null==e?[]:[e]),A=t?An:A,mm(A)||(A=null==A?[]:[A]),Ft(n,e,A))}function mi(n,e,A){var t=mm(n)?p:G,r=arguments.length<3;return t(n,Co(e,4),A,r,sc)}function di(n,e,A){var t=mm(n)?h:G,r=arguments.length<3;return t(n,Co(e,4),A,r,cc)}function fi(n,e){return(mm(n)?s:ut)(n,Gi(Co(e,3)))}function pi(n){return(mm(n)?QA:nr)(n)}function hi(n,e,A){return e=(A?Qo(n,e,A):e===An)?1:yu(e),(mm(n)?PA:er)(n,e)}function Ci(n){return(mm(n)?TA:tr)(n)}function yi(n){if(null==n)return 0;if(Wi(n))return cu(n)?Z(n):n.length;var e=bc(n);return e==qn||e==ne?n.size:Ut(n).length}function Bi(n,e,A){var t=mm(n)?C:or;return A&&Qo(n,e,A)&&(e=An),t(n,Co(e,3))}function gi(n,e){if("function"!=typeof e)throw new ls(on);return n=yu(n),function(){if(--n<1)return e.apply(this,arguments)}}function vi(n,e,A){return e=A?An:e,e=n&&null==e?n.length:e,ro(n,bn,An,An,An,An,e)}function bi(n,e){var A;if("function"!=typeof e)throw new ls(on);return n=yu(n),function(){return--n>0&&(A=e.apply(this,arguments)),n<=1&&(e=An),A}}function Si(n,e,A){e=A?An:e;var t=ro(n,yn,An,An,An,An,An,e);return t.placeholder=Si.placeholder,t}function _i(n,e,A){e=A?An:e;var t=ro(n,Bn,An,An,An,An,An,e);return t.placeholder=_i.placeholder,t}function Ii(n,e,A){function t(e){var A=m,t=d;return m=d=An,y=e,p=n.apply(t,A)}function r(n){return y=n,h=Ic(i,e),B?t(n):p}function o(n){var A=n-C,t=n-y,r=e-A;return g?Ws(r,f-t):r}function l(n){var A=n-C,t=n-y;return C===An||A>=e||A<0||g&&t>=f}function i(){var n=nm();if(l(n))return u(n);h=Ic(i,o(n))}function u(n){return h=An,v&&m?t(n):(m=d=An,p)}function a(){h!==An&&Cc(h),y=0,m=C=d=h=An}function s(){return h===An?p:u(nm())}function c(){var n=nm(),A=l(n);if(m=arguments,d=this,C=n,A){if(h===An)return r(C);if(g)return Cc(h),h=Ic(i,e),t(C)}return h===An&&(h=Ic(i,e)),p}var m,d,f,p,h,C,y=0,B=!1,g=!1,v=!0;if("function"!=typeof n)throw new ls(on);return e=gu(e)||0,nu(A)&&(B=!!A.leading,g="maxWait"in A,f=g?Ls(gu(A.maxWait)||0,e):f,v="trailing"in A?!!A.trailing:v),c.cancel=a,c.flush=s,c}function Mi(n){return ro(n,_n)}function Ei(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new ls(on);var A=function(){var t=arguments,r=e?e.apply(this,t):t[0],o=A.cache;if(o.has(r))return o.get(r);var l=n.apply(this,t);return A.cache=o.set(r,l)||o,l};return A.cache=new(Ei.Cache||lA),A}function Gi(n){if("function"!=typeof n)throw new ls(on);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}function Di(n){return bi(2,n)}function ki(n,e){if("function"!=typeof n)throw new ls(on);return e=e===An?e:yu(e),$t(n,e)}function Qi(n,e){if("function"!=typeof n)throw new ls(on);return e=null==e?0:Ls(yu(e),0),$t(function(A){var t=A[e],r=vr(A,0,e);return t&&f(r,t),o(n,this,r)})}function Pi(n,e,A){var t=!0,r=!0;if("function"!=typeof n)throw new ls(on);return nu(A)&&(t="leading"in A?!!A.leading:t,r="trailing"in A?!!A.trailing:r),Ii(n,e,{leading:t,maxWait:e,trailing:r})}function Oi(n){return vi(n,1)}function Ti(n,e){return lm(Br(e),n)}function Ui(){if(!arguments.length)return[];var n=arguments[0];return mm(n)?n:[n]}function wi(n){return nt(n,mn)}function xi(n,e){return e="function"==typeof e?e:An,nt(n,mn,e)}function Ki(n){return nt(n,sn|mn)}function Ri(n,e){return e="function"==typeof e?e:An,nt(n,sn|mn,e)}function ji(n,e){return null==e||At(n,e,wu(e))}function Li(n,e){return n===e||n!==n&&e!==e}function Wi(n){return null!=n&&$i(n.length)&&!Zi(n)}function Hi(n){return eu(n)&&Wi(n)}function Fi(n){return!0===n||!1===n||eu(n)&&pt(n)==Wn}function Yi(n){return eu(n)&&1===n.nodeType&&!au(n)}function Ni(n){if(null==n)return!0;if(Wi(n)&&(mm(n)||"string"==typeof n||"function"==typeof n.splice||fm(n)||Bm(n)||cm(n)))return!n.length;var e=bc(n);if(e==qn||e==ne)return!n.size;if(wo(n))return!Ut(n).length;for(var A in n)if(ms.call(n,A))return!1;return!0}function zi(n,e){return Mt(n,e)}function qi(n,e,A){A="function"==typeof A?A:An;var t=A?A(n,e):An;return t===An?Mt(n,e,An,A):!!t}function Ji(n){if(!eu(n))return!1;var e=pt(n);return e==Yn||e==Fn||"string"==typeof n.message&&"string"==typeof n.name&&!au(n)}function Vi(n){return"number"==typeof n&&Ks(n)}function Zi(n){if(!nu(n))return!1;var e=pt(n);return e==Nn||e==zn||e==Ln||e==Xn}function Xi(n){return"number"==typeof n&&n==yu(n)}function $i(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Pn}function nu(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}function eu(n){return null!=n&&"object"==typeof n}function Au(n,e){return n===e||Dt(n,e,Bo(e))}function tu(n,e,A){return A="function"==typeof A?A:An,Dt(n,e,Bo(e),A)}function ru(n){return uu(n)&&n!=+n}function ou(n){if(Sc(n))throw new ns(rn);return kt(n)}function lu(n){return null===n}function iu(n){return null==n}function uu(n){return"number"==typeof n||eu(n)&&pt(n)==Jn}function au(n){if(!eu(n)||pt(n)!=Zn)return!1;var e=Ss(n);if(null===e)return!0;var A=ms.call(e,"constructor")&&e.constructor;return"function"==typeof A&&A instanceof A&&cs.call(A)==hs}function su(n){return Xi(n)&&n>=-Pn&&n<=Pn}function cu(n){return"string"==typeof n||!mm(n)&&eu(n)&&pt(n)==ee}function mu(n){return"symbol"==typeof n||eu(n)&&pt(n)==Ae}function du(n){return n===An}function fu(n){return eu(n)&&bc(n)==re}function pu(n){return eu(n)&&pt(n)==oe}function hu(n){if(!n)return[];if(Wi(n))return cu(n)?X(n):Pr(n);if(Gs&&n[Gs])return H(n[Gs]());var e=bc(n);return(e==qn?F:e==ne?z:Ju)(n)}function Cu(n){if(!n)return 0===n?n:0;if((n=gu(n))===Qn||n===-Qn){return(n<0?-1:1)*On}return n===n?n:0}function yu(n){var e=Cu(n),A=e%1;return e===e?A?e-A:e:0}function Bu(n){return n?$A(yu(n),0,Un):0}function gu(n){if("number"==typeof n)return n;if(mu(n))return Tn;if(nu(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=nu(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(Pe,"");var A=He.test(n);return A||Ye.test(n)?EA(n.slice(2),A?2:8):We.test(n)?Tn:+n}function vu(n){return Or(n,xu(n))}function bu(n){return n?$A(yu(n),-Pn,Pn):0===n?n:0}function Su(n){return null==n?"":sr(n)}function _u(n,e){var A=ac(n);return null==e?A:JA(A,e)}function Iu(n,e){return g(n,Co(e,3),st)}function Mu(n,e){return g(n,Co(e,3),ct)}function Eu(n,e){return null==n?n:mc(n,Co(e,3),xu)}function Gu(n,e){return null==n?n:dc(n,Co(e,3),xu)}function Du(n,e){return n&&st(n,Co(e,3))}function ku(n,e){return n&&ct(n,Co(e,3))}function Qu(n){return null==n?[]:mt(n,wu(n))}function Pu(n){return null==n?[]:mt(n,xu(n))}function Ou(n,e,A){var t=null==n?An:dt(n,e);return t===An?A:t}function Tu(n,e){return null!=n&&_o(n,e,Ct)}function Uu(n,e){return null!=n&&_o(n,e,yt)}function wu(n){return Wi(n)?DA(n):Ut(n)}function xu(n){return Wi(n)?DA(n,!0):wt(n)}function Ku(n,e){var A={};return e=Co(e,3),st(n,function(n,t,r){ZA(A,e(n,t,r),n)}),A}function Ru(n,e){var A={};return e=Co(e,3),st(n,function(n,t,r){ZA(A,t,e(n,t,r))}),A}function ju(n,e){return Lu(n,Gi(Co(e)))}function Lu(n,e){if(null==n)return{};var A=d(fo(n),function(n){return[n]});return e=Co(e),Nt(n,A,function(n,A){return e(n,A[0])})}function Wu(n,e,A){e=gr(e,n);var t=-1,r=e.length;for(r||(r=1,n=An);++t<r;){var o=null==n?An:n[Jo(e[t])];o===An&&(t=r,o=A),n=Zi(o)?o.call(n):o}return n}function Hu(n,e,A){return null==n?n:Ar(n,e,A)}function Fu(n,e,A,t){return t="function"==typeof t?t:An,null==n?n:Ar(n,e,A,t)}function Yu(n,e,A){var t=mm(n),r=t||fm(n)||Bm(n);if(e=Co(e,4),null==A){var o=n&&n.constructor;A=r?t?new o:[]:nu(n)&&Zi(o)?ac(Ss(n)):{}}return(r?i:st)(n,function(n,t,r){return e(A,n,t,r)}),A}function Nu(n,e){return null==n||mr(n,e)}function zu(n,e,A){return null==n?n:dr(n,e,Br(A))}function qu(n,e,A,t){return t="function"==typeof t?t:An,null==n?n:dr(n,e,Br(A),t)}function Ju(n){return null==n?[]:T(n,wu(n))}function Vu(n){return null==n?[]:T(n,xu(n))}function Zu(n,e,A){return A===An&&(A=e,e=An),A!==An&&(A=gu(A),A=A===A?A:0),e!==An&&(e=gu(e),e=e===e?e:0),$A(gu(n),e,A)}function Xu(n,e,A){return e=Cu(e),A===An?(A=e,e=0):A=Cu(A),n=gu(n),Bt(n,e,A)}function $u(n,e,A){if(A&&"boolean"!=typeof A&&Qo(n,e,A)&&(e=A=An),A===An&&("boolean"==typeof e?(A=e,e=An):"boolean"==typeof n&&(A=n,n=An)),n===An&&e===An?(n=0,e=1):(n=Cu(n),e===An?(e=n,n=0):e=Cu(e)),n>e){var t=n;n=e,e=t}if(A||n%1||e%1){var r=Ys();return Ws(n+r*(e-n+MA("1e-"+((r+"").length-1))),e)}return Vt(n,e)}function na(n){return Ym(Su(n).toLowerCase())}function ea(n){return(n=Su(n))&&n.replace(ze,HA).replace(dA,"")}function Aa(n,e,A){n=Su(n),e=sr(e);var t=n.length;A=A===An?t:$A(yu(A),0,t);var r=A;return(A-=e.length)>=0&&n.slice(A,r)==e}function ta(n){return n=Su(n),n&&Se.test(n)?n.replace(ve,FA):n}function ra(n){return n=Su(n),n&&Qe.test(n)?n.replace(ke,"\\$&"):n}function oa(n,e,A){n=Su(n),e=yu(e);var t=e?Z(n):0;if(!e||t>=e)return n;var r=(e-t)/2;return Zr(Us(r),A)+n+Zr(Ts(r),A)}function la(n,e,A){n=Su(n),e=yu(e);var t=e?Z(n):0;return e&&t<e?n+Zr(e-t,A):n}function ia(n,e,A){n=Su(n),e=yu(e);var t=e?Z(n):0;return e&&t<e?Zr(e-t,A)+n:n}function ua(n,e,A){return A||null==e?e=0:e&&(e=+e),Fs(Su(n).replace(Oe,""),e||0)}function aa(n,e,A){return e=(A?Qo(n,e,A):e===An)?1:yu(e),Xt(Su(n),e)}function sa(){var n=arguments,e=Su(n[0]);return n.length<3?e:e.replace(n[1],n[2])}function ca(n,e,A){return A&&"number"!=typeof A&&Qo(n,e,A)&&(e=A=An),(A=A===An?Un:A>>>0)?(n=Su(n),n&&("string"==typeof e||null!=e&&!Cm(e))&&!(e=sr(e))&&L(n)?vr(X(n),0,A):n.split(e,A)):[]}function ma(n,e,A){return n=Su(n),A=null==A?0:$A(yu(A),0,n.length),e=sr(e),n.slice(A,A+e.length)==e}function da(n,e,t){var r=A.templateSettings;t&&Qo(n,e,t)&&(e=An),n=Su(n),e=_m({},e,r,oo);var o,l,i=_m({},e.imports,r.imports,oo),u=wu(i),a=T(i,u),s=0,c=e.interpolate||qe,m="__p += '",d=rs((e.escape||qe).source+"|"+c.source+"|"+(c===Me?je:qe).source+"|"+(e.evaluate||qe).source+"|$","g"),f="//# sourceURL="+(ms.call(e,"sourceURL")?(e.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++BA+"]")+"\n";n.replace(d,function(e,A,t,r,i,u){return t||(t=r),m+=n.slice(s,u).replace(Je,R),A&&(o=!0,m+="' +\n__e("+A+") +\n'"),i&&(l=!0,m+="';\n"+i+";\n__p += '"),t&&(m+="' +\n((__t = ("+t+")) == null ? '' : __t) +\n'"),s=u+e.length,e}),m+="';\n";var p=ms.call(e,"variable")&&e.variable;p||(m="with (obj) {\n"+m+"\n}\n"),m=(l?m.replace(Ce,""):m).replace(ye,"$1").replace(Be,"$1;"),m="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var h=Nm(function(){return es(u,f+"return "+m).apply(An,a)});if(h.source=m,Ji(h))throw h;return h}function fa(n){return Su(n).toLowerCase()}function pa(n){return Su(n).toUpperCase()}function ha(n,e,A){if((n=Su(n))&&(A||e===An))return n.replace(Pe,"");if(!n||!(e=sr(e)))return n;var t=X(n),r=X(e);return vr(t,w(t,r),x(t,r)+1).join("")}function Ca(n,e,A){if((n=Su(n))&&(A||e===An))return n.replace(Te,"");if(!n||!(e=sr(e)))return n;var t=X(n);return vr(t,0,x(t,X(e))+1).join("")}function ya(n,e,A){if((n=Su(n))&&(A||e===An))return n.replace(Oe,"");if(!n||!(e=sr(e)))return n;var t=X(n);return vr(t,w(t,X(e))).join("")}function Ba(n,e){var A=In,t=Mn;if(nu(e)){var r="separator"in e?e.separator:r;A="length"in e?yu(e.length):A,t="omission"in e?sr(e.omission):t}n=Su(n);var o=n.length;if(L(n)){var l=X(n);o=l.length}if(A>=o)return n;var i=A-Z(t);if(i<1)return t;var u=l?vr(l,0,i).join(""):n.slice(0,i);if(r===An)return u+t;if(l&&(i+=u.length-i),Cm(r)){if(n.slice(i).search(r)){var a,s=u;for(r.global||(r=rs(r.source,Su(Le.exec(r))+"g")),r.lastIndex=0;a=r.exec(s);)var c=a.index;u=u.slice(0,c===An?i:c)}}else if(n.indexOf(sr(r),i)!=i){var m=u.lastIndexOf(r);m>-1&&(u=u.slice(0,m))}return u+t}function ga(n){return n=Su(n),n&&be.test(n)?n.replace(ge,YA):n}function va(n,e,A){return n=Su(n),e=A?An:e,e===An?W(n)?en(n):B(n):n.match(e)||[]}function ba(n){var e=null==n?0:n.length,A=Co();return n=e?d(n,function(n){if("function"!=typeof n[1])throw new ls(on);return[A(n[0]),n[1]]}):[],$t(function(A){for(var t=-1;++t<e;){var r=n[t];if(o(r[0],this,A))return o(r[1],this,A)}})}function Sa(n){return et(nt(n,sn))}function _a(n){return function(){return n}}function Ia(n,e){return null==n||n!==n?e:n}function Ma(n){return n}function Ea(n){return Tt("function"==typeof n?n:nt(n,sn))}function Ga(n){return Rt(nt(n,sn))}function Da(n,e){return jt(n,nt(e,sn))}function ka(n,e,A){var t=wu(e),r=mt(e,t);null!=A||nu(e)&&(r.length||!t.length)||(A=e,e=n,n=this,r=mt(e,wu(e)));var o=!(nu(A)&&"chain"in A&&!A.chain),l=Zi(n);return i(r,function(A){var t=e[A];n[A]=t,l&&(n.prototype[A]=function(){var e=this.__chain__;if(o||e){var A=n(this.__wrapped__);return(A.__actions__=Pr(this.__actions__)).push({func:t,args:arguments,thisArg:n}),A.__chain__=e,A}return t.apply(n,f([this.value()],arguments))})}),n}function Qa(){return kA._===this&&(kA._=Cs),this}function Pa(){}function Oa(n){return n=yu(n),$t(function(e){return Ht(e,n)})}function Ta(n){return Po(n)?M(Jo(n)):zt(n)}function Ua(n){return function(e){return null==n?An:dt(n,e)}}function wa(){return[]}function xa(){return!1}function Ka(){return{}}function Ra(){return""}function ja(){return!0}function La(n,e){if((n=yu(n))<1||n>Pn)return[];var A=Un,t=Ws(n,Un);e=Co(e),n-=Un;for(var r=Q(t,e);++A<n;)e(A);return r}function Wa(n){return mm(n)?d(n,Jo):mu(n)?[n]:Pr(Ec(Su(n)))}function Ha(n){var e=++ds;return Su(n)+e}function Fa(n){return n&&n.length?lt(n,Ma,ht):An}function Ya(n,e){return n&&n.length?lt(n,Co(e,2),ht):An}function Na(n){return I(n,Ma)}function za(n,e){return I(n,Co(e,2))}function qa(n){return n&&n.length?lt(n,Ma,xt):An}function Ja(n,e){return n&&n.length?lt(n,Co(e,2),xt):An}function Va(n){return n&&n.length?k(n,Ma):0}function Za(n,e){return n&&n.length?k(n,Co(e,2)):0}e=null==e?kA:NA.defaults(kA.Object(),e,NA.pick(kA,yA));var Xa=e.Array,$a=e.Date,ns=e.Error,es=e.Function,As=e.Math,ts=e.Object,rs=e.RegExp,os=e.String,ls=e.TypeError,is=Xa.prototype,us=es.prototype,as=ts.prototype,ss=e["__core-js_shared__"],cs=us.toString,ms=as.hasOwnProperty,ds=0,fs=function(){var n=/[^.]+$/.exec(ss&&ss.keys&&ss.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ps=as.toString,hs=cs.call(ts),Cs=kA._,ys=rs("^"+cs.call(ms).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bs=OA?e.Buffer:An,gs=e.Symbol,vs=e.Uint8Array,bs=Bs?Bs.allocUnsafe:An,Ss=Y(ts.getPrototypeOf,ts),_s=ts.create,Is=as.propertyIsEnumerable,Ms=is.splice,Es=gs?gs.isConcatSpreadable:An,Gs=gs?gs.iterator:An,Ds=gs?gs.toStringTag:An,ks=function(){try{var n=go(ts,"defineProperty");return n({},"",{}),n}catch(n){}}(),Qs=e.clearTimeout!==kA.clearTimeout&&e.clearTimeout,Ps=$a&&$a.now!==kA.Date.now&&$a.now,Os=e.setTimeout!==kA.setTimeout&&e.setTimeout,Ts=As.ceil,Us=As.floor,ws=ts.getOwnPropertySymbols,xs=Bs?Bs.isBuffer:An,Ks=e.isFinite,Rs=is.join,js=Y(ts.keys,ts),Ls=As.max,Ws=As.min,Hs=$a.now,Fs=e.parseInt,Ys=As.random,Ns=is.reverse,zs=go(e,"DataView"),qs=go(e,"Map"),Js=go(e,"Promise"),Vs=go(e,"Set"),Zs=go(e,"WeakMap"),Xs=go(ts,"create"),$s=Zs&&new Zs,nc={},ec=Vo(zs),Ac=Vo(qs),tc=Vo(Js),rc=Vo(Vs),oc=Vo(Zs),lc=gs?gs.prototype:An,ic=lc?lc.valueOf:An,uc=lc?lc.toString:An,ac=function(){function n(){}return function(e){if(!nu(e))return{};if(_s)return _s(e);n.prototype=e;var A=new n;return n.prototype=An,A}}();A.templateSettings={escape:_e,evaluate:Ie,interpolate:Me,variable:"",imports:{_:A}},A.prototype=t.prototype,A.prototype.constructor=A,r.prototype=ac(t.prototype),r.prototype.constructor=r,y.prototype=ac(t.prototype),y.prototype.constructor=y,nn.prototype.clear=Ke,nn.prototype.delete=Ve,nn.prototype.get=Ze,nn.prototype.has=Xe,nn.prototype.set=$e,nA.prototype.clear=eA,nA.prototype.delete=AA,nA.prototype.get=tA,nA.prototype.has=rA,nA.prototype.set=oA,lA.prototype.clear=iA,lA.prototype.delete=uA,lA.prototype.get=aA,lA.prototype.has=sA,lA.prototype.set=cA,fA.prototype.add=fA.prototype.push=pA,fA.prototype.has=hA,CA.prototype.clear=bA,CA.prototype.delete=SA,CA.prototype.get=_A,CA.prototype.has=IA,CA.prototype.set=GA;var sc=Kr(st),cc=Kr(ct,!0),mc=Rr(),dc=Rr(!0),fc=$s?function(n,e){return $s.set(n,e),n}:Ma,pc=ks?function(n,e){return ks(n,"toString",{configurable:!0,enumerable:!1,value:_a(e),writable:!0})}:Ma,hc=$t,Cc=Qs||function(n){return kA.clearTimeout(n)},yc=Vs&&1/z(new Vs([,-0]))[1]==Qn?function(n){return new Vs(n)}:Pa,Bc=$s?function(n){return $s.get(n)}:Pa,gc=ws?function(n){return null==n?[]:(n=ts(n),s(ws(n),function(e){return Is.call(n,e)}))}:wa,vc=ws?function(n){for(var e=[];n;)f(e,gc(n)),n=Ss(n);return e}:wa,bc=pt;(zs&&bc(new zs(new ArrayBuffer(1)))!=ie||qs&&bc(new qs)!=qn||Js&&"[object Promise]"!=bc(Js.resolve())||Vs&&bc(new Vs)!=ne||Zs&&bc(new Zs)!=re)&&(bc=function(n){var e=pt(n),A=e==Zn?n.constructor:An,t=A?Vo(A):"";if(t)switch(t){case ec:return ie;case Ac:return qn;case tc:return"[object Promise]";case rc:return ne;case oc:return re}return e});var Sc=ss?Zi:xa,_c=zo(fc),Ic=Os||function(n,e){return kA.setTimeout(n,e)},Mc=zo(pc),Ec=function(n){var e=Ei(n,function(n){return A.size===un&&A.clear(),n}),A=e.cache;return e}(function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(De,function(n,A,t,r){e.push(t?r.replace(Re,"$1"):A||n)}),e}),Gc=$t(function(n,e){return Hi(n)?rt(n,at(e,1,Hi,!0)):[]}),Dc=$t(function(n,e){var A=Cl(e);return Hi(A)&&(A=An),Hi(n)?rt(n,at(e,1,Hi,!0),Co(A,2)):[]}),kc=$t(function(n,e){var A=Cl(e);return Hi(A)&&(A=An),Hi(n)?rt(n,at(e,1,Hi,!0),An,A):[]}),Qc=$t(function(n){var e=d(n,yr);return e.length&&e[0]===n[0]?gt(e):[]}),Pc=$t(function(n){var e=Cl(n),A=d(n,yr);return e===Cl(A)?e=An:A.pop(),A.length&&A[0]===n[0]?gt(A,Co(e,2)):[]}),Oc=$t(function(n){var e=Cl(n),A=d(n,yr);return e="function"==typeof e?e:An,e&&A.pop(),A.length&&A[0]===n[0]?gt(A,An,e):[]}),Tc=$t(gl),Uc=co(function(n,e){var A=null==n?0:n.length,t=XA(n,e);return Jt(n,d(e,function(n){return ko(n,A)?+n:n}).sort(Gr)),t}),wc=$t(function(n){return cr(at(n,1,Hi,!0))}),xc=$t(function(n){var e=Cl(n);return Hi(e)&&(e=An),cr(at(n,1,Hi,!0),Co(e,2))}),Kc=$t(function(n){var e=Cl(n);return e="function"==typeof e?e:An,cr(at(n,1,Hi,!0),An,e)}),Rc=$t(function(n,e){return Hi(n)?rt(n,e):[]}),jc=$t(function(n){return hr(s(n,Hi))}),Lc=$t(function(n){var e=Cl(n);return Hi(e)&&(e=An),hr(s(n,Hi),Co(e,2))}),Wc=$t(function(n){var e=Cl(n);return e="function"==typeof e?e:An,hr(s(n,Hi),An,e)}),Hc=$t(Wl),Fc=$t(function(n){var e=n.length,A=e>1?n[e-1]:An;return A="function"==typeof A?(n.pop(),A):An,Hl(n,A)}),Yc=co(function(n){var e=n.length,A=e?n[0]:0,t=this.__wrapped__,o=function(e){return XA(e,n)};return!(e>1||this.__actions__.length)&&t instanceof y&&ko(A)?(t=t.slice(A,+A+(e?1:0)),t.__actions__.push({func:ql,args:[o],thisArg:An}),new r(t,this.__chain__).thru(function(n){return e&&!n.length&&n.push(An),n})):this.thru(o)}),Nc=wr(function(n,e,A){ms.call(n,A)?++n[A]:ZA(n,A,1)}),zc=Yr(il),qc=Yr(ul),Jc=wr(function(n,e,A){ms.call(n,A)?n[A].push(e):ZA(n,A,[e])}),Vc=$t(function(n,e,A){var t=-1,r="function"==typeof e,l=Wi(n)?Xa(n.length):[];return sc(n,function(n){l[++t]=r?o(e,n,A):bt(n,e,A)}),l}),Zc=wr(function(n,e,A){ZA(n,A,e)}),Xc=wr(function(n,e,A){n[A?0:1].push(e)},function(){return[[],[]]}),$c=$t(function(n,e){if(null==n)return[];var A=e.length;return A>1&&Qo(n,e[0],e[1])?e=[]:A>2&&Qo(e[0],e[1],e[2])&&(e=[e[0]]),Ft(n,at(e,1),[])}),nm=Ps||function(){return kA.Date.now()},em=$t(function(n,e,A){var t=pn;if(A.length){var r=N(A,ho(em));t|=gn}return ro(n,t,e,A,r)}),Am=$t(function(n,e,A){var t=pn|hn;if(A.length){var r=N(A,ho(Am));t|=gn}return ro(e,t,n,A,r)}),tm=$t(function(n,e){return tt(n,1,e)}),rm=$t(function(n,e,A){return tt(n,gu(e)||0,A)});Ei.Cache=lA;var om=hc(function(n,e){e=1==e.length&&mm(e[0])?d(e[0],O(Co())):d(at(e,1),O(Co()));var A=e.length;return $t(function(t){for(var r=-1,l=Ws(t.length,A);++r<l;)t[r]=e[r].call(this,t[r]);return o(n,this,t)})}),lm=$t(function(n,e){var A=N(e,ho(lm));return ro(n,gn,An,e,A)}),im=$t(function(n,e){var A=N(e,ho(im));return ro(n,vn,An,e,A)}),um=co(function(n,e){return ro(n,Sn,An,An,An,e)}),am=no(ht),sm=no(function(n,e){return n>=e}),cm=St(function(){return arguments}())?St:function(n){return eu(n)&&ms.call(n,"callee")&&!Is.call(n,"callee")},mm=Xa.isArray,dm=wA?O(wA):_t,fm=xs||xa,pm=xA?O(xA):It,hm=KA?O(KA):Gt,Cm=RA?O(RA):Qt,ym=jA?O(jA):Pt,Bm=LA?O(LA):Ot,gm=no(xt),vm=no(function(n,e){return n<=e}),bm=xr(function(n,e){if(wo(e)||Wi(e))return void Or(e,wu(e),n);for(var A in e)ms.call(e,A)&&WA(n,A,e[A])}),Sm=xr(function(n,e){Or(e,xu(e),n)}),_m=xr(function(n,e,A,t){Or(e,xu(e),n,t)}),Im=xr(function(n,e,A,t){Or(e,wu(e),n,t)}),Mm=co(XA),Em=$t(function(n,e){n=ts(n);var A=-1,t=e.length,r=t>2?e[2]:An;for(r&&Qo(e[0],e[1],r)&&(t=1);++A<t;)for(var o=e[A],l=xu(o),i=-1,u=l.length;++i<u;){var a=l[i],s=n[a];(s===An||Li(s,as[a])&&!ms.call(n,a))&&(n[a]=o[a])}return n}),Gm=$t(function(n){return n.push(An,lo),o(Om,An,n)}),Dm=qr(function(n,e,A){null!=e&&"function"!=typeof e.toString&&(e=ps.call(e)),n[e]=A},_a(Ma)),km=qr(function(n,e,A){null!=e&&"function"!=typeof e.toString&&(e=ps.call(e)),ms.call(n,e)?n[e].push(A):n[e]=[A]},Co),Qm=$t(bt),Pm=xr(function(n,e,A){Lt(n,e,A)}),Om=xr(function(n,e,A,t){Lt(n,e,A,t)}),Tm=co(function(n,e){var A={};if(null==n)return A;var t=!1;e=d(e,function(e){return e=gr(e,n),t||(t=e.length>1),e}),Or(n,fo(n),A),t&&(A=nt(A,sn|cn|mn,io));for(var r=e.length;r--;)mr(A,e[r]);return A}),Um=co(function(n,e){return null==n?{}:Yt(n,e)}),wm=to(wu),xm=to(xu),Km=Wr(function(n,e,A){return e=e.toLowerCase(),n+(A?na(e):e)}),Rm=Wr(function(n,e,A){return n+(A?"-":"")+e.toLowerCase()}),jm=Wr(function(n,e,A){return n+(A?" ":"")+e.toLowerCase()}),Lm=Lr("toLowerCase"),Wm=Wr(function(n,e,A){return n+(A?"_":"")+e.toLowerCase()}),Hm=Wr(function(n,e,A){return n+(A?" ":"")+Ym(e)}),Fm=Wr(function(n,e,A){return n+(A?" ":"")+e.toUpperCase()}),Ym=Lr("toUpperCase"),Nm=$t(function(n,e){try{return o(n,An,e)}catch(n){return Ji(n)?n:new ns(n)}}),zm=co(function(n,e){return i(e,function(e){e=Jo(e),ZA(n,e,em(n[e],n))}),n}),qm=Nr(),Jm=Nr(!0),Vm=$t(function(n,e){return function(A){return bt(A,n,e)}}),Zm=$t(function(n,e){return function(A){return bt(n,A,e)}}),Xm=Vr(d),$m=Vr(a),nd=Vr(C),ed=$r(),Ad=$r(!0),td=Jr(function(n,e){return n+e},0),rd=Ao("ceil"),od=Jr(function(n,e){return n/e},1),ld=Ao("floor"),id=Jr(function(n,e){return n*e},1),ud=Ao("round"),ad=Jr(function(n,e){return n-e},0);return A.after=gi,A.ary=vi,A.assign=bm,A.assignIn=Sm,A.assignInWith=_m,A.assignWith=Im,A.at=Mm,A.before=bi,A.bind=em,A.bindAll=zm,A.bindKey=Am,A.castArray=Ui,A.chain=Nl,A.chunk=$o,A.compact=nl,A.concat=el,A.cond=ba,A.conforms=Sa,A.constant=_a,A.countBy=Nc,A.create=_u,A.curry=Si,A.curryRight=_i,A.debounce=Ii,A.defaults=Em,A.defaultsDeep=Gm,A.defer=tm,A.delay=rm,A.difference=Gc,A.differenceBy=Dc,A.differenceWith=kc,A.drop=Al,A.dropRight=tl,A.dropRightWhile=rl,A.dropWhile=ol,A.fill=ll,A.filter=ti,A.flatMap=ri,A.flatMapDeep=oi,A.flatMapDepth=li,A.flatten=al,A.flattenDeep=sl,A.flattenDepth=cl,A.flip=Mi,A.flow=qm,A.flowRight=Jm,A.fromPairs=ml,A.functions=Qu,A.functionsIn=Pu,A.groupBy=Jc,A.initial=pl,A.intersection=Qc,A.intersectionBy=Pc,A.intersectionWith=Oc,A.invert=Dm,A.invertBy=km,A.invokeMap=Vc,A.iteratee=Ea,A.keyBy=Zc,A.keys=wu,A.keysIn=xu,A.map=si,A.mapKeys=Ku,A.mapValues=Ru,A.matches=Ga,A.matchesProperty=Da,A.memoize=Ei,A.merge=Pm,A.mergeWith=Om,A.method=Vm,A.methodOf=Zm,A.mixin=ka,A.negate=Gi,A.nthArg=Oa,A.omit=Tm,A.omitBy=ju,A.once=Di,A.orderBy=ci,A.over=Xm,A.overArgs=om,A.overEvery=$m,A.overSome=nd,A.partial=lm,A.partialRight=im,A.partition=Xc,A.pick=Um,A.pickBy=Lu,A.property=Ta,A.propertyOf=Ua,A.pull=Tc,A.pullAll=gl,A.pullAllBy=vl,A.pullAllWith=bl,A.pullAt=Uc,A.range=ed,A.rangeRight=Ad,A.rearg=um,A.reject=fi,A.remove=Sl,A.rest=ki,A.reverse=_l,A.sampleSize=hi,A.set=Hu,A.setWith=Fu,A.shuffle=Ci,A.slice=Il,A.sortBy=$c,A.sortedUniq=Pl,A.sortedUniqBy=Ol,A.split=ca,A.spread=Qi,A.tail=Tl,A.take=Ul,A.takeRight=wl,A.takeRightWhile=xl,A.takeWhile=Kl,A.tap=zl,A.throttle=Pi,A.thru=ql,A.toArray=hu,A.toPairs=wm,A.toPairsIn=xm,A.toPath=Wa,A.toPlainObject=vu,A.transform=Yu,A.unary=Oi,A.union=wc,A.unionBy=xc,A.unionWith=Kc,A.uniq=Rl,A.uniqBy=jl,A.uniqWith=Ll,A.unset=Nu,A.unzip=Wl,A.unzipWith=Hl,A.update=zu,A.updateWith=qu,A.values=Ju,A.valuesIn=Vu,A.without=Rc,A.words=va,A.wrap=Ti,A.xor=jc,A.xorBy=Lc,A.xorWith=Wc,A.zip=Hc,A.zipObject=Fl,A.zipObjectDeep=Yl,A.zipWith=Fc,A.entries=wm,A.entriesIn=xm,A.extend=Sm,A.extendWith=_m,ka(A,A),A.add=td,A.attempt=Nm,A.camelCase=Km,A.capitalize=na,A.ceil=rd,A.clamp=Zu,A.clone=wi,A.cloneDeep=Ki,A.cloneDeepWith=Ri,A.cloneWith=xi,A.conformsTo=ji,A.deburr=ea,A.defaultTo=Ia,A.divide=od,A.endsWith=Aa,A.eq=Li,A.escape=ta,A.escapeRegExp=ra,A.every=Ai,A.find=zc,A.findIndex=il,A.findKey=Iu,A.findLast=qc,A.findLastIndex=ul,A.findLastKey=Mu,A.floor=ld,A.forEach=ii,A.forEachRight=ui,A.forIn=Eu,A.forInRight=Gu,A.forOwn=Du,A.forOwnRight=ku,A.get=Ou,A.gt=am,A.gte=sm,A.has=Tu,A.hasIn=Uu,A.head=dl,A.identity=Ma,A.includes=ai,A.indexOf=fl,A.inRange=Xu,A.invoke=Qm,A.isArguments=cm,A.isArray=mm,A.isArrayBuffer=dm,A.isArrayLike=Wi,A.isArrayLikeObject=Hi,A.isBoolean=Fi,A.isBuffer=fm,A.isDate=pm,A.isElement=Yi,A.isEmpty=Ni,A.isEqual=zi,A.isEqualWith=qi,A.isError=Ji,A.isFinite=Vi,A.isFunction=Zi,A.isInteger=Xi,A.isLength=$i,A.isMap=hm,A.isMatch=Au,A.isMatchWith=tu,A.isNaN=ru,A.isNative=ou,A.isNil=iu,A.isNull=lu,A.isNumber=uu,A.isObject=nu,A.isObjectLike=eu,A.isPlainObject=au,A.isRegExp=Cm,A.isSafeInteger=su,A.isSet=ym,A.isString=cu,A.isSymbol=mu,A.isTypedArray=Bm,A.isUndefined=du,A.isWeakMap=fu,A.isWeakSet=pu,A.join=hl,A.kebabCase=Rm,A.last=Cl,A.lastIndexOf=yl,A.lowerCase=jm,A.lowerFirst=Lm,A.lt=gm,A.lte=vm,A.max=Fa,A.maxBy=Ya,A.mean=Na,A.meanBy=za,A.min=qa,A.minBy=Ja,A.stubArray=wa,A.stubFalse=xa,A.stubObject=Ka,A.stubString=Ra,A.stubTrue=ja,A.multiply=id,A.nth=Bl,A.noConflict=Qa,A.noop=Pa,A.now=nm,A.pad=oa,A.padEnd=la,A.padStart=ia,A.parseInt=ua,A.random=$u,A.reduce=mi,A.reduceRight=di,A.repeat=aa,A.replace=sa,A.result=Wu,A.round=ud,A.runInContext=n,A.sample=pi,A.size=yi,A.snakeCase=Wm,A.some=Bi,A.sortedIndex=Ml,A.sortedIndexBy=El,A.sortedIndexOf=Gl,A.sortedLastIndex=Dl,A.sortedLastIndexBy=kl,A.sortedLastIndexOf=Ql,A.startCase=Hm,A.startsWith=ma,A.subtract=ad,A.sum=Va,A.sumBy=Za,A.template=da,A.times=La,A.toFinite=Cu,A.toInteger=yu,A.toLength=Bu,A.toLower=fa,A.toNumber=gu,A.toSafeInteger=bu,A.toString=Su,A.toUpper=pa,A.trim=ha,A.trimEnd=Ca,A.trimStart=ya,A.truncate=Ba,A.unescape=ga,A.uniqueId=Ha,A.upperCase=Fm,A.upperFirst=Ym,A.each=ii,A.eachRight=ui,A.first=dl,ka(A,function(){var n={};return st(A,function(e,t){ms.call(A.prototype,t)||(n[t]=e)}),n}(),{chain:!1}),A.VERSION="4.17.15",i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){A[n].placeholder=A}),i(["drop","take"],function(n,e){y.prototype[n]=function(A){A=A===An?1:Ls(yu(A),0);var t=this.__filtered__&&!e?new y(this):this.clone();return t.__filtered__?t.__takeCount__=Ws(A,t.__takeCount__):t.__views__.push({size:Ws(A,Un),type:n+(t.__dir__<0?"Right":"")}),t},y.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),i(["filter","map","takeWhile"],function(n,e){var A=e+1,t=A==Dn||3==A;y.prototype[n]=function(n){var e=this.clone();return e.__iteratees__.push({iteratee:Co(n,3),type:A}),e.__filtered__=e.__filtered__||t,e}}),i(["head","last"],function(n,e){var A="take"+(e?"Right":"");y.prototype[n]=function(){return this[A](1).value()[0]}}),i(["initial","tail"],function(n,e){var A="drop"+(e?"":"Right");y.prototype[n]=function(){return this.__filtered__?new y(this):this[A](1)}}),y.prototype.compact=function(){return this.filter(Ma)},y.prototype.find=function(n){return this.filter(n).head()},y.prototype.findLast=function(n){return this.reverse().find(n)},y.prototype.invokeMap=$t(function(n,e){return"function"==typeof n?new y(this):this.map(function(A){return bt(A,n,e)})}),y.prototype.reject=function(n){return this.filter(Gi(Co(n)))},y.prototype.slice=function(n,e){n=yu(n);var A=this;return A.__filtered__&&(n>0||e<0)?new y(A):(n<0?A=A.takeRight(-n):n&&(A=A.drop(n)),e!==An&&(e=yu(e),A=e<0?A.dropRight(-e):A.take(e-n)),A)},y.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},y.prototype.toArray=function(){return this.take(Un)},st(y.prototype,function(n,e){var t=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),l=A[o?"take"+("last"==e?"Right":""):e],i=o||/^find/.test(e);l&&(A.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,a=e instanceof y,s=u[0],c=a||mm(e),m=function(n){var e=l.apply(A,f([n],u));return o&&d?e[0]:e};c&&t&&"function"==typeof s&&1!=s.length&&(a=c=!1);var d=this.__chain__,p=!!this.__actions__.length,h=i&&!d,C=a&&!p;if(!i&&c){e=C?e:new y(this);var B=n.apply(e,u);return B.__actions__.push({func:ql,args:[m],thisArg:An}),new r(B,d)}return h&&C?n.apply(this,u):(B=this.thru(m),h?o?B.value()[0]:B.value():B)})}),i(["pop","push","shift","sort","splice","unshift"],function(n){var e=is[n],t=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);A.prototype[n]=function(){var n=arguments;if(r&&!this.__chain__){var A=this.value();return e.apply(mm(A)?A:[],n)}return this[t](function(A){return e.apply(mm(A)?A:[],n)})}}),st(y.prototype,function(n,e){var t=A[e];if(t){var r=t.name+"";ms.call(nc,r)||(nc[r]=[]),nc[r].push({name:e,func:t})}}),nc[zr(An,hn).name]=[{name:"wrapper",func:An}],y.prototype.clone=E,y.prototype.reverse=J,y.prototype.value=$,A.prototype.at=Yc,A.prototype.chain=Jl,A.prototype.commit=Vl,A.prototype.next=Zl,A.prototype.plant=$l,A.prototype.reverse=ni,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=ei,A.prototype.first=A.prototype.head,Gs&&(A.prototype[Gs]=Xl),A}();kA._=NA,(r=function(){return NA}.call(e,A,e,t))!==An&&(t.exports=r)}).call(this)}).call(e,A(30),A(31)(n))},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/types/mule.ts",e="0c1f2e82e5fa4a54659c30b4d70c7fc2ee0068ff",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/types/mule.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:5,column:0},end:{line:15,column:77}},2:{start:{line:6,column:4},end:{line:6,column:38}},3:{start:{line:7,column:4},end:{line:7,column:48}},4:{start:{line:8,column:4},end:{line:8,column:44}},5:{start:{line:9,column:4},end:{line:9,column:50}},6:{start:{line:10,column:4},end:{line:10,column:48}},7:{start:{line:11,column:4},end:{line:11,column:50}},8:{start:{line:12,column:4},end:{line:12,column:50}},9:{start:{line:13,column:4},end:{line:13,column:38}},10:{start:{line:14,column:4},end:{line:14,column:38}},11:{start:{line:17,column:0},end:{line:21,column:86}},12:{start:{line:18,column:4},end:{line:18,column:55}},13:{start:{line:19,column:4},end:{line:19,column:55}},14:{start:{line:20,column:4},end:{line:20,column:47}},15:{start:{line:23,column:0},end:{line:26,column:80}},16:{start:{line:24,column:4},end:{line:24,column:49}},17:{start:{line:25,column:4},end:{line:25,column:49}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:1},end:{line:5,column:2}},loc:{start:{line:5,column:27},end:{line:15,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:17,column:1},end:{line:17,column:2}},loc:{start:{line:17,column:30},end:{line:21,column:1}},line:17},2:{name:"(anonymous_2)",decl:{start:{line:23,column:1},end:{line:23,column:2}},loc:{start:{line:23,column:28},end:{line:26,column:1}},line:23}},branchMap:{0:{loc:{start:{line:15,column:20},end:{line:15,column:75}},type:"binary-expr",locations:[{start:{line:15,column:20},end:{line:15,column:42}},{start:{line:15,column:47},end:{line:15,column:74}}],line:15},1:{loc:{start:{line:21,column:23},end:{line:21,column:84}},type:"binary-expr",locations:[{start:{line:21,column:23},end:{line:21,column:48}},{start:{line:21,column:53},end:{line:21,column:83}}],line:21},2:{loc:{start:{line:26,column:21},end:{line:26,column:78}},type:"binary-expr",locations:[{start:{line:26,column:21},end:{line:26,column:44}},{start:{line:26,column:49},end:{line:26,column:77}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/types/mule.ts"],names:[],mappings:";;;AAWA,IAAY,cAAZ;AAAA,CAAA,UAAY,cAAZ,EAA0B;AACxB,mBAAA,OAAA,IAAA,OAAA;AACA,mBAAA,YAAA,IAAA,YAAA;AACA,mBAAA,UAAA,IAAA,UAAA;AACA,mBAAA,aAAA,IAAA,aAAA;AACA,mBAAA,YAAA,IAAA,YAAA;AACA,mBAAA,aAAA,IAAA,aAAA;AACA,mBAAA,aAAA,IAAA,aAAA;AACA,mBAAA,OAAA,IAAA,OAAA;AACA,mBAAA,OAAA,IAAA,OAAA;AACD,CAVD,EAAY,iBAAA,QAAA,cAAA,KAAA,QAAA,cAAA,GAAc,EAAd,CAAZ;AA4CA,IAAY,iBAAZ;AAAA,CAAA,UAAY,iBAAZ,EAA6B;AAC3B,sBAAA,cAAA,IAAA,cAAA;AACA,sBAAA,cAAA,IAAA,cAAA;AACA,sBAAA,UAAA,IAAA,UAAA;AACD,CAJD,EAAY,oBAAA,QAAA,iBAAA,KAAA,QAAA,iBAAA,GAAiB,EAAjB,CAAZ;AA0BA,IAAY,eAAZ;AAAA,CAAA,UAAY,eAAZ,EAA2B;AACzB,oBAAA,YAAA,IAAA,YAAA;AACA,oBAAA,YAAA,IAAA,YAAA;AACD,CAHD,EAAY,kBAAA,QAAA,eAAA,KAAA,QAAA,eAAA,GAAe,EAAf,CAAZ",sourcesContent:["import { UnknownType } from './sdk';\n\nexport interface User {\n  _id: string;\n  username: string;\n}\n\nexport interface UserCache {\n  [userId: string]: User;\n}\n\nexport enum DataModelTypes {\n  Games = 'Games',\n  GameBoards = 'GameBoards',\n  Historys = 'Historys',\n  RuleBundles = 'RuleBundles',\n  GameStates = 'GameStates',\n  PieceStates = 'PieceStates',\n  SpaceStates = 'SpaceStates',\n  Turns = 'Turns',\n  Users = 'Users',\n}\n\n// TODO better name\nexport interface Persistable {\n  _id: string;\n}\n\nexport interface Game extends Persistable {\n  gameBoard: string; // id\n  gameStatus: string;\n  maxPlayers: number;\n  players: PlayersMap;\n  name: string;\n  nextTurnTime: Date;\n  ruleBundle: {\n    id: string;\n    name: string;\n  };\n  ruleBundleGameSettings: {\n    customBoardSettings: VariableMap; // TODO I believe this is a simplification that is wrong\n  };\n  turnProgressStyle: TurnProgressStyle;\n  turnTimeLimit: number;\n}\n\nexport interface PlayersMap {\n  [playerRel: string]: PlayersMapPlayer; // playerRel = 'p1'\n}\nexport interface PlayersMapPlayer {\n  playerId: string;\n  playerStatus: string;\n  name?: string; // added by getPlayersMapQ()\n}\n\nexport enum TurnProgressStyle {\n  WaitProgress = 'waitprogress', // waits for all players to submit turns\n  AutoProgress = 'autoprogress', // progresses after a timer\n  AutoBoot = 'autoboot', // never implemented\n}\n\nexport interface RuleBundle extends Persistable {\n  name: string;\n  turnSubmitStyle: TurnSubmitStyle;\n  canAutoProgress: boolean;\n  staticBoardSettings: {\n    boardStyle: string;\n  };\n  gameSettings: {\n    playerLimit:\n      number | // maximum amount of players (1-x)\n      number[] | // a set of allowed player amounts eg [2, 4, 6]\n      {min: number, max: number}; // range of players amount\n    customBoardSettings: VariableMap;\n  };\n  rules: {\n    dynamicBoard: boolean; // if true, pass rules to generateGameBoard hook\n    // TODO other stuff, see v general.json\n  };\n}\n\nexport enum TurnSubmitStyle {\n  RoundRobin = 'roundRobin', // p1 plays -> progressTurn(p1) -> p2 plays -> progressTurn(p2) -> progressRound -> repeat til winCondition is true\n  PlayByMail = 'playByMail', // wait til (p1 plays & p2 plays) -> progressRound -> repeat til winCondition is true\n}\n\nexport interface GameBoardCache {\n  [gameBoardId: string]: GameBoard;\n}\n\nexport interface GameBoard extends Persistable {\n  board: BoardSpace[];\n  boardType: string;\n  gameState: string; // id\n  history: string; // id\n  ruleBundle: {\n    id: string;\n    name: string;\n  };\n}\n\nexport interface BoardSpace {\n  id: string;\n  class: string;\n  attributes?: VariableMap;\n  edges: {id: string, moveableBy: string}[];\n}\n\nexport interface GameState extends Persistable {\n  globalVariables: VariableMap;\n  pieces: PieceState[];\n  playerVariables: {\n    [playerRel: string]: VariableMap;\n  };\n  spaces: SpaceState[];\n}\n\nexport interface PieceState extends Persistable {\n  id: number; // TODO delete\n  // ^ why delete?\n  class: string;\n  locationId: string;\n  ownerId: string; // lobbyPlayerId\n  attributes: VariableMap;\n}\n\nexport interface SpaceState extends Persistable {\n  _id: string;\n  boardSpaceId: string;\n  attributes: VariableMap;\n}\n\nexport interface History<THistoryTurns> extends Persistable {\n  currentPlayerIndexTurn: number;\n  currentRound: number;\n  currentTurn: number;\n  currentTurnStatus: {\n    [playerRel: string]: boolean;\n  };\n  gameId: string; // TODO deprecate (why is it needed?)\n  turnOrder: string[]; // string = lobbyPlayerId\n  turnSubmitStyle: TurnSubmitStyle;\n  turns: THistoryTurns;\n  winner: string | undefined; // lobbyPlayerId or 'tie'\n}\n\nexport type FullHistory = FullRoundRobinHistory | FullPlayByMailHistory;\nexport type LiteHistory = LiteRoundRobinHistory | LitePlayByMailHistory;\n\nexport type RoundRobinHistory = LiteRoundRobinHistory | FullRoundRobinHistory;\nexport type PlayByMailHistory = LitePlayByMailHistory | FullPlayByMailHistory;\n\nexport type LiteRoundRobinHistory = History<RoundRobinHistoryTurns<TurnId>>;\nexport type FullRoundRobinHistory = History<RoundRobinHistoryTurns<Turn>>;\nexport type LitePlayByMailHistory = History<PlayByMailHistoryTurns<TurnId>>;\nexport type FullPlayByMailHistory = History<PlayByMailHistoryTurns<Turn>>;\n\nexport interface RoundRobinHistoryTurns<T> {\n  [turnNumber: number]: T[];\n}\n\nexport interface PlayByMailHistoryTurns<T> {\n  [turnNumber: number]: T;\n}\n\nexport type TurnId = string; // mongo id\n\nexport interface Turn extends Persistable {\n  gameId: string;\n  turnNumber: number;\n  metaTurn?: UnknownType[]; // TODO unsure if optional\n  playerTurns: {\n    [playerRel: string]: {\n      actions: Action[];\n      dateSubmitted: Date;\n    }\n  };\n}\n\nexport interface Action {\n  type: string;\n  metadata?: VariableMap; // TODO unsure if optional\n  params: VariableMap;\n}\n\n// this could use a better name\nexport interface VariableMap {\n  [variableName: string]: string | number | boolean | object | Array<any> | undefined;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});t.s[1]++,function(n){t.f[0]++,t.s[2]++,n.Games="Games",t.s[3]++,n.GameBoards="GameBoards",t.s[4]++,n.Historys="Historys",t.s[5]++,n.RuleBundles="RuleBundles",t.s[6]++,n.GameStates="GameStates",t.s[7]++,n.PieceStates="PieceStates",t.s[8]++,n.SpaceStates="SpaceStates",t.s[9]++,n.Turns="Turns",t.s[10]++,n.Users="Users"}((t.b[0][0]++,e.DataModelTypes||(t.b[0][1]++,e.DataModelTypes={})));t.s[11]++,function(n){t.f[1]++,t.s[12]++,n.WaitProgress="waitprogress",t.s[13]++,n.AutoProgress="autoprogress",t.s[14]++,n.AutoBoot="autoboot"}((t.b[1][0]++,e.TurnProgressStyle||(t.b[1][1]++,e.TurnProgressStyle={})));t.s[15]++,function(n){t.f[2]++,t.s[16]++,n.RoundRobin="roundRobin",t.s[17]++,n.PlayByMail="playByMail"}((t.b[2][0]++,e.TurnSubmitStyle||(t.b[2][1]++,e.TurnSubmitStyle={})))},function(n,e,A){"use strict";function t(n){s.f[0]++,s.s[3]++,n.Games?(s.b[0][0]++,s.s[4]++,e.database.Games=e.database.Games.concat(n.Games)):s.b[0][1]++,s.s[5]++,n.GameBoards?(s.b[1][0]++,s.s[6]++,e.database.GameBoards=e.database.GameBoards.concat(n.GameBoards)):s.b[1][1]++,s.s[7]++,n.Historys?(s.b[2][0]++,s.s[8]++,e.database.Historys=e.database.Historys.concat(n.Historys)):s.b[2][1]++,s.s[9]++,n.RuleBundles?(s.b[3][0]++,s.s[10]++,e.database.RuleBundles=e.database.RuleBundles.concat(n.RuleBundles)):s.b[3][1]++,s.s[11]++,n.GameStates?(s.b[4][0]++,s.s[12]++,e.database.GameStates=e.database.GameStates.concat(n.GameStates)):s.b[4][1]++,s.s[13]++,n.PieceStates?(s.b[5][0]++,s.s[14]++,e.database.PieceStates=e.database.PieceStates.concat(n.PieceStates)):s.b[5][1]++,s.s[15]++,n.SpaceStates?(s.b[6][0]++,s.s[16]++,e.database.SpaceStates=e.database.SpaceStates.concat(n.SpaceStates)):s.b[6][1]++,s.s[17]++,n.Turns?(s.b[7][0]++,s.s[18]++,e.database.Turns=e.database.Turns.concat(n.Turns)):s.b[7][1]++,s.s[19]++,n.Users?(s.b[8][0]++,s.s[20]++,e.database.Users=e.database.Users.concat(n.Users)):s.b[8][1]++}function r(){s.f[1]++,s.s[22]++,e.database.Games=[],s.s[23]++,e.database.GameBoards=[],s.s[24]++,e.database.Historys=[],s.s[25]++,e.database.RuleBundles=[],s.s[26]++,e.database.PieceStates=[],s.s[27]++,e.database.SpaceStates=[],s.s[28]++,e.database.Turns=[],s.s[29]++,e.database.Users=[]}function o(n,A){s.f[2]++;var t=(s.s[31]++,e.database[n]),r=(s.s[32]++,c.find(t,function(n){return s.f[3]++,s.s[33]++,n._id===A}));return s.s[34]++,r}function l(n){return s.f[4]++,s.s[36]++,function(e){s.f[5]++;var A=(s.s[37]++,o(n,e));return s.s[38]++,A?(s.b[9][0]++,s.s[39]++,Promise.resolve(A)):(s.b[9][1]++,s.s[40]++,Promise.reject({statusCode:404,statusMessage:"Could not find type="+n+": "+e}))}}function i(n){return s.f[6]++,s.s[43]++,n+"Id_"+m++}function u(n,A){s.f[7]++;var t=(s.s[44]++,e.database[n]),r=(s.s[45]++,c.assign({},{_id:i(n)},A));return s.s[46]++,t.push(r),s.s[47]++,r}function a(n,A){s.f[8]++;var t=(s.s[49]++,e.database[n]),r=(s.s[50]++,c.findIndex(t,function(n){return s.f[9]++,s.s[51]++,n._id===A._id}));if(s.s[52]++,-1===r)throw s.b[10][0]++,s.s[53]++,new Error("please create before attempting to save ");return s.b[10][1]++,s.s[54]++,t[r]=A,s.s[55]++,A}var s=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/data.ts",e="cd71523d3916037858cb1d4fa5055d7c8435220a",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/data.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:15},end:{line:4,column:32}},2:{start:{line:5,column:0},end:{line:15,column:2}},3:{start:{line:17,column:4},end:{line:19,column:5}},4:{start:{line:18,column:8},end:{line:18,column:75}},5:{start:{line:20,column:4},end:{line:22,column:5}},6:{start:{line:21,column:8},end:{line:21,column:90}},7:{start:{line:23,column:4},end:{line:25,column:5}},8:{start:{line:24,column:8},end:{line:24,column:84}},9:{start:{line:26,column:4},end:{line:28,column:5}},10:{start:{line:27,column:8},end:{line:27,column:93}},11:{start:{line:29,column:4},end:{line:31,column:5}},12:{start:{line:30,column:8},end:{line:30,column:90}},13:{start:{line:32,column:4},end:{line:34,column:5}},14:{start:{line:33,column:8},end:{line:33,column:93}},15:{start:{line:35,column:4},end:{line:37,column:5}},16:{start:{line:36,column:8},end:{line:36,column:93}},17:{start:{line:38,column:4},end:{line:40,column:5}},18:{start:{line:39,column:8},end:{line:39,column:75}},19:{start:{line:41,column:4},end:{line:43,column:5}},20:{start:{line:42,column:8},end:{line:42,column:75}},21:{start:{line:45,column:0},end:{line:45,column:34}},22:{start:{line:47,column:4},end:{line:47,column:32}},23:{start:{line:48,column:4},end:{line:48,column:37}},24:{start:{line:49,column:4},end:{line:49,column:35}},25:{start:{line:50,column:4},end:{line:50,column:38}},26:{start:{line:51,column:4},end:{line:51,column:38}},27:{start:{line:52,column:4},end:{line:52,column:38}},28:{start:{line:53,column:4},end:{line:53,column:32}},29:{start:{line:54,column:4},end:{line:54,column:32}},30:{start:{line:56,column:0},end:{line:56,column:38}},31:{start:{line:58,column:20},end:{line:58,column:42}},32:{start:{line:59,column:20},end:{line:61,column:6}},33:{start:{line:60,column:8},end:{line:60,column:31}},34:{start:{line:62,column:4},end:{line:62,column:21}},35:{start:{line:64,column:0},end:{line:64,column:32}},36:{start:{line:66,column:4},end:{line:76,column:6}},37:{start:{line:67,column:24},end:{line:67,column:44}},38:{start:{line:68,column:8},end:{line:75,column:9}},39:{start:{line:69,column:12},end:{line:69,column:46}},40:{start:{line:71,column:12},end:{line:74,column:15}},41:{start:{line:78,column:0},end:{line:78,column:40}},42:{start:{line:79,column:20},end:{line:79,column:24}},43:{start:{line:81,column:4},end:{line:81,column:42}},44:{start:{line:84,column:20},end:{line:84,column:42}},45:{start:{line:85,column:15},end:{line:85,column:63}},46:{start:{line:86,column:4},end:{line:86,column:25}},47:{start:{line:87,column:4},end:{line:87,column:16}},48:{start:{line:89,column:0},end:{line:89,column:38}},49:{start:{line:91,column:20},end:{line:91,column:42}},50:{start:{line:92,column:19},end:{line:94,column:6}},51:{start:{line:93,column:8},end:{line:93,column:35}},52:{start:{line:95,column:4},end:{line:97,column:5}},53:{start:{line:96,column:8},end:{line:96,column:68}},54:{start:{line:98,column:4},end:{line:98,column:29}},55:{start:{line:99,column:4},end:{line:99,column:14}},56:{start:{line:101,column:0},end:{line:101,column:34}}},fnMap:{0:{name:"addMockData",decl:{start:{line:16,column:9},end:{line:16,column:20}},loc:{start:{line:16,column:27},end:{line:44,column:1}},line:16},1:{name:"resetMockData",decl:{start:{line:46,column:9},end:{line:46,column:22}},loc:{start:{line:46,column:25},end:{line:55,column:1}},line:46},2:{name:"genericGet",decl:{start:{line:57,column:9},end:{line:57,column:19}},loc:{start:{line:57,column:30},end:{line:63,column:1}},line:57},3:{name:"(anonymous_3)",decl:{start:{line:59,column:45},end:{line:59,column:46}},loc:{start:{line:59,column:61},end:{line:61,column:5}},line:59},4:{name:"genericGetData",decl:{start:{line:65,column:9},end:{line:65,column:23}},loc:{start:{line:65,column:30},end:{line:77,column:1}},line:65},5:{name:"(anonymous_5)",decl:{start:{line:66,column:11},end:{line:66,column:12}},loc:{start:{line:66,column:25},end:{line:76,column:5}},line:66},6:{name:"getNewId",decl:{start:{line:80,column:9},end:{line:80,column:17}},loc:{start:{line:80,column:24},end:{line:82,column:1}},line:80},7:{name:"genericCreate",decl:{start:{line:83,column:9},end:{line:83,column:22}},loc:{start:{line:83,column:33},end:{line:88,column:1}},line:83},8:{name:"genericSave",decl:{start:{line:90,column:9},end:{line:90,column:20}},loc:{start:{line:90,column:31},end:{line:100,column:1}},line:90},9:{name:"(anonymous_9)",decl:{start:{line:92,column:49},end:{line:92,column:50}},loc:{start:{line:92,column:65},end:{line:94,column:5}},line:92}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:19,column:5}},{start:{line:17,column:4},end:{line:19,column:5}}],line:17},1:{loc:{start:{line:20,column:4},end:{line:22,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:22,column:5}},{start:{line:20,column:4},end:{line:22,column:5}}],line:20},2:{loc:{start:{line:23,column:4},end:{line:25,column:5}},type:"if",locations:[{start:{line:23,column:4},end:{line:25,column:5}},{start:{line:23,column:4},end:{line:25,column:5}}],line:23},3:{loc:{start:{line:26,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:26,column:4},end:{line:28,column:5}},{start:{line:26,column:4},end:{line:28,column:5}}],line:26},4:{loc:{start:{line:29,column:4},end:{line:31,column:5}},type:"if",locations:[{start:{line:29,column:4},end:{line:31,column:5}},{start:{line:29,column:4},end:{line:31,column:5}}],line:29},5:{loc:{start:{line:32,column:4},end:{line:34,column:5}},type:"if",locations:[{start:{line:32,column:4},end:{line:34,column:5}},{start:{line:32,column:4},end:{line:34,column:5}}],line:32},6:{loc:{start:{line:35,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:37,column:5}},{start:{line:35,column:4},end:{line:37,column:5}}],line:35},7:{loc:{start:{line:38,column:4},end:{line:40,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:40,column:5}},{start:{line:38,column:4},end:{line:40,column:5}}],line:38},8:{loc:{start:{line:41,column:4},end:{line:43,column:5}},type:"if",locations:[{start:{line:41,column:4},end:{line:43,column:5}},{start:{line:41,column:4},end:{line:43,column:5}}],line:41},9:{loc:{start:{line:68,column:8},end:{line:75,column:9}},type:"if",locations:[{start:{line:68,column:8},end:{line:75,column:9}},{start:{line:68,column:8},end:{line:75,column:9}}],line:68},10:{loc:{start:{line:95,column:4},end:{line:97,column:5}},type:"if",locations:[{start:{line:95,column:4},end:{line:97,column:5}},{start:{line:95,column:4},end:{line:97,column:5}}],line:95}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/data.ts"],names:[],mappings:";;;AAAA,IAAA,WAAA,QAAA,QAAA,CAAA;AAiBa,QAAA,QAAA,GAAyB;AACpC,WAAO,EAD6B;AAEpC,gBAAY,EAFwB;AAGpC,cAAU,EAH0B;AAIpC,iBAAa,EAJuB;AAKpC,gBAAY,EALwB;AAMpC,iBAAa,EANuB;AAOpC,iBAAa,EAPuB;AAQpC,WAAO,EAR6B;AASpC,WAAO;AAT6B,CAAzB;AAsCb,SAAA,WAAA,CAA4B,IAA5B,EAA0C;AACxC,QAAI,KAAK,KAAT,EAAgB;AACd,gBAAA,QAAA,CAAS,KAAT,GAAiB,QAAA,QAAA,CAAS,KAAT,CAAe,MAAf,CAAsB,KAAK,KAA3B,CAAjB;AACD;AACD,QAAI,KAAK,UAAT,EAAqB;AACnB,gBAAA,QAAA,CAAS,UAAT,GAAsB,QAAA,QAAA,CAAS,UAAT,CAAoB,MAApB,CAA2B,KAAK,UAAhC,CAAtB;AACD;AACD,QAAI,KAAK,QAAT,EAAmB;AACjB,gBAAA,QAAA,CAAS,QAAT,GAAoB,QAAA,QAAA,CAAS,QAAT,CAAkB,MAAlB,CAAyB,KAAK,QAA9B,CAApB;AACD;AACD,QAAI,KAAK,WAAT,EAAsB;AACpB,gBAAA,QAAA,CAAS,WAAT,GAAuB,QAAA,QAAA,CAAS,WAAT,CAAqB,MAArB,CAA4B,KAAK,WAAjC,CAAvB;AACD;AACD,QAAI,KAAK,UAAT,EAAqB;AACnB,gBAAA,QAAA,CAAS,UAAT,GAAsB,QAAA,QAAA,CAAS,UAAT,CAAoB,MAApB,CAA2B,KAAK,UAAhC,CAAtB;AACD;AACD,QAAI,KAAK,WAAT,EAAsB;AACpB,gBAAA,QAAA,CAAS,WAAT,GAAuB,QAAA,QAAA,CAAS,WAAT,CAAqB,MAArB,CAA4B,KAAK,WAAjC,CAAvB;AACD;AACD,QAAI,KAAK,WAAT,EAAsB;AACpB,gBAAA,QAAA,CAAS,WAAT,GAAuB,QAAA,QAAA,CAAS,WAAT,CAAqB,MAArB,CAA4B,KAAK,WAAjC,CAAvB;AACD;AACD,QAAI,KAAK,KAAT,EAAgB;AACd,gBAAA,QAAA,CAAS,KAAT,GAAiB,QAAA,QAAA,CAAS,KAAT,CAAe,MAAf,CAAsB,KAAK,KAA3B,CAAjB;AACD;AACD,QAAI,KAAK,KAAT,EAAgB;AACd,gBAAA,QAAA,CAAS,KAAT,GAAiB,QAAA,QAAA,CAAS,KAAT,CAAe,MAAf,CAAsB,KAAK,KAA3B,CAAjB;AACD;AACF;AA5BD,QAAA,WAAA,GAAA,WAAA;AA8BA,SAAA,aAAA,GAAA;AACE,YAAA,QAAA,CAAS,KAAT,GAAiB,EAAjB;AACA,YAAA,QAAA,CAAS,UAAT,GAAsB,EAAtB;AACA,YAAA,QAAA,CAAS,QAAT,GAAoB,EAApB;AACA,YAAA,QAAA,CAAS,WAAT,GAAuB,EAAvB;AACA,YAAA,QAAA,CAAS,WAAT,GAAuB,EAAvB;AACA,YAAA,QAAA,CAAS,WAAT,GAAuB,EAAvB;AACA,YAAA,QAAA,CAAS,KAAT,GAAiB,EAAjB;AACA,YAAA,QAAA,CAAS,KAAT,GAAiB,EAAjB;AACD;AATD,QAAA,aAAA,GAAA,aAAA;AAWA,SAAA,UAAA,CAAkD,IAAlD,EAAwE,EAAxE,EAAkF;AAChF,QAAM,YAA2B,QAAA,QAAA,CAAS,IAAT,CAAjC;AACA,QAAM,YAA2B,SAAA,IAAA,CAAK,SAAL,EAAuB,UAAC,IAAD,EAAQ;AAC9D,eAAO,KAAK,GAAL,KAAa,EAApB;AACD,KAFgC,CAAjC;AAGA,WAAO,SAAP;AACD;AAND,QAAA,UAAA,GAAA,UAAA;AAQA,SAAA,cAAA,CAAsD,IAAtD,EAA0E;AAExE,WAAO,UAAC,EAAD,EAAW;AAChB,YAAM,YAA2B,WAAc,IAAd,EAAoB,EAApB,CAAjC;AAEA,YAAI,SAAJ,EAAe;AACb,mBAAO,QAAQ,OAAR,CAAgB,SAAhB,CAAP;AACD,SAFD,MAEO;AACL,mBAAO,QAAQ,MAAR,CAAe;AACpB,4BAAY,GADQ;AAEpB,+BAAe,yBAAyB,IAAzB,GAAgC,IAAhC,GAAuC;AAFlC,aAAf,CAAP;AAID;AACF,KAXD;AAYD;AAdD,QAAA,cAAA,GAAA,cAAA;AAgBA,IAAI,gBAAwB,IAA5B;AACA,SAAA,QAAA,CAAkB,IAAlB,EAAsC;AACpC,WAAO,OAAO,KAAP,GAAe,eAAtB;AACD;AAED,SAAA,aAAA,CAAqD,IAArD,EAA2E,EAA3E,EAAyF;AACvF,QAAM,YAA2B,QAAA,QAAA,CAAS,IAAT,CAAjC;AACA,QAAM,OAAU,SAAA,MAAA,CAAO,EAAP,EAAW,EAAC,KAAK,SAAS,IAAT,CAAN,EAAX,EAAkC,EAAlC,CAAhB;AAEA,cAAU,IAAV,CAAe,IAAf;AAEA,WAAO,IAAP;AACD;AAPD,QAAA,aAAA,GAAA,aAAA;AASA,SAAA,WAAA,CAAmD,IAAnD,EAAyE,EAAzE,EAA8E;AAC5E,QAAM,YAA2B,QAAA,QAAA,CAAS,IAAT,CAAjC;AACA,QAAM,WAA+B,SAAA,SAAA,CAAU,SAAV,EAA4B,UAAC,IAAD,EAAQ;AACvE,eAAO,KAAK,GAAL,KAAa,GAAG,GAAvB;AACD,KAFoC,CAArC;AAGA,QAAI,aAAa,CAAC,CAAlB,EAAqB;AACnB,cAAM,IAAI,KAAJ,CAAU,0CAAV,CAAN;AACD;AACD,cAAU,QAAV,IAAsB,EAAtB;AAEA,WAAO,EAAP;AACD;AAXD,QAAA,WAAA,GAAA,WAAA",sourcesContent:["import { assign, find, findIndex } from 'lodash';\n\n\nimport {\n  DataModelTypes,\n  Game,\n  GameBoard,\n  LiteHistory,\n  RuleBundle,\n  GameState,\n  PieceState,\n  SpaceState,\n  Turn,\n  User,\n  Persistable,\n} from '../../types/mule';\n\nexport const database: MockDatabase = {\n  Games: [],\n  GameBoards: [],\n  Historys: [],\n  RuleBundles: [],\n  GameStates: [],\n  PieceStates: [],\n  SpaceStates: [],\n  Turns: [],\n  Users: [],\n};\n\nexport type DatabaseKeys = keyof MockDatabase;\n\nexport interface MockDatabase {\n  Games: Game[];\n  GameBoards: GameBoard[];\n  Historys: LiteHistory[];\n  RuleBundles: RuleBundle[];\n  GameStates: GameState[];\n  PieceStates: PieceState[];\n  SpaceStates: SpaceState[];\n  Turns: Turn[];\n  Users: User[];\n}\n\nexport interface MockData {\n  Games?: Game[];\n  GameBoards?: GameBoard[];\n  Historys?: LiteHistory[];\n  GameStates?: GameState[];\n  RuleBundles?: RuleBundle[];\n  PieceStates?: PieceState[];\n  SpaceStates?: SpaceState[];\n  Turns?: Turn[];\n  Users?: User[];\n}\n\nexport function addMockData(data: MockData) {\n  if (data.Games) {\n    database.Games = database.Games.concat(data.Games);\n  }\n  if (data.GameBoards) {\n    database.GameBoards = database.GameBoards.concat(data.GameBoards);\n  }\n  if (data.Historys) {\n    database.Historys = database.Historys.concat(data.Historys);\n  }\n  if (data.RuleBundles) {\n    database.RuleBundles = database.RuleBundles.concat(data.RuleBundles);\n  }\n  if (data.GameStates) {\n    database.GameStates = database.GameStates.concat(data.GameStates);\n  }\n  if (data.PieceStates) {\n    database.PieceStates = database.PieceStates.concat(data.PieceStates);\n  }\n  if (data.SpaceStates) {\n    database.SpaceStates = database.SpaceStates.concat(data.SpaceStates);\n  }\n  if (data.Turns) {\n    database.Turns = database.Turns.concat(data.Turns);\n  }\n  if (data.Users) {\n    database.Users = database.Users.concat(data.Users);\n  }\n}\n\nexport function resetMockData() {\n  database.Games = [];\n  database.GameBoards = [];\n  database.Historys = [];\n  database.RuleBundles = [];\n  database.PieceStates = [];\n  database.SpaceStates = [];\n  database.Turns = [];\n  database.Users = [];\n}\n\nexport function genericGet<T extends Persistable>(type: DataModelTypes, id: string): T | undefined {\n  const dataArray: Persistable[] = database[type];\n  const foundData: T | undefined = find(dataArray as T[], (data: T) => {\n    return data._id === id;\n  });\n  return foundData;\n}\n\nexport function genericGetData<T extends Persistable>(type: DataModelTypes): (id: string) => Promise<T> {\n\n  return (id: string) => {\n    const foundData: T | undefined = genericGet<T>(type, id);\n\n    if (foundData) {\n      return Promise.resolve(foundData);\n    } else {\n      return Promise.reject({\n        statusCode: 404,\n        statusMessage: 'Could not find type=' + type + ': ' + id,\n      });\n    }\n  };\n}\n\nlet newIdIterator: number = 1000;\nfunction getNewId(type: DataModelTypes) {\n  return type + 'Id_' + newIdIterator++;\n}\n\nexport function genericCreate<T extends Persistable>(type: DataModelTypes, pT: Partial<T>): T {\n  const dataArray: Persistable[] = database[type];\n  const newT: T = assign({}, {_id: getNewId(type)}, pT) as T;\n\n  dataArray.push(newT);\n\n  return newT;\n}\n\nexport function genericSave<T extends Persistable>(type: DataModelTypes, _t: T): T {\n  const dataArray: Persistable[] = database[type];\n  const foundKey: number | undefined = findIndex(dataArray as T[], (data: T) => {\n    return data._id === _t._id;\n  });\n  if (foundKey === -1) {\n    throw new Error('please create before attempting to save ');\n  }\n  dataArray[foundKey] = _t;\n\n  return _t;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();s.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var c=(s.s[1]++,A(0));s.s[2]++,e.database={Games:[],GameBoards:[],Historys:[],RuleBundles:[],GameStates:[],PieceStates:[],SpaceStates:[],Turns:[],Users:[]},s.s[21]++,e.addMockData=t,s.s[30]++,e.resetMockData=r,s.s[35]++,e.genericGet=o,s.s[41]++,e.genericGetData=l;var m=(s.s[42]++,1e3);s.s[48]++,e.genericCreate=u,s.s[56]++,e.genericSave=a},function(n,e,A){"use strict";function t(n){return l.f[0]++,l.s[3]++,n.status>=400?(l.b[0][0]++,l.s[4]++,n.json().then(function(n){throw l.f[1]++,l.s[5]++,n})):(l.b[0][1]++,l.s[6]++,n.json())}function r(n){return l.f[2]++,l.s[7]++,Promise.resolve().then(function(){return l.f[3]++,l.s[8]++,fetch(n,{credentials:"include"})}).then(t)}function o(n,e){return l.f[4]++,l.s[9]++,Promise.resolve().then(function(){return l.f[5]++,l.s[10]++,fetch(n,{method:"POST",credentials:"include",headers:[["Content-Type","application/json"]],body:JSON.stringify(e)})}).then(t)}var l=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/utils/http.ts",e="25a2e804b8bfe49a5e8cb38b693e07f312ca35a2",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/utils/http.ts",statementMap:{0:{start:{line:4,column:0},end:{line:4,column:62}},1:{start:{line:5,column:0},end:{line:5,column:24}},2:{start:{line:6,column:15},end:{line:6,column:32}},3:{start:{line:8,column:4},end:{line:14,column:5}},4:{start:{line:9,column:8},end:{line:11,column:11}},5:{start:{line:10,column:12},end:{line:10,column:32}},6:{start:{line:13,column:8},end:{line:13,column:31}},7:{start:{line:17,column:4},end:{line:21,column:28}},8:{start:{line:18,column:8},end:{line:20,column:11}},9:{start:{line:24,column:4},end:{line:31,column:28}},10:{start:{line:25,column:8},end:{line:30,column:11}},11:{start:{line:33,column:0},end:{line:47,column:2}},12:{start:{line:35,column:8},end:{line:42,column:11}},13:{start:{line:36,column:12},end:{line:41,column:13}},14:{start:{line:37,column:16},end:{line:37,column:32}},15:{start:{line:39,column:29},end:{line:39,column:49}},16:{start:{line:40,column:16},end:{line:40,column:30}},17:{start:{line:45,column:8},end:{line:45,column:109}}},fnMap:{0:{name:"handleResponse",decl:{start:{line:7,column:9},end:{line:7,column:23}},loc:{start:{line:7,column:34},end:{line:15,column:1}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:9,column:36},end:{line:9,column:37}},loc:{start:{line:9,column:61},end:{line:11,column:9}},line:9},2:{name:"_get",decl:{start:{line:16,column:9},end:{line:16,column:13}},loc:{start:{line:16,column:46},end:{line:22,column:1}},line:16},3:{name:"(anonymous_3)",decl:{start:{line:17,column:34},end:{line:17,column:35}},loc:{start:{line:17,column:46},end:{line:21,column:5}},line:17},4:{name:"_post",decl:{start:{line:23,column:9},end:{line:23,column:14}},loc:{start:{line:23,column:42},end:{line:32,column:1}},line:23},5:{name:"(anonymous_5)",decl:{start:{line:24,column:34},end:{line:24,column:35}},loc:{start:{line:24,column:46},end:{line:31,column:5}},line:24},6:{name:"get",decl:{start:{line:34,column:18},end:{line:34,column:21}},loc:{start:{line:34,column:54},end:{line:43,column:5}},line:34},7:{name:"(anonymous_7)",decl:{start:{line:35,column:92},end:{line:35,column:93}},loc:{start:{line:35,column:112},end:{line:42,column:9}},line:35},8:{name:"post",decl:{start:{line:44,column:19},end:{line:44,column:23}},loc:{start:{line:44,column:51},end:{line:46,column:5}},line:44}},branchMap:{0:{loc:{start:{line:8,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:8,column:4},end:{line:14,column:5}},{start:{line:8,column:4},end:{line:14,column:5}}],line:8},1:{loc:{start:{line:36,column:12},end:{line:41,column:13}},type:"if",locations:[{start:{line:36,column:12},end:{line:41,column:13}},{start:{line:36,column:12},end:{line:41,column:13}}],line:36}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/utils/http.ts"],names:[],mappings:";AACA;;;AAEA,QAAA,cAAA;AACA,IAAA,WAAA,QAAA,QAAA,CAAA;AAGA,SAAA,cAAA,CAAwB,QAAxB,EAA0C;AACxC,QAAI,SAAS,MAAT,IAAmB,GAAvB,EAA4B;AAC1B,eAAO,SAAS,IAAT,GACJ,IADI,CACC,UAAC,aAAD,EAAmB;AACvB,kBAAM,aAAN;AACD,SAHI,CAAP;AAID,KALD,MAKO;AACL,eAAO,SAAS,IAAT,EAAP;AACD;AACF;AAED,SAAA,IAAA,CAAa,GAAb,CAAwB,0BAAxB,EAAkD;AAChD,WAAO,QAAQ,OAAR,GACJ,IADI,CACC,YAAA;AAAM,eAAA,MAAM,GAAN,EAAW;AACrB,yBAAa;AADQ,SAAX,CAAA;AAEV,KAHG,EAIJ,IAJI,CAIC,cAJD,CAAP;AAKD;AAED,SAAA,KAAA,CAAc,GAAd,EAA2B,IAA3B,CAAoC,eAApC,EAAmD;AACjD,WAAO,QAAQ,OAAR,GACJ,IADI,CACC,YAAA;AAAM,eAAA,MAAM,GAAN,EAAW;AACrB,oBAAQ,MADa;AAErB,yBAAa,SAFQ;AAGrB,qBAAS,CACP,CAAC,cAAD,EAAiB,kBAAjB,CADO,CAHY;AAMrB,kBAAM,KAAK,SAAL,CAAe,IAAf;AANe,SAAX,CAAA;AAOV,KARG,EASJ,IATI,CASC,cATD,CAAP;AAUD;AAEY,QAAA,IAAA,GAAO;AAClB,SAAK,aAAC,GAAD,CAAS,0BAAT,EAAmC;AACtC,eAAO,KAAI,GAAJ,CAAO,6DAAP,EACJ,IADI,CACE,UAAC,QAAD,EAAc;AACnB,gBAAI,SAAA,YAAA,CAAa,QAAb,CAAJ,EAA4B;AAC1B,uBAAO,QAAP;AACD,aAFD,MAEO;AACL,oBAAI,SAAS,KAAK,KAAL,CAAW,QAAX,CAAb;AACA,uBAAO,MAAP;AACD;AACF,SARI,CAAP;AASD,KAXiB;AAalB,UAAM,cAAC,GAAD,EAAW,IAAX,CAAqB,eAArB,EAAoC;AACxC,eAAO,MAAK,GAAL,EAAU,IAAV,CAAc,4EAAd,CAAP;AACD;AAfiB,CAAP",sourcesContent:["\n// https://github.com/github/fetch\n\nimport 'whatwg-fetch';\nimport { isObjectLike } from 'lodash';\n\n\nfunction handleResponse(response: Response): any {\n  if (response.status >= 400) {\n    return response.json()\n      .then((errorResponse: any) => {\n        throw errorResponse;\n      });\n  } else {\n    return response.json();\n  }\n}\n\nfunction get(url: string/*, data: any, opts: any*/): Promise<any> {\n  return Promise.resolve()\n    .then(() => fetch(url, {\n      credentials: 'include'\n    }))\n    .then(handleResponse);\n}\n\nfunction post(url: string, data: any/*, opts: any*/): Promise<any> {\n  return Promise.resolve()\n    .then(() => fetch(url, {\n      method: 'POST',\n      credentials: 'include',\n      headers: [\n        ['Content-Type', 'application/json']\n      ],\n      body: JSON.stringify(data),\n    }))\n    .then(handleResponse);\n}\n\nexport const http = {\n  get: (url: any/*, data: any, opts: any*/): Promise<any> => {\n    return get(url/*, data, opts || {dataType: 'json', withCredentials: true}*/)\n      .then( (response: any) => {\n        if (isObjectLike(response)) {\n          return response;\n        } else {\n          var parsed = JSON.parse(response);\n          return parsed;\n        }\n      });\n  },\n\n  post: (url: any, data?: any/*, opts: any*/): Promise<any> => {\n    return post(url, data/*, opts || {dataType: 'json', responseType:'json', withCredentials: true}*/);\n  },\n};\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();l.s[0]++,Object.defineProperty(e,"__esModule",{value:!0}),l.s[1]++,A(32);var i=(l.s[2]++,A(0));l.s[11]++,e.http={get:function(n){return l.f[6]++,l.s[12]++,r(n).then(function(n){if(l.f[7]++,l.s[13]++,i.isObjectLike(n))return l.b[1][0]++,l.s[14]++,n;l.b[1][1]++;var e=(l.s[15]++,JSON.parse(n));return l.s[16]++,e})},post:function(n,e){return l.f[8]++,l.s[17]++,o(n,e)}}},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Games.ts",e="7b4b2f67bea89acd867512aeabebea028517232a",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Games.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:15},end:{line:4,column:32}},2:{start:{line:5,column:13},end:{line:5,column:43}},3:{start:{line:6,column:14},end:{line:6,column:40}},4:{start:{line:7,column:13},end:{line:7,column:46}},5:{start:{line:8,column:32},end:{line:48,column:3}},6:{start:{line:10,column:8},end:{line:12,column:10}},7:{start:{line:11,column:12},end:{line:11,column:58}},8:{start:{line:13,column:8},end:{line:15,column:10}},9:{start:{line:14,column:12},end:{line:14,column:45}},10:{start:{line:16,column:8},end:{line:16,column:72}},11:{start:{line:17,column:8},end:{line:23,column:10}},12:{start:{line:18,column:12},end:{line:22,column:16}},13:{start:{line:19,column:16},end:{line:21,column:19}},14:{start:{line:20,column:20},end:{line:20,column:54}},15:{start:{line:24,column:8},end:{line:26,column:10}},16:{start:{line:25,column:12},end:{line:25,column:35}},17:{start:{line:27,column:8},end:{line:29,column:10}},18:{start:{line:28,column:12},end:{line:28,column:45}},19:{start:{line:32,column:8},end:{line:45,column:10}},20:{start:{line:33,column:22},end:{line:33,column:50}},21:{start:{line:34,column:31},end:{line:34,column:33}},22:{start:{line:35,column:12},end:{line:41,column:15}},23:{start:{line:36,column:16},end:{line:40,column:20}},24:{start:{line:37,column:20},end:{line:39,column:21}},25:{start:{line:38,column:24},end:{line:38,column:60}},26:{start:{line:42,column:12},end:{line:44,column:15}},27:{start:{line:43,column:16},end:{line:43,column:27}},28:{start:{line:47,column:4},end:{line:47,column:24}},29:{start:{line:49,column:0},end:{line:49,column:36}},30:{start:{line:50,column:0},end:{line:50,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:8,column:32},end:{line:8,column:33}},loc:{start:{line:8,column:44},end:{line:48,column:1}},line:8},1:{name:"MockGamesApi",decl:{start:{line:9,column:13},end:{line:9,column:25}},loc:{start:{line:9,column:28},end:{line:46,column:5}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:10,column:22},end:{line:10,column:23}},loc:{start:{line:10,column:34},end:{line:12,column:9}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:13,column:23},end:{line:13,column:24}},loc:{start:{line:13,column:41},end:{line:15,column:9}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:17,column:31},end:{line:17,column:32}},loc:{start:{line:17,column:49},end:{line:23,column:9}},line:17},5:{name:"(anonymous_5)",decl:{start:{line:18,column:64},end:{line:18,column:65}},loc:{start:{line:18,column:80},end:{line:22,column:13}},line:18},6:{name:"(anonymous_6)",decl:{start:{line:19,column:53},end:{line:19,column:54}},loc:{start:{line:19,column:71},end:{line:21,column:17}},line:19},7:{name:"(anonymous_7)",decl:{start:{line:24,column:28},end:{line:24,column:29}},loc:{start:{line:24,column:40},end:{line:26,column:9}},line:24},8:{name:"(anonymous_8)",decl:{start:{line:27,column:25},end:{line:27,column:26}},loc:{start:{line:27,column:43},end:{line:29,column:9}},line:27},9:{name:"(anonymous_9)",decl:{start:{line:32,column:30},end:{line:32,column:31}},loc:{start:{line:32,column:46},end:{line:45,column:9}},line:32},10:{name:"(anonymous_10)",decl:{start:{line:35,column:31},end:{line:35,column:32}},loc:{start:{line:35,column:60},end:{line:41,column:13}},line:35},11:{name:"(anonymous_11)",decl:{start:{line:36,column:79},end:{line:36,column:80}},loc:{start:{line:36,column:95},end:{line:40,column:17}},line:36},12:{name:"(anonymous_12)",decl:{start:{line:42,column:50},end:{line:42,column:51}},loc:{start:{line:42,column:62},end:{line:44,column:13}},line:42}},branchMap:{0:{loc:{start:{line:37,column:20},end:{line:39,column:21}},type:"if",locations:[{start:{line:37,column:20},end:{line:39,column:21}},{start:{line:37,column:20},end:{line:39,column:21}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Games.ts"],names:[],mappings:";;;AAAA,IAAA,WAAA,QAAA,QAAA,CAAA;AAGA,IAAA,SAAA,QAAA,qBAAA,CAAA;AAGA,IAAA,UAAA,QAAA,iBAAA,CAAA;AACA,IAAA,SAAA,QAAA,wBAAA,CAAA;AAEA,IAAA,eAAA,aAAA,YAAA;AAAA,aAAA,YAAA,GAAA;AAES,aAAA,MAAA,GAAS,YAAA;AACd,mBAAO,QAAQ,OAAR,CAAgB,OAAA,QAAA,CAAS,KAAzB,CAAP;AACD,SAFM;AAGA,aAAA,OAAA,GAAU,UAAC,MAAD,EAAoB;AACnC,kBAAM,IAAI,KAAJ,CAAU,SAAS,MAAnB,CAAN;AACD,SAFM;AAGA,aAAA,KAAA,GAA2C,OAAA,cAAA,CAAqB,OAAA,cAAA,CAAe,KAApC,CAA3C;AACA,aAAA,eAAA,GAAkB,UAAC,MAAD,EAAe;AACtC,mBAAO,QAAQ,OAAR,CAAgB,OAAA,QAAA,CAAS,KAAT,CAAe,MAAf,CAAsB,UAAC,IAAD,EAAW;AACtD,uBAAO,CAAC,CAAC,SAAA,IAAA,CAAK,KAAK,OAAV,EAAmB,UAAC,MAAD,EAAyB;AACnD,2BAAO,OAAO,QAAP,KAAoB,MAA3B;AACD,iBAFQ,CAAT;AAGD,aAJsB,CAAhB,CAAP;AAKD,SANM;AAOA,aAAA,YAAA,GAAe,YAAA;AACpB,kBAAM,IAAI,KAAJ,CAAU,KAAV,CAAN;AACD,SAFM;AAGA,aAAA,SAAA,GAAY,UAAC,MAAD,EAAe;AAChC,kBAAM,IAAI,KAAJ,CAAU,SAAS,MAAnB,CAAN;AACD,SAFM;AAIP;AACA;AACO,aAAA,cAAA,GAAiB,UAAC,IAAD,EAAW;AACjC,gBAAI,MAAkB,SAAA,KAAA,CAAM,KAAK,OAAX,CAAtB;AAAA,gBACE,eAAgC,EADlC;AAGA,qBAAA,IAAA,CAAK,GAAL,EAAU,UAAC,MAAD,EAAS,SAAT,EAAkB;AAC1B,6BAAa,IAAb,CAAkB,QAAA,QAAA,CAAS,KAAT,CAAe,OAAO,QAAtB,EACf,IADe,CACV,UAAC,IAAD,EAAY;AAChB,wBAAI,IAAJ,EAAU;AACR,4BAAI,SAAJ,EAAe,IAAf,GAAsB,KAAK,QAA3B;AACD;AACF,iBALe,CAAlB;AAOD,aARD;AAUA,mBAAO,QAAQ,GAAR,CAAY,YAAZ,EACJ,IADI,CACC,YAAA;AAAM,uBAAA,GAAA;AAAG,aADV,CAAP;AAED,SAhBM;AAiBR;AAAD,WAAA,YAAA;AAAC,CA1CD,EAAA;AAAa,QAAA,YAAA,GAAA,YAAA;AA4CA,QAAA,QAAA,GAAqB,IAAI,YAAJ,EAArB",sourcesContent:["import { clone, each, find } from 'lodash';\n\n\nimport { DataModelTypes, Game, PlayersMap, User, PlayersMapPlayer } from '../../../types/mule';\nimport { GamesApi, UnknownType } from '../../../types/sdk';\n\nimport { usersApi } from '../models/Users';\nimport { database, genericGetData } from '../../mockBackend/data';\n\nexport class MockGamesApi implements GamesApi {\n\n  public indexQ = (): Promise<Game[]> => {\n    return Promise.resolve(database.Games);\n  }\n  public createQ = (params: UnknownType): Promise<UnknownType> => {\n    throw new Error('nyi ' + params);\n  }\n  public readQ: (gameId: string) => Promise<Game> = genericGetData<Game>(DataModelTypes.Games);\n  public readUsersGamesQ = (userId: string): Promise<Game[]> => {\n    return Promise.resolve(database.Games.filter((game: Game) => {\n      return !!find(game.players, (player: PlayersMapPlayer) => {\n        return player.playerId === userId;\n      });\n    }));\n  }\n  public readMyGamesQ = (): Promise<Game[]> => {\n    throw new Error('nyi');\n  }\n  public joinGameQ = (gameId: string): Promise<UnknownType> => {\n    throw new Error('nyi ' + gameId);\n  }\n\n  // TODO rename this?\n  //  the code is a copy/paste from muleSdk\n  public getPlayersMapQ = (game: Game): Promise<PlayersMap> => {\n    var map: PlayersMap = clone(game.players),\n      promiseArray: Promise<void>[] = [];\n\n    each(map, (player, playerRel) => {\n      promiseArray.push(usersApi.readQ(player.playerId)\n        .then((user?: User) => {\n          if (user) {\n            map[playerRel].name = user.username;\n          }\n        })\n      );\n    });\n\n    return Promise.all(promiseArray)\n      .then(() => map);\n  }\n}\n\nexport const gamesApi: GamesApi = new MockGamesApi();\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var r=(t.s[1]++,A(0)),o=(t.s[2]++,A(1)),l=(t.s[3]++,A(5)),i=(t.s[4]++,A(2)),u=(t.s[5]++,function(){function n(){t.f[1]++,t.s[6]++,this.indexQ=function(){return t.f[2]++,t.s[7]++,Promise.resolve(i.database.Games)},t.s[8]++,this.createQ=function(n){throw t.f[3]++,t.s[9]++,new Error("nyi "+n)},t.s[10]++,this.readQ=i.genericGetData(o.DataModelTypes.Games),t.s[11]++,this.readUsersGamesQ=function(n){return t.f[4]++,t.s[12]++,Promise.resolve(i.database.Games.filter(function(e){return t.f[5]++,t.s[13]++,!!r.find(e.players,function(e){return t.f[6]++,t.s[14]++,e.playerId===n})}))},t.s[15]++,this.readMyGamesQ=function(){throw t.f[7]++,t.s[16]++,new Error("nyi")},t.s[17]++,this.joinGameQ=function(n){throw t.f[8]++,t.s[18]++,new Error("nyi "+n)},t.s[19]++,this.getPlayersMapQ=function(n){t.f[9]++;var e=(t.s[20]++,r.clone(n.players)),A=(t.s[21]++,[]);return t.s[22]++,r.each(e,function(n,r){t.f[10]++,t.s[23]++,A.push(l.usersApi.readQ(n.playerId).then(function(n){t.f[11]++,t.s[24]++,n?(t.b[0][0]++,t.s[25]++,e[r].name=n.username):t.b[0][1]++}))}),t.s[26]++,Promise.all(A).then(function(){return t.f[12]++,t.s[27]++,e})}}return t.f[0]++,t.s[28]++,n}());t.s[29]++,e.MockGamesApi=u,t.s[30]++,e.gamesApi=new u},function(n,e,A){"use strict";function t(n){r.f[0]++,r.s[5]++,e.loggedInUserId=n}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Users.ts",e="cb2d0763f29ded4a6465e6ac9ab458eb0ae917e9",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Users.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:15},end:{line:4,column:32}},2:{start:{line:5,column:13},end:{line:5,column:43}},3:{start:{line:6,column:13},end:{line:6,column:46}},4:{start:{line:7,column:0},end:{line:7,column:35}},5:{start:{line:9,column:4},end:{line:9,column:36}},6:{start:{line:11,column:0},end:{line:11,column:42}},7:{start:{line:12,column:32},end:{line:61,column:3}},8:{start:{line:14,column:20},end:{line:14,column:24}},9:{start:{line:15,column:8},end:{line:17,column:10}},10:{start:{line:16,column:12},end:{line:16,column:42}},11:{start:{line:18,column:8},end:{line:20,column:10}},12:{start:{line:19,column:12},end:{line:19,column:58}},13:{start:{line:21,column:8},end:{line:23,column:10}},14:{start:{line:22,column:12},end:{line:22,column:45}},15:{start:{line:24,column:8},end:{line:24,column:72}},16:{start:{line:25,column:8},end:{line:33,column:10}},17:{start:{line:26,column:12},end:{line:32,column:13}},18:{start:{line:27,column:16},end:{line:27,column:59}},19:{start:{line:29,column:16},end:{line:31,column:19}},20:{start:{line:34,column:8},end:{line:49,column:10}},21:{start:{line:35,column:28},end:{line:37,column:14}},22:{start:{line:36,column:16},end:{line:36,column:57}},23:{start:{line:38,column:12},end:{line:48,column:13}},24:{start:{line:39,column:16},end:{line:39,column:55}},25:{start:{line:40,column:16},end:{line:43,column:19}},26:{start:{line:45,column:16},end:{line:47,column:19}},27:{start:{line:50,column:8},end:{line:52,column:10}},28:{start:{line:51,column:12},end:{line:51,column:45}},29:{start:{line:53,column:8},end:{line:55,column:10}},30:{start:{line:54,column:12},end:{line:54,column:39}},31:{start:{line:56,column:8},end:{line:58,column:10}},32:{start:{line:57,column:12},end:{line:57,column:44}},33:{start:{line:60,column:4},end:{line:60,column:24}},34:{start:{line:62,column:0},end:{line:62,column:36}},35:{start:{line:63,column:0},end:{line:63,column:38}}},fnMap:{0:{name:"setLoggedInUser",decl:{start:{line:8,column:9},end:{line:8,column:24}},loc:{start:{line:8,column:33},end:{line:10,column:1}},line:8},1:{name:"(anonymous_1)",decl:{start:{line:12,column:32},end:{line:12,column:33}},loc:{start:{line:12,column:44},end:{line:61,column:1}},line:12},2:{name:"MockUsersApi",decl:{start:{line:13,column:13},end:{line:13,column:25}},loc:{start:{line:13,column:28},end:{line:59,column:5}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:15,column:33},end:{line:15,column:34}},loc:{start:{line:15,column:45},end:{line:17,column:9}},line:15},4:{name:"(anonymous_4)",decl:{start:{line:18,column:22},end:{line:18,column:23}},loc:{start:{line:18,column:34},end:{line:20,column:9}},line:18},5:{name:"(anonymous_5)",decl:{start:{line:21,column:23},end:{line:21,column:24}},loc:{start:{line:21,column:41},end:{line:23,column:9}},line:21},6:{name:"(anonymous_6)",decl:{start:{line:25,column:24},end:{line:25,column:25}},loc:{start:{line:25,column:36},end:{line:33,column:9}},line:25},7:{name:"(anonymous_7)",decl:{start:{line:34,column:22},end:{line:34,column:23}},loc:{start:{line:34,column:40},end:{line:49,column:9}},line:34},8:{name:"(anonymous_8)",decl:{start:{line:35,column:65},end:{line:35,column:66}},loc:{start:{line:35,column:81},end:{line:37,column:13}},line:35},9:{name:"(anonymous_9)",decl:{start:{line:50,column:25},end:{line:50,column:26}},loc:{start:{line:50,column:43},end:{line:52,column:9}},line:50},10:{name:"(anonymous_10)",decl:{start:{line:53,column:26},end:{line:53,column:27}},loc:{start:{line:53,column:44},end:{line:55,column:9}},line:53},11:{name:"(anonymous_11)",decl:{start:{line:56,column:27},end:{line:56,column:28}},loc:{start:{line:56,column:44},end:{line:58,column:9}},line:56}},branchMap:{0:{loc:{start:{line:26,column:12},end:{line:32,column:13}},type:"if",locations:[{start:{line:26,column:12},end:{line:32,column:13}},{start:{line:26,column:12},end:{line:32,column:13}}],line:26},1:{loc:{start:{line:38,column:12},end:{line:48,column:13}},type:"if",locations:[{start:{line:38,column:12},end:{line:48,column:13}},{start:{line:38,column:12},end:{line:48,column:13}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},b:{0:[0,0],1:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Users.ts"],names:[],mappings:";;;AAAA,IAAA,WAAA,QAAA,QAAA,CAAA;AAGA,IAAA,SAAA,QAAA,qBAAA,CAAA;AAOA,IAAA,SAAA,QAAA,wBAAA,CAAA;AAEW,QAAA,cAAA,GAAqC,SAArC;AAEX,SAAA,eAAA,CAAgC,MAAhC,EAA8C;AAC5C,YAAA,cAAA,GAAiB,MAAjB;AACD;AAFD,QAAA,eAAA,GAAA,eAAA;AAIA,IAAA,eAAA,aAAA,YAAA;AAAA,aAAA,YAAA,GAAA;AAAA,YAAA,QAAA,IAAA;AACS,aAAA,iBAAA,GAAoB,YAAA;AACzB,mBAAO,QAAA,cAAP;AACD,SAFM;AAGA,aAAA,MAAA,GAAS,YAAA;AACd,mBAAO,QAAQ,OAAR,CAAgB,OAAA,QAAA,CAAS,KAAzB,CAAP;AACD,SAFM;AAGA,aAAA,OAAA,GAAU,UAAC,MAAD,EAAoB;AACnC,kBAAM,IAAI,KAAJ,CAAU,SAAS,MAAnB,CAAN;AACD,SAFM;AAGA,aAAA,KAAA,GAA2C,OAAA,cAAA,CAAqB,OAAA,cAAA,CAAe,KAApC,CAA3C;AACA,aAAA,QAAA,GAAW,YAAA;AAChB,gBAAI,QAAA,cAAJ,EAAoB;AAClB,uBAAO,MAAK,KAAL,CAAW,QAAA,cAAX,CAAP;AACD,aAFD,MAEO;AACL,uBAAO,QAAQ,MAAR,CAAe;AACpB,gCAAY;AADQ,iBAAf,CAAP;AAGD;AACF,SARM;AASA,aAAA,MAAA,GAAS,UAAC,MAAD,EAA6B;AAC3C,gBAAM,YAA8B,SAAA,IAAA,CAAK,OAAA,QAAA,CAAS,KAAd,EAAqB,UAAC,IAAD,EAAW;AAClE,uBAAO,KAAK,QAAL,KAAkB,OAAO,QAAhC;AACD,aAFmC,CAApC;AAIA,gBAAI,SAAJ,EAAe;AACb,wBAAA,cAAA,GAAiB,UAAU,GAA3B;AACA,uBAAO,QAAQ,OAAR,CAAgB;AACrB,4BAAQ,UAAU,GADG;AAErB,8BAAU,UAAU;AAFC,iBAAhB,CAAP;AAID,aAND,MAMO;AACL,uBAAO,QAAQ,MAAR,CAAe;AACpB,gCAAY,GADQ,CACJ;AADI,iBAAf,CAAP;AAGD;AACF,SAhBM;AAkBA,aAAA,SAAA,GAAY,UAAC,MAAD,EAAa;AAC9B,kBAAM,IAAI,KAAJ,CAAU,SAAS,MAAnB,CAAN;AACD,SAFM;AAGA,aAAA,UAAA,GAAa,UAAC,MAAD,EAAe;AACjC,mBAAO,MAAK,KAAL,CAAW,MAAX,CAAP;AACD,SAFM;AAGA,aAAA,WAAA,GAAc,UAAC,KAAD,EAAe;AAClC,kBAAM,IAAI,KAAJ,CAAU,SAAS,KAAnB,CAAN;AACD,SAFM;AAGR;AAAD,WAAA,YAAA;AAAC,CA/CD,EAAA;AAAa,QAAA,YAAA,GAAA,YAAA;AAiDA,QAAA,QAAA,GAAqB,IAAI,YAAJ,EAArB",sourcesContent:["import { find } from 'lodash';\n\n\nimport {\n  DataModelTypes,\n  User, UserCache,\n} from '../../../types/mule';\nimport { MuleUserCreateResponse, MuleUserSessionResponse, MuleUserLoginRequest, MuleUserLoginResponse } from '../../../types/mule-http';\nimport { UsersApi, UnknownType } from '../../../types/sdk';\n\nimport { database, genericGetData } from '../../mockBackend/data';\n\nexport let loggedInUserId: string | undefined = undefined;\n\nexport function setLoggedInUser(userId: string): void {\n  loggedInUserId = userId;\n}\n\nexport class MockUsersApi implements UsersApi {\n  public getLoggedInUserId = (): string | undefined => {\n    return loggedInUserId;\n  }\n  public indexQ = (): Promise<User[]> => {\n    return Promise.resolve(database.Users);\n  }\n  public createQ = (params: UnknownType): Promise<MuleUserCreateResponse> => {\n    throw new Error('nyi ' + params);\n  }\n  public readQ: (userId: string) => Promise<User> = genericGetData<User>(DataModelTypes.Users);\n  public sessionQ = (): Promise<MuleUserSessionResponse> => {\n    if (loggedInUserId) {\n      return this.readQ(loggedInUserId);\n    } else {\n      return Promise.reject({ // TODO need to check how fetch would return that error\n        statusCode: 403\n      });\n    }\n  }\n  public loginQ = (params: MuleUserLoginRequest): Promise<MuleUserLoginResponse> => {\n    const foundUser: User | undefined = find(database.Users, (user: User) => {\n      return user.username === params.username;\n    });\n\n    if (foundUser) {\n      loggedInUserId = foundUser._id;\n      return Promise.resolve({\n        userId: foundUser._id,\n        username: foundUser.username,\n      });\n    } else {\n      return Promise.reject({\n        statusCode: 401 // TODO double check\n      });\n    }\n  }\n  public usersCache: UserCache; // dont user cache (no reason)\n  public cacheUser = (result: User): void => { // TODO why does a game frontend need to cache a user (un expose this)\n    throw new Error('nyi ' + result);\n  }\n  public readCacheQ = (userId: string): Promise<User | undefined> => {\n    return this.readQ(userId);\n  }\n  public indexCacheQ = (force: boolean): Promise<UserCache> => {\n    throw new Error('nyi ' + force);\n  }\n}\n\nexport const usersApi: UsersApi = new MockUsersApi();\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(0)),l=(r.s[2]++,A(1)),i=(r.s[3]++,A(2));r.s[4]++,e.loggedInUserId=void 0,r.s[6]++,e.setLoggedInUser=t;var u=(r.s[7]++,function(){function n(){r.f[2]++;var n=(r.s[8]++,this);r.s[9]++,this.getLoggedInUserId=function(){return r.f[3]++,r.s[10]++,e.loggedInUserId},r.s[11]++,this.indexQ=function(){return r.f[4]++,r.s[12]++,Promise.resolve(i.database.Users)},r.s[13]++,this.createQ=function(n){throw r.f[5]++,r.s[14]++,new Error("nyi "+n)},r.s[15]++,this.readQ=i.genericGetData(l.DataModelTypes.Users),r.s[16]++,this.sessionQ=function(){return r.f[6]++,r.s[17]++,e.loggedInUserId?(r.b[0][0]++,r.s[18]++,n.readQ(e.loggedInUserId)):(r.b[0][1]++,r.s[19]++,Promise.reject({statusCode:403}))},r.s[20]++,this.loginQ=function(n){r.f[7]++;var A=(r.s[21]++,o.find(i.database.Users,function(e){return r.f[8]++,r.s[22]++,e.username===n.username}));return r.s[23]++,A?(r.b[1][0]++,r.s[24]++,e.loggedInUserId=A._id,r.s[25]++,Promise.resolve({userId:A._id,username:A.username})):(r.b[1][1]++,r.s[26]++,Promise.reject({statusCode:401}))},r.s[27]++,this.cacheUser=function(n){throw r.f[9]++,r.s[28]++,new Error("nyi "+n)},r.s[29]++,this.readCacheQ=function(e){return r.f[10]++,r.s[30]++,n.readQ(e)},r.s[31]++,this.indexCacheQ=function(n){throw r.f[11]++,r.s[32]++,new Error("nyi "+n)}}return r.f[1]++,r.s[33]++,n}());r.s[34]++,e.MockUsersApi=u,r.s[35]++,e.usersApi=new u},function(n,e,A){"use strict";function t(n,e,A){return o.f[0]++,o.s[1]++,Promise.resolve(A)}function r(n,e,A){return o.f[1]++,o.s[3]++,Promise.resolve()}var o=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/actionsHelper.ts",e="049b3855e29f1e3ee079f1013b145e2251751e0f",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/actionsHelper.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:6,column:4},end:{line:6,column:36}},2:{start:{line:8,column:0},end:{line:8,column:42}},3:{start:{line:11,column:4},end:{line:11,column:29}},4:{start:{line:13,column:0},end:{line:13,column:52}}},fnMap:{0:{name:"validateActions",decl:{start:{line:5,column:9},end:{line:5,column:24}},loc:{start:{line:5,column:58},end:{line:7,column:1}},line:5},1:{name:"doActionsAndSaveMeta",decl:{start:{line:10,column:9},end:{line:10,column:29}},loc:{start:{line:10,column:63},end:{line:12,column:1}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/actionsHelper.ts"],names:[],mappings:";;;AAIA;AACA,SAAA,eAAA,CAAgC,MAAhC,EAAgD,cAAhD,EAAwE,OAAxE,EAAyF;AACvF,WAAO,QAAQ,OAAR,CAAgB,OAAhB,CAAP,CADuF,CACtD;AAClC;AAFD,QAAA,eAAA,GAAA,eAAA;AAIA;AACA,SAAA,oBAAA,CAAqC,MAArC,EAAqD,cAArD,EAA6E,OAA7E,EAA8F;AAC5F,WAAO,QAAQ,OAAR,EAAP,CAD4F,CAClE;AAC3B;AAFD,QAAA,oBAAA,GAAA,oBAAA",sourcesContent:["\n\nimport { Action } from '../../types/mule';\n\n// @ts-ignore  wip\nexport function validateActions(gameId: string, ruleBundleName: string, actions: Action[]): Promise<Action[]> {\n  return Promise.resolve(actions); // TODO hook up to hookApi\n}\n\n// @ts-ignore  wip\nexport function doActionsAndSaveMeta(gameId: string, ruleBundleName: string, actions: Action[]): Promise<void> {\n  return Promise.resolve(); // TODO hook up to hookApi\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();o.s[0]++,Object.defineProperty(e,"__esModule",{value:!0}),o.s[2]++,e.validateActions=t,o.s[4]++,e.doActionsAndSaveMeta=r},function(n,e,A){"use strict";function t(n){r.f[0]++;var e=(r.s[3]++,{});r.s[4]++,e.getLoggedInUserId=function(){return r.f[1]++,r.s[5]++,o},r.s[6]++,e.indexQ=function(){return r.f[2]++,r.s[7]++,i.http.get(n+"users")},r.s[8]++,e.createQ=function(A){return r.f[3]++,r.s[9]++,i.http.post(n+"users",A).then(function(n){return r.f[4]++,r.s[10]++,o=n.userId,r.s[11]++,e.cacheUser({_id:n.userId,username:A.username}),r.s[12]++,n})},r.s[13]++,e.readQ=function(e){return r.f[5]++,r.s[14]++,i.http.get(n+"users/"+e)},r.s[15]++,e.sessionQ=function(){return r.f[6]++,r.s[16]++,i.http.get(n+"session")},r.s[17]++,e.loginQ=function(A){return r.f[7]++,r.s[18]++,i.http.post(n+"LoginAuth",A).then(function(n){return r.f[8]++,r.s[19]++,o=n.userId,r.s[20]++,e.cacheUser({_id:n.userId,username:A.username}),r.s[21]++,n})};var A=(r.s[22]++,{});return r.s[23]++,e.usersCache=A,r.s[24]++,e.cacheUser=function(n){r.f[9]++,r.s[25]++,e.usersCache[n._id]=n},r.s[26]++,e.readCacheQ=function(n){return r.f[10]++,r.s[27]++,e.usersCache[n]?(r.b[0][0]++,r.s[28]++,Promise.resolve(e.usersCache[n])):(r.b[0][1]++,r.s[29]++,e.readQ(n).then(function(n){return r.f[11]++,r.s[30]++,e.usersCache[n._id]=n,r.s[31]++,n}))},r.s[32]++,e.indexCacheQ=function(n){return r.f[12]++,r.s[33]++,r.b[2][0]++,!n&&(r.b[2][1]++,l.isEmpty(A))?(r.b[1][0]++,r.s[34]++,e.indexQ().then(function(n){return r.f[13]++,r.s[35]++,l.each(n,function(n){r.f[14]++,r.s[36]++,A[n._id]=n}),r.s[37]++,A})):(r.b[1][1]++,r.s[38]++,Promise.resolve(A))},r.s[39]++,e}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Users.ts",e="d78d1b097202f31fc6e2c725b8de53e61d155bfe",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Users.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:15},end:{line:4,column:32}},2:{start:{line:5,column:13},end:{line:5,column:37}},3:{start:{line:8,column:15},end:{line:8,column:17}},4:{start:{line:9,column:4},end:{line:11,column:6}},5:{start:{line:10,column:8},end:{line:10,column:22}},6:{start:{line:12,column:4},end:{line:14,column:6}},7:{start:{line:13,column:8},end:{line:13,column:54}},8:{start:{line:15,column:4},end:{line:21,column:6}},9:{start:{line:16,column:8},end:{line:20,column:11}},10:{start:{line:17,column:12},end:{line:17,column:35}},11:{start:{line:18,column:12},end:{line:18,column:78}},12:{start:{line:19,column:12},end:{line:19,column:26}},13:{start:{line:22,column:4},end:{line:24,column:6}},14:{start:{line:23,column:8},end:{line:23,column:65}},15:{start:{line:26,column:4},end:{line:28,column:6}},16:{start:{line:27,column:8},end:{line:27,column:56}},17:{start:{line:29,column:4},end:{line:35,column:6}},18:{start:{line:30,column:8},end:{line:34,column:11}},19:{start:{line:31,column:12},end:{line:31,column:35}},20:{start:{line:32,column:12},end:{line:32,column:78}},21:{start:{line:33,column:12},end:{line:33,column:26}},22:{start:{line:37,column:21},end:{line:37,column:23}},23:{start:{line:38,column:4},end:{line:38,column:33}},24:{start:{line:39,column:4},end:{line:41,column:6}},25:{start:{line:40,column:8},end:{line:40,column:45}},26:{start:{line:42,column:4},end:{line:51,column:6}},27:{start:{line:43,column:8},end:{line:50,column:9}},28:{start:{line:44,column:12},end:{line:44,column:61}},29:{start:{line:46,column:12},end:{line:49,column:15}},30:{start:{line:47,column:16},end:{line:47,column:53}},31:{start:{line:48,column:16},end:{line:48,column:30}},32:{start:{line:52,column:4},end:{line:63,column:6}},33:{start:{line:53,column:8},end:{line:62,column:9}},34:{start:{line:54,column:12},end:{line:59,column:15}},35:{start:{line:55,column:16},end:{line:57,column:19}},36:{start:{line:56,column:20},end:{line:56,column:50}},37:{start:{line:58,column:16},end:{line:58,column:34}},38:{start:{line:61,column:12},end:{line:61,column:47}},39:{start:{line:64,column:4},end:{line:64,column:16}},40:{start:{line:66,column:0},end:{line:66,column:36}}},fnMap:{0:{name:"initUsersApi",decl:{start:{line:7,column:9},end:{line:7,column:21}},loc:{start:{line:7,column:35},end:{line:65,column:1}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:9,column:29},end:{line:9,column:30}},loc:{start:{line:9,column:41},end:{line:11,column:5}},line:9},2:{name:"(anonymous_2)",decl:{start:{line:12,column:18},end:{line:12,column:19}},loc:{start:{line:12,column:30},end:{line:14,column:5}},line:12},3:{name:"(anonymous_3)",decl:{start:{line:15,column:19},end:{line:15,column:20}},loc:{start:{line:15,column:37},end:{line:21,column:5}},line:15},4:{name:"(anonymous_4)",decl:{start:{line:16,column:68},end:{line:16,column:69}},loc:{start:{line:16,column:86},end:{line:20,column:9}},line:16},5:{name:"(anonymous_5)",decl:{start:{line:22,column:17},end:{line:22,column:18}},loc:{start:{line:22,column:36},end:{line:24,column:5}},line:22},6:{name:"(anonymous_6)",decl:{start:{line:26,column:20},end:{line:26,column:21}},loc:{start:{line:26,column:32},end:{line:28,column:5}},line:26},7:{name:"(anonymous_7)",decl:{start:{line:29,column:18},end:{line:29,column:19}},loc:{start:{line:29,column:36},end:{line:35,column:5}},line:29},8:{name:"(anonymous_8)",decl:{start:{line:30,column:72},end:{line:30,column:73}},loc:{start:{line:30,column:90},end:{line:34,column:9}},line:30},9:{name:"(anonymous_9)",decl:{start:{line:39,column:21},end:{line:39,column:22}},loc:{start:{line:39,column:39},end:{line:41,column:5}},line:39},10:{name:"(anonymous_10)",decl:{start:{line:42,column:22},end:{line:42,column:23}},loc:{start:{line:42,column:41},end:{line:51,column:5}},line:42},11:{name:"(anonymous_11)",decl:{start:{line:46,column:44},end:{line:46,column:45}},loc:{start:{line:46,column:62},end:{line:49,column:13}},line:46},12:{name:"(anonymous_12)",decl:{start:{line:52,column:23},end:{line:52,column:24}},loc:{start:{line:52,column:40},end:{line:63,column:5}},line:52},13:{name:"(anonymous_13)",decl:{start:{line:54,column:38},end:{line:54,column:39}},loc:{start:{line:54,column:56},end:{line:59,column:13}},line:54},14:{name:"(anonymous_14)",decl:{start:{line:55,column:38},end:{line:55,column:39}},loc:{start:{line:55,column:55},end:{line:57,column:17}},line:55}},branchMap:{0:{loc:{start:{line:43,column:8},end:{line:50,column:9}},type:"if",locations:[{start:{line:43,column:8},end:{line:50,column:9}},{start:{line:43,column:8},end:{line:50,column:9}}],line:43},1:{loc:{start:{line:53,column:8},end:{line:62,column:9}},type:"if",locations:[{start:{line:53,column:8},end:{line:62,column:9}},{start:{line:53,column:8},end:{line:62,column:9}}],line:53},2:{loc:{start:{line:53,column:12},end:{line:53,column:50}},type:"binary-expr",locations:[{start:{line:53,column:12},end:{line:53,column:18}},{start:{line:53,column:22},end:{line:53,column:50}}],line:53}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Users.ts"],names:[],mappings:";;;AAAA,IAAA,WAAA,QAAA,QAAA,CAAA;AAOA,IAAA,SAAA,QAAA,eAAA,CAAA;AAEA,IAAI,MAAJ;AAEA,SAAA,YAAA,CAA6B,WAA7B,EAAgD;AAC9C,QAAI,OAAY,EAAhB;AAEA,SAAK,iBAAL,GAAyB,YAAA;AACvB,eAAO,MAAP;AACD,KAFD;AAIA,SAAK,MAAL,GAAc,YAAA;AACZ,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,OAAvB,CAAP;AACD,KAFD;AAIA,SAAK,OAAL,GAAe,UAAU,MAAV,EAAqB;AAClC,eAAO,OAAA,IAAA,CAAK,IAAL,CAAU,cAAc,OAAxB,EAAiC,MAAjC,EACJ,IADI,CACC,UAAU,MAAV,EAAwC;AAC5C,qBAAS,OAAO,MAAhB;AACA,iBAAK,SAAL,CAAe,EAAC,KAAK,OAAO,MAAb,EAAqB,UAAU,OAAO,QAAtC,EAAf;AACA,mBAAO,MAAP;AACD,SALI,CAAP;AAMD,KAPD;AASA,SAAK,KAAL,GAAa,UAAU,OAAV,EAAyB;AACpC,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,QAAd,GAAyB,OAAlC,CAAP;AACD,KAFD;AAIA;AACA,SAAK,QAAL,GAAgB,YAAA;AACd,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,SAAvB,CAAP;AACD,KAFD;AAIA,SAAK,MAAL,GAAc,UAAU,MAAV,EAAqB;AACjC,eAAO,OAAA,IAAA,CAAK,IAAL,CAAU,cAAc,WAAxB,EAAqC,MAArC,EACJ,IADI,CACC,UAAU,MAAV,EAAuC;AAC3C,qBAAS,OAAO,MAAhB;AACA,iBAAK,SAAL,CAAe,EAAC,KAAK,OAAO,MAAb,EAAqB,UAAU,OAAO,QAAtC,EAAf;AACA,mBAAO,MAAP;AACD,SALI,CAAP;AAMD,KAPD;AASA;AACA,QAAI,aAAwB,EAA5B;AACA,SAAK,UAAL,GAAkB,UAAlB;AAEA,SAAK,SAAL,GAAiB,UAAU,MAAV,EAAsB;AACrC,aAAK,UAAL,CAAgB,OAAO,GAAvB,IAA8B,MAA9B;AACD,KAFD;AAIA,SAAK,UAAL,GAAkB,UAAU,OAAV,EAAyB;AACzC,YAAI,KAAK,UAAL,CAAgB,OAAhB,CAAJ,EAA8B;AAC5B,mBAAO,QAAQ,OAAR,CAAgB,KAAK,UAAL,CAAgB,OAAhB,CAAhB,CAAP;AACD,SAFD,MAEO;AACL,mBAAO,KAAK,KAAL,CAAW,OAAX,EACJ,IADI,CACC,UAAU,MAAV,EAAsB;AACxB,qBAAK,UAAL,CAAgB,OAAO,GAAvB,IAA8B,MAA9B;AACA,uBAAO,MAAP;AACH,aAJI,CAAP;AAKD;AACF,KAVD;AAYA,SAAK,WAAL,GAAmB,UAAU,KAAV,EAAwB;AACzC,YAAI,CAAC,KAAD,IAAU,SAAA,OAAA,CAAQ,UAAR,CAAd,EAAmC;AACjC,mBAAO,KAAK,MAAL,GACJ,IADI,CACC,UAAU,MAAV,EAAwB;AAC5B,yBAAA,IAAA,CAAK,MAAL,EAAa,UAAU,KAAV,EAAqB;AAChC,+BAAW,MAAM,GAAjB,IAAwB,KAAxB;AACD,iBAFD;AAGA,uBAAO,UAAP;AACD,aANI,CAAP;AAOD,SARD,MAQO;AACL,mBAAO,QAAQ,OAAR,CAAgB,UAAhB,CAAP;AACD;AACF,KAZD;AAcA,WAAO,IAAP;AACD;AAzED,QAAA,YAAA,GAAA,YAAA",sourcesContent:["import { each, isEmpty } from 'lodash';\n\n\nimport { User, UserCache } from '../../types/mule';\nimport { MuleUserCreateResponse, MuleUserSessionResponse, MuleUserLoginResponse } from '../../types/mule-http';\nimport { UsersApi } from '../../types/sdk';\n\nimport { http } from '../utils/http';\n\nlet userId: string | undefined;\n\nexport function initUsersApi(contextPath: string): UsersApi {\n  let that: any = {};\n\n  that.getLoggedInUserId = function (): string | undefined {\n    return userId;\n  };\n\n  that.indexQ = function (): Promise<User[]> {\n    return http.get(contextPath + 'users');\n  };\n\n  that.createQ = function (params: any): Promise<MuleUserCreateResponse> {\n    return http.post(contextPath + 'users', params)\n      .then(function (result: MuleUserCreateResponse) {\n        userId = result.userId;\n        that.cacheUser({_id: result.userId, username: params.username});\n        return result;\n      });\n  };\n\n  that.readQ = function (_userId: string): Promise<User> {\n    return http.get(contextPath + 'users/' + _userId);\n  };\n\n  ////// USER SERVICES //////\n  that.sessionQ = function (): Promise<MuleUserSessionResponse> {\n    return http.get(contextPath + 'session');\n  };\n\n  that.loginQ = function (params: any): Promise<MuleUserLoginResponse> {\n    return http.post(contextPath + 'LoginAuth', params)\n      .then(function (result: MuleUserLoginResponse) {\n        userId = result.userId;\n        that.cacheUser({_id: result.userId, username: params.username});\n        return result;\n      });\n  };\n\n  ////// CACHING //////\n  let usersCache: UserCache = {};\n  that.usersCache = usersCache;\n\n  that.cacheUser = function (result: User): void {\n    that.usersCache[result._id] = result;\n  };\n\n  that.readCacheQ = function (_userId: string): Promise<User | undefined> {\n    if (that.usersCache[_userId]) {\n      return Promise.resolve(that.usersCache[_userId]);\n    } else {\n      return that.readQ(_userId)\n        .then(function (result: User) {\n            that.usersCache[result._id] = result;\n            return result;\n        });\n    }\n  };\n\n  that.indexCacheQ = function (force: boolean): Promise<UserCache> {\n    if (!force && isEmpty(usersCache)) {\n      return that.indexQ()\n        .then(function (result: User[]) {\n          each(result, function (value: User) {\n            usersCache[value._id] = value;\n          });\n          return usersCache;\n        });\n    } else {\n      return Promise.resolve(usersCache);\n    }\n  };\n\n  return that as UsersApi;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o,l=(r.s[1]++,A(0)),i=(r.s[2]++,A(3));r.s[40]++,e.initUsersApi=t},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/shared/fn/index.ts",e="caa6ba8c77fe49d234f5a3c88e3c9c1e2e19dfe6",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/shared/fn/index.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:15},end:{line:4,column:32}},2:{start:{line:5,column:14},end:{line:5,column:31}},3:{start:{line:6,column:14},end:{line:6,column:31}},4:{start:{line:7,column:0},end:{line:7,column:54}}},fnMap:{},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/shared/fn/index.ts"],names:[],mappings:";;;AACA,IAAA,WAAA,QAAA,QAAA,CAAA;AAEA,IAAA,UAAA,QAAA,QAAA,CAAA;AACA,IAAA,UAAA,QAAA,QAAA,CAAA;AAQa,QAAA,KAAA,GAAoB,SAAA,MAAA,CAAO,EAAP,EAAW,OAAX,EAAoB,OAApB,CAApB",sourcesContent:["\nimport { assign } from 'lodash';\n\nimport * as httpLib from './http';\nimport * as muleLib from './mule';\n\nimport { HttpFnLibrary } from './http';\nimport { MuleFnLibrary } from './mule';\n\n\nexport type FnLibrary = HttpFnLibrary & MuleFnLibrary;\n\nexport const allFn: FnLibrary =  assign({}, httpLib, muleLib);\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var r=(t.s[1]++,A(0)),o=(t.s[2]++,A(28)),l=(t.s[3]++,A(29));t.s[4]++,e.allFn=r.assign({},o,l)},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mock-sdk.ts",e="8d3f077cfef33aa100ee41965673edfc71f694b9",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mock-sdk.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:9},end:{line:4,column:32}},2:{start:{line:5,column:19},end:{line:5,column:61}},3:{start:{line:6,column:14},end:{line:6,column:51}},4:{start:{line:7,column:19},end:{line:7,column:61}},5:{start:{line:8,column:17},end:{line:8,column:57}},6:{start:{line:9,column:20},end:{line:9,column:63}},7:{start:{line:10,column:14},end:{line:10,column:51}},8:{start:{line:11,column:14},end:{line:11,column:51}},9:{start:{line:12,column:17},end:{line:12,column:58}},10:{start:{line:13,column:16},end:{line:13,column:48}},11:{start:{line:14,column:13},end:{line:14,column:42}},12:{start:{line:15,column:27},end:{line:36,column:3}},13:{start:{line:18,column:8},end:{line:18,column:27}},14:{start:{line:20,column:8},end:{line:20,column:38}},15:{start:{line:21,column:8},end:{line:21,column:38}},16:{start:{line:22,column:8},end:{line:22,column:56}},17:{start:{line:23,column:8},end:{line:23,column:53}},18:{start:{line:24,column:8},end:{line:24,column:53}},19:{start:{line:25,column:8},end:{line:25,column:47}},20:{start:{line:26,column:8},end:{line:26,column:38}},21:{start:{line:27,column:8},end:{line:27,column:57}},22:{start:{line:28,column:8},end:{line:28,column:39}},23:{start:{line:31,column:4},end:{line:31,column:52}},24:{start:{line:32,column:4},end:{line:32,column:45}},25:{start:{line:33,column:4},end:{line:33,column:49}},26:{start:{line:34,column:4},end:{line:34,column:54}},27:{start:{line:35,column:4},end:{line:35,column:19}},28:{start:{line:37,column:0},end:{line:37,column:26}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:15,column:27},end:{line:15,column:28}},loc:{start:{line:15,column:39},end:{line:36,column:1}},line:15},1:{name:"MockSdk",decl:{start:{line:16,column:13},end:{line:16,column:20}},loc:{start:{line:16,column:34},end:{line:29,column:5}},line:16}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mock-sdk.ts"],names:[],mappings:";;;AAQA,IAAA,KAAA,QAAA,cAAA,CAAA;AAEA,IAAA,eAAA,QAAA,iCAAA,CAAA;AACA,IAAA,UAAA,QAAA,4BAAA,CAAA;AACA,IAAA,eAAA,QAAA,iCAAA,CAAA;AACA,IAAA,aAAA,QAAA,+BAAA,CAAA;AACA,IAAA,gBAAA,QAAA,kCAAA,CAAA;AACA,IAAA,UAAA,QAAA,4BAAA,CAAA;AACA,IAAA,UAAA,QAAA,4BAAA,CAAA;AACA,IAAA,aAAA,QAAA,gCAAA,CAAA;AAEA,IAAA,YAAA,QAAA,uBAAA,CAAA;AACA,IAAA,SAAA,QAAA,oBAAA,CAAA;AAEA,IAAA,UAAA,aAAA,YAAA;AAIE,aAAA,OAAA,CAAY,WAAZ,EAA+B;AAI/B;AACO,aAAA,EAAA,GAAK,GAAG,KAAR;AAEP;AACO,aAAA,KAAA,GAAkB,QAAA,QAAlB;AACA,aAAA,KAAA,GAAkB,QAAA,QAAlB;AACA,aAAA,WAAA,GAA8B,cAAA,cAA9B;AACA,aAAA,UAAA,GAA4B,aAAA,aAA5B;AACA,aAAA,UAAA,GAA4B,aAAA,aAA5B;AACA,aAAA,QAAA,GAAwB,WAAA,WAAxB;AACA,aAAA,KAAA,GAAkB,QAAA,QAAlB;AAEA,aAAA,QAAA,GAAW,IAAI,WAAA,eAAJ,EAAX;AAfL,aAAK,WAAL,GAAmB,WAAnB;AACD;AAiBD;AACc,YAAA,aAAA,GAAgB,UAAA,aAAhB;AACA,YAAA,WAAA,GAAc,OAAA,WAAd;AACA,YAAA,aAAA,GAAgB,OAAA,aAAhB;AACA,YAAA,eAAA,GAAkB,QAAA,eAAlB;AAChB,WAAA,OAAA;AAAC,CA5BD,EAAA;AAAa,QAAA,OAAA,GAAA,OAAA",sourcesContent:["\nimport {\n  SDK,\n  UsersApi,\n  GamesApi, GameBoardsApi,\n  RuleBundlesApi, GameStatesApi,\n  HistorysApi, TurnsApi,\n} from '../types/sdk';\nimport * as fn from '../shared/fn';\n\nimport { gameBoardsApi } from './frontendApi/models/GameBoards';\nimport { gamesApi } from './frontendApi/models/Games';\nimport { gameStatesApi } from './frontendApi/models/GameStates';\nimport { historysApi } from './frontendApi/models/Historys';\nimport { ruleBundlesApi } from './frontendApi/models/RuleBundles';\nimport { turnsApi } from './frontendApi/models/Turns';\nimport { setLoggedInUser, usersApi } from './frontendApi/models/Users';\nimport { MockPlayTurnApi } from './frontendApi/methods/PlayTurn';\n\nimport { addBundleCode } from './mockBackend/hookApi';\nimport { addMockData, resetMockData } from './mockBackend/data';\n\nexport class MockSdk implements SDK {\n\n  public contextPath: string;\n\n  constructor(contextPath: string) {\n    this.contextPath = contextPath;\n  }\n\n  // expose util fn  \n  public fn = fn.allFn;\n\n  // expose mock apis\n  public Users: UsersApi = usersApi;\n  public Games: GamesApi = gamesApi;\n  public RuleBundles: RuleBundlesApi = ruleBundlesApi;\n  public GameBoards: GameBoardsApi = gameBoardsApi; \n  public GameStates: GameStatesApi = gameStatesApi;\n  public Historys: HistorysApi = historysApi;\n  public Turns: TurnsApi = turnsApi;\n\n  public PlayTurn = new MockPlayTurnApi();\n\n\n  // special Mock SDK features \n  public static addBundleCode = addBundleCode;\n  public static addMockData = addMockData;\n  public static resetMockData = resetMockData;\n  public static setLoggedInUser = setLoggedInUser;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var r=(t.s[1]++,A(8)),o=(t.s[2]++,A(13)),l=(t.s[3]++,A(4)),i=(t.s[4]++,A(14)),u=(t.s[5]++,A(15)),a=(t.s[6]++,A(16)),s=(t.s[7]++,A(17)),c=(t.s[8]++,A(5)),m=(t.s[9]++,A(12)),d=(t.s[10]++,A(19)),f=(t.s[11]++,A(2)),p=(t.s[12]++,function(){function n(n){t.f[1]++,t.s[13]++,this.fn=r.allFn,t.s[14]++,this.Users=c.usersApi,t.s[15]++,this.Games=l.gamesApi,t.s[16]++,this.RuleBundles=a.ruleBundlesApi,t.s[17]++,this.GameBoards=o.gameBoardsApi,t.s[18]++,this.GameStates=i.gameStatesApi,t.s[19]++,this.Historys=u.historysApi,t.s[20]++,this.Turns=s.turnsApi,t.s[21]++,this.PlayTurn=new m.MockPlayTurnApi,t.s[22]++,this.contextPath=n}return t.f[0]++,t.s[23]++,n.addBundleCode=d.addBundleCode,t.s[24]++,n.addMockData=f.addMockData,t.s[25]++,n.resetMockData=f.resetMockData,t.s[26]++,n.setLoggedInUser=c.setLoggedInUser,t.s[27]++,n}());t.s[28]++,e.MockSdk=p},function(n,e,A){"use strict";function t(n){return r.f[0]++,r.s[10]++,{fn:o.allFn,Users:l.initUsersApi(n),Games:i.initGamesApi(n),RuleBundles:u.initRuleBundlesApi(n),GameBoards:a.initGameBoardsApi(n),GameStates:s.initGameStatesApi(n),Historys:c.initHistorysApi(n),Turns:m.initTurnsApi(n),PlayTurn:d.initPlayTurnApi(n)}}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/mule-sdk.ts",e="c381ebcc2c43a39f726186d0a6525ccda9a1dbb2",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/mule-sdk.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:9},end:{line:4,column:32}},2:{start:{line:5,column:14},end:{line:5,column:39}},3:{start:{line:6,column:14},end:{line:6,column:39}},4:{start:{line:7,column:20},end:{line:7,column:51}},5:{start:{line:8,column:19},end:{line:8,column:49}},6:{start:{line:9,column:19},end:{line:9,column:49}},7:{start:{line:10,column:17},end:{line:10,column:45}},8:{start:{line:11,column:14},end:{line:11,column:39}},9:{start:{line:12,column:17},end:{line:12,column:46}},10:{start:{line:14,column:4},end:{line:24,column:6}},11:{start:{line:26,column:0},end:{line:26,column:46}}},fnMap:{0:{name:"initializeMuleSdk",decl:{start:{line:13,column:9},end:{line:13,column:26}},loc:{start:{line:13,column:40},end:{line:25,column:1}},line:13}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/mule-sdk.ts"],names:[],mappings:";;;AAEA,IAAA,KAAA,QAAA,cAAA,CAAA;AAEA,IAAA,UAAA,QAAA,gBAAA,CAAA;AACA,IAAA,UAAA,QAAA,gBAAA,CAAA;AACA,IAAA,gBAAA,QAAA,sBAAA,CAAA;AACA,IAAA,eAAA,QAAA,qBAAA,CAAA;AACA,IAAA,eAAA,QAAA,qBAAA,CAAA;AACA,IAAA,aAAA,QAAA,mBAAA,CAAA;AACA,IAAA,UAAA,QAAA,gBAAA,CAAA;AAEA,IAAA,aAAA,QAAA,oBAAA,CAAA;AAGA,SAAA,iBAAA,CAAkC,WAAlC,EAAqD;AACnD,WAAO;AACL,YAAI,GAAG,KADF;AAGL,eAAO,QAAA,YAAA,CAAa,WAAb,CAHF;AAIL,eAAO,QAAA,YAAA,CAAa,WAAb,CAJF;AAKL,qBAAa,cAAA,kBAAA,CAAmB,WAAnB,CALR;AAML,oBAAY,aAAA,iBAAA,CAAkB,WAAlB,CANP;AAOL,oBAAY,aAAA,iBAAA,CAAkB,WAAlB,CAPP;AAQL,kBAAU,WAAA,eAAA,CAAgB,WAAhB,CARL;AASL,eAAO,QAAA,YAAA,CAAa,WAAb,CATF;AAWL,kBAAU,WAAA,eAAA,CAAgB,WAAhB;AAXL,KAAP;AAeD;AAhBD,QAAA,iBAAA,GAAA,iBAAA",sourcesContent:["\nimport { SDK } from '../types/sdk';\nimport * as fn from '../shared/fn';\n\nimport { initUsersApi } from './models/Users';\nimport { initGamesApi } from './models/Games';\nimport { initRuleBundlesApi } from './models/RuleBundles';\nimport { initGameBoardsApi } from './models/GameBoards';\nimport { initGameStatesApi } from './models/GameStates';\nimport { initHistorysApi } from './models/Historys';\nimport { initTurnsApi } from './models/Turns';\n\nimport { initPlayTurnApi } from './methods/PlayTurn';\n\n\nexport function initializeMuleSdk(contextPath: string): SDK {\n  return {\n    fn: fn.allFn,\n\n    Users: initUsersApi(contextPath),\n    Games: initGamesApi(contextPath),\n    RuleBundles: initRuleBundlesApi(contextPath),\n    GameBoards: initGameBoardsApi(contextPath),\n    GameStates: initGameStatesApi(contextPath),\n    Historys: initHistorysApi(contextPath),\n    Turns: initTurnsApi(contextPath),\n\n    PlayTurn: initPlayTurnApi(contextPath),\n\n    // Spinal: initSpinalApi(sdk),\n  };\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(8)),l=(r.s[2]++,A(7)),i=(r.s[3]++,A(24)),u=(r.s[4]++,A(26)),a=(r.s[5]++,A(22)),s=(r.s[6]++,A(23)),c=(r.s[7]++,A(25)),m=(r.s[8]++,A(27)),d=(r.s[9]++,A(21));r.s[11]++,e.initializeMuleSdk=t},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/index.ts",e="2261a44141bb15e000336f5a3aebc847623777ea",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/index.ts",statementMap:{0:{start:{line:4,column:4},end:{line:6,column:5}},1:{start:{line:5,column:8},end:{line:5,column:58}},2:{start:{line:5,column:40},end:{line:5,column:58}},3:{start:{line:8,column:0},end:{line:8,column:62}},4:{start:{line:9,column:17},end:{line:9,column:46}},5:{start:{line:10,column:0},end:{line:10,column:37}},6:{start:{line:11,column:17},end:{line:11,column:46}},7:{start:{line:12,column:0},end:{line:12,column:57}},8:{start:{line:13,column:0},end:{line:13,column:34}}},fnMap:{0:{name:"__export",decl:{start:{line:3,column:9},end:{line:3,column:17}},loc:{start:{line:3,column:21},end:{line:7,column:1}},line:3}},branchMap:{0:{loc:{start:{line:5,column:8},end:{line:5,column:58}},type:"if",locations:[{start:{line:5,column:8},end:{line:5,column:58}},{start:{line:5,column:8},end:{line:5,column:58}}],line:5}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/index.ts"],names:[],mappings:";;;;;;;;AAAA,IAAA,aAAA,QAAA,oBAAA,CAAA;AAAS,QAAA,OAAA,GAAA,WAAA,OAAA;AACT,IAAA,aAAA,QAAA,oBAAA,CAAA;AAAS,QAAA,iBAAA,GAAA,WAAA,iBAAA;AAET,SAAA,QAAA,cAAA,CAAA",sourcesContent:["export { MockSdk } from './mockSdk/mock-sdk';\nexport { initializeMuleSdk } from './muleSdk/mule-sdk';\n\nexport * from './types/mule';\nexport * from './types/mule-http';\nexport * from './types/sdk';\nexport * from './types/backend-sdk';\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[3]++,Object.defineProperty(e,"__esModule",{value:!0});var r=(t.s[4]++,A(9));t.s[5]++,e.MockSdk=r.MockSdk;var o=(t.s[6]++,A(10));t.s[7]++,e.initializeMuleSdk=o.initializeMuleSdk,t.s[8]++,function(n){t.f[0]++,t.s[0]++;for(var A in n)t.s[1]++,e.hasOwnProperty(A)?t.b[0][1]++:(t.b[0][0]++,t.s[2]++,e[A]=n[A])}(A(1))},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/methods/PlayTurn.ts",e="7c6171fc6f731bd3a80f41dc2722a16c9d9e1768",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/methods/PlayTurn.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:14},end:{line:4,column:48}},2:{start:{line:5,column:35},end:{line:15,column:3}},3:{start:{line:7,column:8},end:{line:9,column:10}},4:{start:{line:8,column:12},end:{line:8,column:59}},5:{start:{line:10,column:8},end:{line:12,column:10}},6:{start:{line:11,column:12},end:{line:11,column:52}},7:{start:{line:14,column:4},end:{line:14,column:27}},8:{start:{line:16,column:0},end:{line:16,column:42}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:5,column:35},end:{line:5,column:36}},loc:{start:{line:5,column:47},end:{line:15,column:1}},line:5},1:{name:"MockPlayTurnApi",decl:{start:{line:6,column:13},end:{line:6,column:28}},loc:{start:{line:6,column:31},end:{line:13,column:5}},line:6},2:{name:"(anonymous_2)",decl:{start:{line:7,column:21},end:{line:7,column:22}},loc:{start:{line:7,column:39},end:{line:9,column:9}},line:7},3:{name:"(anonymous_3)",decl:{start:{line:10,column:29},end:{line:10,column:30}},loc:{start:{line:10,column:55},end:{line:12,column:9}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0,3:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/methods/PlayTurn.ts"],names:[],mappings:";;;AAKA,IAAA,UAAA,QAAA,yBAAA,CAAA;AAEA,IAAA,kBAAA,aAAA,YAAA;AAAA,aAAA,eAAA,GAAA;AACS,aAAA,KAAA,GAAQ,UAAC,MAAD,EAAiC;AAC9C,mBAAO,QAAA,QAAA,CAAS,OAAO,MAAhB,EAAwB,MAAxB,CAAP;AACD,SAFM;AAGA,aAAA,aAAA,GAAgB,UAAC,MAAD,EAAiB,MAAjB,EAA4C;AACjE,mBAAO,QAAA,QAAA,CAAS,MAAT,EAAiB,MAAjB,CAAP;AACD,SAFM;AAGR;AAAD,WAAA,eAAA;AAAC,CAPD,EAAA;AAAa,QAAA,eAAA,GAAA,eAAA",sourcesContent:["import {\n  MuleGamesPlayTurnRequest, MulePlayTurnRequest, MulePlayTurnResponse\n} from '../../../types/mule-http';\nimport { PlayTurnApi } from '../../../types/sdk';\n\nimport { playTurn } from '../../mockBackend/brain';\n\nexport class MockPlayTurnApi implements PlayTurnApi {\n  public sendQ = (params: MuleGamesPlayTurnRequest): Promise<MulePlayTurnResponse> => {\n    return playTurn(params.gameId, params);\n  }\n  public sendGameTurnQ = (gameId: string, params: MulePlayTurnRequest): Promise<MulePlayTurnResponse> => {\n    return playTurn(gameId, params);\n  }\n}"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var r=(t.s[1]++,A(18)),o=(t.s[2]++,function(){function n(){t.f[1]++,t.s[3]++,this.sendQ=function(n){return t.f[2]++,t.s[4]++,r.playTurn(n.gameId,n)},t.s[5]++,this.sendGameTurnQ=function(n,e){return t.f[3]++,t.s[6]++,r.playTurn(n,e)}}return t.f[0]++,t.s[7]++,n}());t.s[8]++,e.MockPlayTurnApi=o},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/GameBoards.ts",e="855bee3790e2f3b30ada82e6928c17bb85d5a6ca",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/GameBoards.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:43}},2:{start:{line:5,column:13},end:{line:5,column:46}},3:{start:{line:6,column:14},end:{line:6,column:32}},4:{start:{line:7,column:37},end:{line:26,column:3}},5:{start:{line:9,column:20},end:{line:9,column:24}},6:{start:{line:10,column:8},end:{line:12,column:10}},7:{start:{line:11,column:12},end:{line:11,column:63}},8:{start:{line:13,column:8},end:{line:13,column:77}},9:{start:{line:14,column:8},end:{line:14,column:34}},10:{start:{line:15,column:8},end:{line:17,column:10}},11:{start:{line:16,column:12},end:{line:16,column:55}},12:{start:{line:19,column:4},end:{line:24,column:6}},13:{start:{line:20,column:20},end:{line:20,column:24}},14:{start:{line:21,column:8},end:{line:23,column:11}},15:{start:{line:22,column:12},end:{line:22,column:47}},16:{start:{line:25,column:4},end:{line:25,column:29}},17:{start:{line:27,column:0},end:{line:27,column:46}},18:{start:{line:28,column:0},end:{line:28,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:7,column:37},end:{line:7,column:38}},loc:{start:{line:7,column:49},end:{line:26,column:1}},line:7},1:{name:"MockGameBoardsApi",decl:{start:{line:8,column:13},end:{line:8,column:30}},loc:{start:{line:8,column:33},end:{line:18,column:5}},line:8},2:{name:"(anonymous_2)",decl:{start:{line:10,column:22},end:{line:10,column:23}},loc:{start:{line:10,column:34},end:{line:12,column:9}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:15,column:30},end:{line:15,column:31}},loc:{start:{line:15,column:48},end:{line:17,column:9}},line:15},4:{name:"(anonymous_4)",decl:{start:{line:19,column:50},end:{line:19,column:51}},loc:{start:{line:19,column:68},end:{line:24,column:5}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:21,column:51},end:{line:21,column:52}},loc:{start:{line:21,column:67},end:{line:23,column:9}},line:21}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/GameBoards.ts"],names:[],mappings:";;;AAEA,IAAA,SAAA,QAAA,qBAAA,CAAA;AAGA,IAAA,SAAA,QAAA,wBAAA,CAAA;AAEA,IAAA,UAAA,QAAA,SAAA,CAAA;AAEA,IAAA,oBAAA,aAAA,YAAA;AAAA,aAAA,iBAAA,GAAA;AAAA,YAAA,QAAA,IAAA;AAES,aAAA,MAAA,GAAS,YAAA;AACd,mBAAO,QAAQ,OAAR,CAAgB,OAAA,QAAA,CAAS,UAAzB,CAAP;AACD,SAFM;AAGA,aAAA,KAAA,GAAgD,OAAA,cAAA,CAA0B,OAAA,cAAA,CAAe,UAAzC,CAAhD;AAKA,aAAA,eAAA,GAAkC,EAAlC;AACA,aAAA,cAAA,GAAiB,UAAC,MAAD,EAAkB;AACxC,kBAAK,eAAL,CAAqB,OAAO,GAA5B,IAAmC,MAAnC;AACD,SAFM;AAGR;AARQ,sBAAA,SAAA,CAAA,eAAA,GAAP,UAAwB,MAAxB,EAAsC;AAAtC,YAAA,QAAA,IAAA;AACE,eAAO,QAAA,QAAA,CAAS,KAAT,CAAe,MAAf,EACJ,IADI,CACC,UAAC,IAAD,EAAK;AAAK,mBAAA,MAAK,KAAL,CAAW,KAAX,SAAA,CAAA;AAA0B,SADrC,CAAP;AAED,KAHM;AAQT,WAAA,iBAAA;AAAC,CAdD,EAAA;AAAa,QAAA,iBAAA,GAAA,iBAAA;AAgBA,QAAA,aAAA,GAA+B,IAAI,iBAAJ,EAA/B",sourcesContent:["\n\nimport { DataModelTypes, GameBoard, GameBoardCache } from '../../../types/mule';\nimport { GameBoardsApi } from '../../../types/sdk';\n\nimport { database, genericGetData } from '../../mockBackend/data';\n\nimport { gamesApi } from './Games';\n\nexport class MockGameBoardsApi implements GameBoardsApi {\n\n  public indexQ = (): Promise<GameBoard[]> => {\n    return Promise.resolve(database.GameBoards);\n  }\n  public readQ: (userId: string) => Promise<GameBoard> = genericGetData<GameBoard>(DataModelTypes.GameBoards);\n  public readGamesBoardQ (gameId: string): Promise<GameBoard> {\n    return gamesApi.readQ(gameId)\n      .then((game) => this.readQ(game.gameBoard));\n  }\n  public gameBoardsCache: GameBoardCache = {};\n  public cacheGameBoard = (result: GameBoard): void => {\n    this.gameBoardsCache[result._id] = result;\n  }\n}\n\nexport const gameBoardsApi: GameBoardsApi = new MockGameBoardsApi();\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var r=(t.s[1]++,A(1)),o=(t.s[2]++,A(2)),l=(t.s[3]++,A(4)),i=(t.s[4]++,function(){function n(){t.f[1]++;var n=(t.s[5]++,this);t.s[6]++,this.indexQ=function(){return t.f[2]++,t.s[7]++,Promise.resolve(o.database.GameBoards)},t.s[8]++,this.readQ=o.genericGetData(r.DataModelTypes.GameBoards),t.s[9]++,this.gameBoardsCache={},t.s[10]++,this.cacheGameBoard=function(e){t.f[3]++,t.s[11]++,n.gameBoardsCache[e._id]=e}}return t.f[0]++,t.s[12]++,n.prototype.readGamesBoardQ=function(n){t.f[4]++;var e=(t.s[13]++,this);return t.s[14]++,l.gamesApi.readQ(n).then(function(n){return t.f[5]++,t.s[15]++,e.readQ(n.gameBoard)})},t.s[16]++,n}());t.s[17]++,e.MockGameBoardsApi=i,t.s[18]++,e.gameBoardsApi=new i},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/GameStates.ts",e="d47467ac54c8e34bdb0dcca9833202395a343779",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/GameStates.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:43}},2:{start:{line:5,column:13},end:{line:5,column:46}},3:{start:{line:6,column:37},end:{line:17,column:3}},4:{start:{line:8,column:8},end:{line:10,column:10}},5:{start:{line:9,column:12},end:{line:9,column:63}},6:{start:{line:11,column:8},end:{line:13,column:10}},7:{start:{line:12,column:12},end:{line:12,column:45}},8:{start:{line:14,column:8},end:{line:14,column:77}},9:{start:{line:16,column:4},end:{line:16,column:29}},10:{start:{line:18,column:0},end:{line:18,column:46}},11:{start:{line:19,column:0},end:{line:19,column:48}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:37},end:{line:6,column:38}},loc:{start:{line:6,column:49},end:{line:17,column:1}},line:6},1:{name:"MockGameStatesApi",decl:{start:{line:7,column:13},end:{line:7,column:30}},loc:{start:{line:7,column:33},end:{line:15,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:8,column:22},end:{line:8,column:23}},loc:{start:{line:8,column:34},end:{line:10,column:9}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:11,column:23},end:{line:11,column:24}},loc:{start:{line:11,column:41},end:{line:13,column:9}},line:11}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/GameStates.ts"],names:[],mappings:";;;AAEA,IAAA,SAAA,QAAA,qBAAA,CAAA;AAGA,IAAA,SAAA,QAAA,wBAAA,CAAA;AAEA,IAAA,oBAAA,aAAA,YAAA;AAAA,aAAA,iBAAA,GAAA;AACS,aAAA,MAAA,GAAS,YAAA;AACd,mBAAO,QAAQ,OAAR,CAAgB,OAAA,QAAA,CAAS,UAAzB,CAAP;AACD,SAFM;AAGA,aAAA,OAAA,GAAU,UAAC,MAAD,EAAoB;AACnC,kBAAM,IAAI,KAAJ,CAAU,SAAS,MAAnB,CAAN;AACD,SAFM;AAGA,aAAA,KAAA,GAAqD,OAAA,cAAA,CAA0B,OAAA,cAAA,CAAe,UAAzC,CAArD;AACR;AAAD,WAAA,iBAAA;AAAC,CARD,EAAA;AAAa,QAAA,iBAAA,GAAA,iBAAA;AAUA,QAAA,aAAA,GAA+B,IAAI,iBAAJ,EAA/B",sourcesContent:["\n\nimport { DataModelTypes, GameState } from '../../../types/mule';\nimport { GameStatesApi, UnknownType } from '../../../types/sdk';\n\nimport { database, genericGetData } from '../../mockBackend/data';\n\nexport class MockGameStatesApi implements GameStatesApi {\n  public indexQ = (): Promise<GameState[]> => {\n    return Promise.resolve(database.GameStates);\n  }\n  public createQ = (params: UnknownType): Promise<UnknownType> => {\n    throw new Error('nyi ' + params);\n  }\n  public readQ: (gameStateId: string) => Promise<GameState> = genericGetData<GameState>(DataModelTypes.GameStates);\n}\n\nexport const gameStatesApi: GameStatesApi = new MockGameStatesApi();\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var r=(t.s[1]++,A(1)),o=(t.s[2]++,A(2)),l=(t.s[3]++,function(){function n(){t.f[1]++,t.s[4]++,this.indexQ=function(){return t.f[2]++,t.s[5]++,Promise.resolve(o.database.GameStates)},t.s[6]++,this.createQ=function(n){throw t.f[3]++,t.s[7]++,new Error("nyi "+n)},t.s[8]++,this.readQ=o.genericGetData(r.DataModelTypes.GameStates)}return t.f[0]++,t.s[9]++,n}());t.s[10]++,e.MockGameStatesApi=l,t.s[11]++,e.gameStatesApi=new l},function(n,e,A){"use strict";function t(n){return o.f[7]++,o.s[23]++,a.genericGetData(u.DataModelTypes.Games)(n).then(function(n){return o.f[8]++,o.s[24]++,a.genericGetData(u.DataModelTypes.GameBoards)(n.gameBoard)}).then(function(n){return o.f[9]++,o.s[25]++,a.genericGetData(u.DataModelTypes.Historys)(n.history)})}function r(n){if(o.f[10]++,o.s[26]++,n.turnSubmitStyle===u.TurnSubmitStyle.RoundRobin){o.b[2][0]++;var e=(o.s[27]++,n);return o.s[28]++,i.map(e.turns,function(n){return o.f[11]++,o.s[29]++,i.map(n,function(n){return o.f[12]++,o.s[30]++,a.genericGet(u.DataModelTypes.Turns,n)})})}if(o.b[2][1]++,o.s[31]++,n.turnSubmitStyle===u.TurnSubmitStyle.PlayByMail){o.b[3][0]++;var A=(o.s[32]++,n);return o.s[33]++,i.map(A.turns,function(n){return o.f[13]++,o.s[34]++,a.genericGet(u.DataModelTypes.Turns,n)})}throw o.b[3][1]++,o.s[35]++,new Error("Unknown TurnSubmitStyle: "+n.turnSubmitStyle)}var o=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Historys.ts",e="9b80606a5f83dc9312147cd89cce790925a66337",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Historys.ts",statementMap:{0:{start:{line:3,column:15},end:{line:11,column:1}},1:{start:{line:4,column:4},end:{line:9,column:5}},2:{start:{line:5,column:8},end:{line:5,column:25}},3:{start:{line:6,column:8},end:{line:8,column:9}},4:{start:{line:7,column:12},end:{line:7,column:72}},5:{start:{line:7,column:60},end:{line:7,column:72}},6:{start:{line:10,column:4},end:{line:10,column:13}},7:{start:{line:12,column:0},end:{line:12,column:62}},8:{start:{line:13,column:15},end:{line:13,column:32}},9:{start:{line:14,column:13},end:{line:14,column:43}},10:{start:{line:15,column:13},end:{line:15,column:46}},11:{start:{line:16,column:35},end:{line:32,column:3}},12:{start:{line:18,column:8},end:{line:20,column:10}},13:{start:{line:19,column:12},end:{line:19,column:61}},14:{start:{line:21,column:8},end:{line:21,column:75}},15:{start:{line:22,column:8},end:{line:24,column:10}},16:{start:{line:23,column:12},end:{line:23,column:43}},17:{start:{line:25,column:8},end:{line:29,column:10}},18:{start:{line:26,column:12},end:{line:28,column:15}},19:{start:{line:27,column:16},end:{line:27,column:90}},20:{start:{line:31,column:4},end:{line:31,column:27}},21:{start:{line:33,column:0},end:{line:33,column:42}},22:{start:{line:34,column:0},end:{line:34,column:44}},23:{start:{line:36,column:4},end:{line:40,column:7}},24:{start:{line:37,column:8},end:{line:37,column:87}},25:{start:{line:39,column:8},end:{line:39,column:88}},26:{start:{line:43,column:4},end:{line:57,column:5}},27:{start:{line:44,column:28},end:{line:44,column:39}},28:{start:{line:45,column:8},end:{line:49,column:11}},29:{start:{line:46,column:12},end:{line:48,column:15}},30:{start:{line:47,column:16},end:{line:47,column:78}},31:{start:{line:50,column:11},end:{line:57,column:5}},32:{start:{line:51,column:29},end:{line:51,column:40}},33:{start:{line:52,column:8},end:{line:54,column:11}},34:{start:{line:53,column:12},end:{line:53,column:74}},35:{start:{line:56,column:8},end:{line:56,column:83}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:3,column:57},end:{line:3,column:58}},loc:{start:{line:3,column:70},end:{line:11,column:1}},line:3},1:{name:"(anonymous_1)",decl:{start:{line:16,column:35},end:{line:16,column:36}},loc:{start:{line:16,column:47},end:{line:32,column:1}},line:16},2:{name:"MockHistorysApi",decl:{start:{line:17,column:13},end:{line:17,column:28}},loc:{start:{line:17,column:31},end:{line:30,column:5}},line:17},3:{name:"(anonymous_3)",decl:{start:{line:18,column:22},end:{line:18,column:23}},loc:{start:{line:18,column:34},end:{line:20,column:9}},line:18},4:{name:"(anonymous_4)",decl:{start:{line:22,column:33},end:{line:22,column:34}},loc:{start:{line:22,column:51},end:{line:24,column:9}},line:22},5:{name:"(anonymous_5)",decl:{start:{line:25,column:37},end:{line:25,column:38}},loc:{start:{line:25,column:55},end:{line:29,column:9}},line:25},6:{name:"(anonymous_6)",decl:{start:{line:26,column:48},end:{line:26,column:49}},loc:{start:{line:26,column:71},end:{line:28,column:13}},line:26},7:{name:"getGamesHistory",decl:{start:{line:35,column:9},end:{line:35,column:24}},loc:{start:{line:35,column:33},end:{line:41,column:1}},line:35},8:{name:"(anonymous_8)",decl:{start:{line:36,column:75},end:{line:36,column:76}},loc:{start:{line:36,column:91},end:{line:38,column:5}},line:36},9:{name:"(anonymous_9)",decl:{start:{line:38,column:12},end:{line:38,column:13}},loc:{start:{line:38,column:33},end:{line:40,column:5}},line:38},10:{name:"getHistoryTurns",decl:{start:{line:42,column:9},end:{line:42,column:24}},loc:{start:{line:42,column:38},end:{line:58,column:1}},line:42},11:{name:"(anonymous_11)",decl:{start:{line:45,column:49},end:{line:45,column:50}},loc:{start:{line:45,column:66},end:{line:49,column:9}},line:45},12:{name:"(anonymous_12)",decl:{start:{line:46,column:39},end:{line:46,column:40}},loc:{start:{line:46,column:57},end:{line:48,column:13}},line:46},13:{name:"(anonymous_13)",decl:{start:{line:52,column:50},end:{line:52,column:51}},loc:{start:{line:52,column:68},end:{line:54,column:9}},line:52}},branchMap:{0:{loc:{start:{line:3,column:15},end:{line:11,column:1}},type:"binary-expr",locations:[{start:{line:3,column:15},end:{line:3,column:19}},{start:{line:3,column:23},end:{line:3,column:36}},{start:{line:3,column:40},end:{line:3,column:53}},{start:{line:3,column:57},end:{line:11,column:1}}],line:3},1:{loc:{start:{line:7,column:12},end:{line:7,column:72}},type:"if",locations:[{start:{line:7,column:12},end:{line:7,column:72}},{start:{line:7,column:12},end:{line:7,column:72}}],line:7},2:{loc:{start:{line:43,column:4},end:{line:57,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:57,column:5}},{start:{line:43,column:4},end:{line:57,column:5}}],line:43},3:{loc:{start:{line:50,column:11},end:{line:57,column:5}},type:"if",locations:[{start:{line:50,column:11},end:{line:57,column:5}},{start:{line:50,column:11},end:{line:57,column:5}}],line:50}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Historys.ts"],names:[],mappings:";;;;;;;;;;;;AAAA,IAAA,WAAA,QAAA,QAAA,CAAA;AAGA,IAAA,SAAA,QAAA,qBAAA,CAAA;AAOA,IAAA,SAAA,QAAA,wBAAA,CAAA;AAEA,IAAA,kBAAA,aAAA,YAAA;AAAA,aAAA,eAAA,GAAA;AACS,aAAA,MAAA,GAAS,YAAA;AACd,mBAAO,QAAQ,OAAR,CAAgB,OAAA,QAAA,CAAS,QAAzB,CAAP;AACD,SAFM;AAGA,aAAA,KAAA,GAAuD,OAAA,cAAA,CAA4B,OAAA,cAAA,CAAe,QAA3C,CAAvD;AACA,aAAA,iBAAA,GAAoB,UAAC,MAAD,EAAe;AACxC,mBAAO,gBAAgB,MAAhB,CAAP;AACD,SAFM;AAGA,aAAA,qBAAA,GAAwB,UAAC,MAAD,EAAe;AAC5C,mBAAO,gBAAgB,MAAhB,EACJ,IADI,CACC,UAAC,WAAD,EAAyB;AAC7B,uBAAO,SAAA,EAAA,EACF,WADE,EACS,EACd,OAAO,gBAAgB,WAAhB,CADO,EADT,CAAP;AAID,aANI,CAAP;AAOD,SARM;AASR;AAAD,WAAA,eAAA;AAAC,CAjBD,EAAA;AAAa,QAAA,eAAA,GAAA,eAAA;AAmBA,QAAA,WAAA,GAA2B,IAAI,eAAJ,EAA3B;AAEb,SAAA,eAAA,CAAyB,MAAzB,EAAuC;AACrC,WAAO,OAAA,cAAA,CAAqB,OAAA,cAAA,CAAe,KAApC,EAA2C,MAA3C,EACJ,IADI,CACC,UAAC,IAAD,EAAW;AACf,eAAO,OAAA,cAAA,CAA0B,OAAA,cAAA,CAAe,UAAzC,EAAqD,KAAK,SAA1D,CAAP;AACD,KAHI,EAIJ,IAJI,CAIC,UAAC,SAAD,EAAqB;AACzB,eAAO,OAAA,cAAA,CAA4B,OAAA,cAAA,CAAe,QAA3C,EAAqD,UAAU,OAA/D,CAAP;AACD,KANI,CAAP;AAOD;AAED,SAAA,eAAA,CACE,WADF,EAC0B;AAExB,QAAI,YAAY,eAAZ,KAAgC,OAAA,eAAA,CAAgB,UAApD,EAAgE;AAC9D,YAAM,gBAAgB,WAAtB;AACA,eAAO,SAAA,GAAA,CAAI,cAAc,KAAlB,EAAyB,UAAC,KAAD,EAAgB;AAC9C,mBAAO,SAAA,GAAA,CACL,KADK,EAEL,UAAC,MAAD,EAAe;AAAW,uBAAA,OAAA,UAAA,CAAiB,OAAA,cAAA,CAAe,KAAhC,EAAA,MAAA,CAAA;AAAsD,aAF3E,CAAP;AAID,SALM,CAAP;AAMD,KARD,MAQO,IAAI,YAAY,eAAZ,KAAgC,OAAA,eAAA,CAAgB,UAApD,EAAgE;AACrE,YAAM,iBAAiB,WAAvB;AACA,eAAO,SAAA,GAAA,CAAI,eAAe,KAAnB,EAA0B,UAAC,MAAD,EAAe;AAC9C,mBAAO,OAAA,UAAA,CAAiB,OAAA,cAAA,CAAe,KAAhC,EAAuC,MAAvC,CAAP;AACD,SAFM,CAAP;AAGD,KALM,MAKA;AACL,cAAM,IAAI,KAAJ,CAAU,8BAA8B,YAAY,eAApD,CAAN;AACD;AACF",sourcesContent:["import { map } from 'lodash';\n\n\nimport {\n  DataModelTypes, Turn, FullHistory, LiteHistory, Game, GameBoard,\n  PlayByMailHistoryTurns, RoundRobinHistoryTurns, TurnSubmitStyle,\n  LiteRoundRobinHistory, LitePlayByMailHistory,\n} from '../../../types/mule';\nimport { HistorysApi } from '../../../types/sdk';\n\nimport { database, genericGetData, genericGet } from '../../mockBackend/data';\n\nexport class MockHistorysApi implements HistorysApi {\n  public indexQ = (): Promise<LiteHistory[]> => {\n    return Promise.resolve(database.Historys);\n  }\n  public readQ: (gameStateId: string) => Promise<LiteHistory> = genericGetData<LiteHistory>(DataModelTypes.Historys);\n  public readGamesHistoryQ = (gameId: string): Promise<LiteHistory> => {\n    return getGamesHistory(gameId);\n  }\n  public readGamesFullHistoryQ = (gameId: string): Promise<FullHistory> => {\n    return getGamesHistory(gameId)\n      .then((liteHistory: LiteHistory) => {\n        return {\n          ...liteHistory,\n          turns: getHistoryTurns(liteHistory),\n        } as FullHistory;\n      });\n  }\n}\n\nexport const historysApi: HistorysApi = new MockHistorysApi();\n\nfunction getGamesHistory(gameId: string): Promise<LiteHistory> {\n  return genericGetData<Game>(DataModelTypes.Games)(gameId)\n    .then((game: Game) => {\n      return genericGetData<GameBoard>(DataModelTypes.GameBoards)(game.gameBoard);\n    })\n    .then((gameBoard: GameBoard) => {\n      return genericGetData<LiteHistory>(DataModelTypes.Historys)(gameBoard.history);\n    });\n}\n\nfunction getHistoryTurns(\n  liteHistory: LiteHistory\n): RoundRobinHistoryTurns<Turn> | PlayByMailHistoryTurns<Turn> {\n  if (liteHistory.turnSubmitStyle === TurnSubmitStyle.RoundRobin) {\n    const liteRRHistory = liteHistory as LiteRoundRobinHistory;\n    return map(liteRRHistory.turns, (turns: string[]): Turn[] => {\n      return map(\n        turns,\n        (turnId: string): Turn => genericGet<Turn>(DataModelTypes.Turns, turnId) as Turn,\n      );\n    }) as RoundRobinHistoryTurns<Turn>;\n  } else if (liteHistory.turnSubmitStyle === TurnSubmitStyle.PlayByMail) {\n    const litePBMHistory = liteHistory as LitePlayByMailHistory;\n    return map(litePBMHistory.turns, (turnId: string): Turn => {\n      return genericGet<Turn>(DataModelTypes.Turns, turnId) as Turn;\n    }) as PlayByMailHistoryTurns<Turn>;\n  } else {\n    throw new Error('Unknown TurnSubmitStyle: ' + liteHistory.turnSubmitStyle);\n  }\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}(),l=(o.s[0]++,o.b[0][0]++,this&&(o.b[0][1]++,this.__assign)||(o.b[0][2]++,Object.assign)||(o.b[0][3]++,function(n){o.f[0]++,o.s[1]++;for(var e,A=1,t=arguments.length;A<t;A++){o.s[2]++,e=arguments[A],o.s[3]++;for(var r in e)o.s[4]++,Object.prototype.hasOwnProperty.call(e,r)?(o.b[1][0]++,o.s[5]++,n[r]=e[r]):o.b[1][1]++}return o.s[6]++,n}));o.s[7]++,Object.defineProperty(e,"__esModule",{value:!0});var i=(o.s[8]++,A(0)),u=(o.s[9]++,A(1)),a=(o.s[10]++,A(2)),s=(o.s[11]++,function(){function n(){o.f[2]++,o.s[12]++,this.indexQ=function(){return o.f[3]++,o.s[13]++,Promise.resolve(a.database.Historys)},o.s[14]++,this.readQ=a.genericGetData(u.DataModelTypes.Historys),o.s[15]++,this.readGamesHistoryQ=function(n){return o.f[4]++,o.s[16]++,t(n)},o.s[17]++,this.readGamesFullHistoryQ=function(n){return o.f[5]++,o.s[18]++,t(n).then(function(n){return o.f[6]++,o.s[19]++,l({},n,{turns:r(n)})})}}return o.f[1]++,o.s[20]++,n}());o.s[21]++,e.MockHistorysApi=s,o.s[22]++,e.historysApi=new s},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/RuleBundles.ts",e="4a8988d6b952561539f36a5ca5245b93d3b5db82",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/RuleBundles.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:43}},2:{start:{line:5,column:13},end:{line:5,column:46}},3:{start:{line:6,column:38},end:{line:17,column:3}},4:{start:{line:8,column:8},end:{line:10,column:10}},5:{start:{line:9,column:12},end:{line:9,column:64}},6:{start:{line:11,column:8},end:{line:13,column:10}},7:{start:{line:12,column:12},end:{line:12,column:44}},8:{start:{line:14,column:8},end:{line:14,column:78}},9:{start:{line:16,column:4},end:{line:16,column:30}},10:{start:{line:18,column:0},end:{line:18,column:48}},11:{start:{line:19,column:0},end:{line:19,column:50}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:38},end:{line:6,column:39}},loc:{start:{line:6,column:50},end:{line:17,column:1}},line:6},1:{name:"MockRuleBundlesApi",decl:{start:{line:7,column:13},end:{line:7,column:31}},loc:{start:{line:7,column:34},end:{line:15,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:8,column:22},end:{line:8,column:23}},loc:{start:{line:8,column:34},end:{line:10,column:9}},line:8},3:{name:"(anonymous_3)",decl:{start:{line:11,column:23},end:{line:11,column:24}},loc:{start:{line:11,column:41},end:{line:13,column:9}},line:11}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},f:{0:0,1:0,2:0,3:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/RuleBundles.ts"],names:[],mappings:";;;AAEA,IAAA,SAAA,QAAA,qBAAA,CAAA;AAGA,IAAA,SAAA,QAAA,wBAAA,CAAA;AAEA,IAAA,qBAAA,aAAA,YAAA;AAAA,aAAA,kBAAA,GAAA;AACS,aAAA,MAAA,GAAS,YAAA;AACd,mBAAO,QAAQ,OAAR,CAAgB,OAAA,QAAA,CAAS,WAAzB,CAAP;AACD,SAFM;AAGA,aAAA,OAAA,GAAU,UAAC,MAAD,EAAoB;AACnC,kBAAM,IAAI,KAAJ,CAAU,QAAQ,MAAlB,CAAN;AACD,SAFM;AAGA,aAAA,KAAA,GAAuD,OAAA,cAAA,CAA2B,OAAA,cAAA,CAAe,WAA1C,CAAvD;AACR;AAAD,WAAA,kBAAA;AAAC,CARD,EAAA;AAAa,QAAA,kBAAA,GAAA,kBAAA;AAUA,QAAA,cAAA,GAAiC,IAAI,kBAAJ,EAAjC",sourcesContent:["\n\nimport { DataModelTypes, RuleBundle } from '../../../types/mule';\nimport { RuleBundlesApi, UnknownType } from '../../../types/sdk';\n\nimport { database, genericGetData } from '../../mockBackend/data';\n\nexport class MockRuleBundlesApi implements RuleBundlesApi {\n  public indexQ = (): Promise<RuleBundle[]> => {\n    return Promise.resolve(database.RuleBundles);\n  }\n  public createQ = (params: UnknownType): Promise<UnknownType> => {\n    throw new Error('nyi' + params);\n  }\n  public readQ: (ruleBundleId: string) => Promise<RuleBundle> = genericGetData<RuleBundle>(DataModelTypes.RuleBundles);\n}\n\nexport const ruleBundlesApi: RuleBundlesApi = new MockRuleBundlesApi();\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var r=(t.s[1]++,A(1)),o=(t.s[2]++,A(2)),l=(t.s[3]++,function(){function n(){t.f[1]++,t.s[4]++,this.indexQ=function(){return t.f[2]++,t.s[5]++,Promise.resolve(o.database.RuleBundles)},t.s[6]++,this.createQ=function(n){throw t.f[3]++,t.s[7]++,new Error("nyi"+n)},t.s[8]++,this.readQ=o.genericGetData(r.DataModelTypes.RuleBundles)}return t.f[0]++,t.s[9]++,n}());t.s[10]++,e.MockRuleBundlesApi=l,t.s[11]++,e.ruleBundlesApi=new l},function(n,e,A){"use strict";var t=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Turns.ts",e="7038482fdacd8290a116fe6058caf31b27d554ac",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Turns.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:43}},2:{start:{line:5,column:13},end:{line:5,column:46}},3:{start:{line:6,column:32},end:{line:14,column:3}},4:{start:{line:8,column:8},end:{line:8,column:72}},5:{start:{line:9,column:8},end:{line:11,column:10}},6:{start:{line:10,column:12},end:{line:10,column:64}},7:{start:{line:13,column:4},end:{line:13,column:24}},8:{start:{line:15,column:0},end:{line:15,column:36}},9:{start:{line:16,column:0},end:{line:16,column:38}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:6,column:32},end:{line:6,column:33}},loc:{start:{line:6,column:44},end:{line:14,column:1}},line:6},1:{name:"MockTurnsApi",decl:{start:{line:7,column:13},end:{line:7,column:25}},loc:{start:{line:7,column:28},end:{line:12,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:9,column:30},end:{line:9,column:31}},loc:{start:{line:9,column:60},end:{line:11,column:9}},line:9}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/frontendApi/models/Turns.ts"],names:[],mappings:";;;AAAA,IAAA,SAAA,QAAA,qBAAA,CAAA;AAGA,IAAA,SAAA,QAAA,wBAAA,CAAA;AAEA,IAAA,eAAA,aAAA,YAAA;AAAA,aAAA,YAAA,GAAA;AACS,aAAA,KAAA,GAA2C,OAAA,cAAA,CAAqB,OAAA,cAAA,CAAe,KAApC,CAA3C;AACA,aAAA,cAAA,GAAiB,UAAC,MAAD,EAAiB,UAAjB,EAAmC;AACzD,kBAAM,IAAI,KAAJ,CAAU,SAAS,MAAT,GAAkB,GAAlB,GAAwB,UAAlC,CAAN;AACD,SAFM;AAGR;AAAD,WAAA,YAAA;AAAC,CALD,EAAA;AAAa,QAAA,YAAA,GAAA,YAAA;AAOA,QAAA,QAAA,GAAqB,IAAI,YAAJ,EAArB",sourcesContent:["import { DataModelTypes, Turn } from '../../../types/mule';\nimport { TurnsApi } from '../../../types/sdk';\n\nimport { genericGetData } from '../../mockBackend/data';\n\nexport class MockTurnsApi implements TurnsApi {\n  public readQ: (turnId: string) => Promise<Turn> = genericGetData<Turn>(DataModelTypes.Turns);\n  public readGamesTurnQ = (gameId: string, turnNumber: number): Promise<Turn> => {\n    throw new Error('nyi ' + gameId + ' ' + turnNumber);\n  }\n}\n\nexport const turnsApi: TurnsApi = new MockTurnsApi();\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();t.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var r=(t.s[1]++,A(1)),o=(t.s[2]++,A(2)),l=(t.s[3]++,function(){function n(){t.f[1]++,t.s[4]++,this.readQ=o.genericGetData(r.DataModelTypes.Turns),t.s[5]++,this.readGamesTurnQ=function(n,e){throw t.f[2]++,t.s[6]++,new Error("nyi "+n+" "+e)}}return t.f[0]++,t.s[7]++,n}());t.s[8]++,e.MockTurnsApi=l,t.s[9]++,e.turnsApi=new l},function(n,e,A){"use strict";function t(n,e){r.f[2]++;var A,t=(r.s[9]++,i.genericGet(l.DataModelTypes.Games,n));if(r.s[10]++,!t)throw r.b[0][0]++,r.s[11]++,new Error("invalid gameId "+n);r.b[0][1]++;var s=(r.s[12]++,i.genericGet(l.DataModelTypes.RuleBundles,t.ruleBundle.id));if(r.s[13]++,!s)throw r.b[1][0]++,r.s[14]++,new Error("invalid ruleBundleId "+t.ruleBundle.id);r.b[1][1]++;var c=(r.s[15]++,i.genericGet(l.DataModelTypes.GameBoards,t.gameBoard));if(r.s[16]++,!c)throw r.b[2][0]++,r.s[17]++,new Error("invalid gameboardId "+t.gameBoard);r.b[2][1]++;var m=(r.s[18]++,i.genericGet(l.DataModelTypes.Historys,c.history));if(r.s[19]++,!m)throw r.b[3][0]++,r.s[20]++,new Error("invalid historyId "+c.history);r.b[3][1]++;var d=(r.s[21]++,o.findKey(t.players,function(n){return r.f[3]++,r.s[22]++,n.playerId===e.playerId}));if(r.s[23]++,!d)throw r.b[4][0]++,r.s[24]++,new Error("invalid playerId: "+e.playerId);r.b[4][1]++,r.s[25]++,a.validateActions(n,s.name,e.actions);var f=(r.s[26]++,s.turnSubmitStyle),p=(r.s[27]++,i.genericCreate(l.DataModelTypes.Turns,{gameId:n,turnNumber:m.currentTurn,playerTurns:(A={},A[d]={dateSubmitted:new Date,actions:e.actions},A)}));if(r.s[28]++,f===l.TurnSubmitStyle.RoundRobin){if(r.b[5][0]++,r.s[29]++,!u.isPlayersTurn(d,m))throw r.b[6][0]++,r.s[30]++,new Error("not players turn: "+e.playerId);return r.b[6][1]++,r.s[31]++,u.addTurnAndSaveHistory(p,d,m),r.s[32]++,u.playTurn(n,s.name,d,p,m)}throw r.b[5][1]++,r.s[33]++,f===l.TurnSubmitStyle.PlayByMail?(r.b[7][0]++,r.s[34]++,new Error("nyi")):(r.b[7][1]++,r.s[35]++,new Error("wtf unknown submitstyle"))}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/brain.ts",e="39c2af59ca9bb97dcaef0bb6b6f5bf58c13a026c",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/brain.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:15},end:{line:4,column:32}},2:{start:{line:5,column:13},end:{line:5,column:40}},3:{start:{line:6,column:13},end:{line:6,column:30}},4:{start:{line:7,column:17},end:{line:7,column:40}},5:{start:{line:8,column:22},end:{line:8,column:48}},6:{start:{line:9,column:36},end:{line:12,column:3}},7:{start:{line:11,column:4},end:{line:11,column:28}},8:{start:{line:13,column:0},end:{line:13,column:44}},9:{start:{line:16,column:15},end:{line:16,column:69}},10:{start:{line:17,column:4},end:{line:19,column:5}},11:{start:{line:18,column:8},end:{line:18,column:52}},12:{start:{line:20,column:21},end:{line:20,column:93}},13:{start:{line:21,column:4},end:{line:23,column:5}},14:{start:{line:22,column:8},end:{line:22,column:70}},15:{start:{line:24,column:20},end:{line:24,column:87}},16:{start:{line:25,column:4},end:{line:27,column:5}},17:{start:{line:26,column:8},end:{line:26,column:65}},18:{start:{line:32,column:18},end:{line:32,column:86}},19:{start:{line:33,column:4},end:{line:35,column:5}},20:{start:{line:34,column:8},end:{line:34,column:66}},21:{start:{line:36,column:20},end:{line:38,column:6}},22:{start:{line:37,column:8},end:{line:37,column:51}},23:{start:{line:39,column:4},end:{line:41,column:5}},24:{start:{line:40,column:8},end:{line:40,column:64}},25:{start:{line:43,column:4},end:{line:43,column:77}},26:{start:{line:45,column:26},end:{line:45,column:52}},27:{start:{line:47,column:18},end:{line:54,column:6}},28:{start:{line:55,column:4},end:{line:67,column:5}},29:{start:{line:57,column:8},end:{line:59,column:9}},30:{start:{line:58,column:12},end:{line:58,column:68}},31:{start:{line:61,column:8},end:{line:61,column:70}},32:{start:{line:62,column:8},end:{line:62,column:89}},33:{start:{line:63,column:11},end:{line:67,column:5}},34:{start:{line:64,column:8},end:{line:64,column:31}},35:{start:{line:66,column:8},end:{line:66,column:51}},36:{start:{line:69,column:0},end:{line:69,column:28}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:9,column:36},end:{line:9,column:37}},loc:{start:{line:9,column:48},end:{line:12,column:1}},line:9},1:{name:"BackendMockBrain",decl:{start:{line:10,column:13},end:{line:10,column:29}},loc:{start:{line:10,column:32},end:{line:10,column:34}},line:10},2:{name:"playTurn",decl:{start:{line:14,column:9},end:{line:14,column:17}},loc:{start:{line:14,column:34},end:{line:68,column:1}},line:14},3:{name:"(anonymous_3)",decl:{start:{line:36,column:51},end:{line:36,column:52}},loc:{start:{line:36,column:69},end:{line:38,column:5}},line:36}},branchMap:{0:{loc:{start:{line:17,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:19,column:5}},{start:{line:17,column:4},end:{line:19,column:5}}],line:17},1:{loc:{start:{line:21,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:23,column:5}},{start:{line:21,column:4},end:{line:23,column:5}}],line:21},2:{loc:{start:{line:25,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:27,column:5}},{start:{line:25,column:4},end:{line:27,column:5}}],line:25},3:{loc:{start:{line:33,column:4},end:{line:35,column:5}},type:"if",locations:[{start:{line:33,column:4},end:{line:35,column:5}},{start:{line:33,column:4},end:{line:35,column:5}}],line:33},4:{loc:{start:{line:39,column:4},end:{line:41,column:5}},type:"if",locations:[{start:{line:39,column:4},end:{line:41,column:5}},{start:{line:39,column:4},end:{line:41,column:5}}],line:39},5:{loc:{start:{line:55,column:4},end:{line:67,column:5}},type:"if",locations:[{start:{line:55,column:4},end:{line:67,column:5}},{start:{line:55,column:4},end:{line:67,column:5}}],line:55},6:{loc:{start:{line:57,column:8},end:{line:59,column:9}},type:"if",locations:[{start:{line:57,column:8},end:{line:59,column:9}},{start:{line:57,column:8},end:{line:59,column:9}}],line:57},7:{loc:{start:{line:63,column:11},end:{line:67,column:5}},type:"if",locations:[{start:{line:63,column:11},end:{line:67,column:5}},{start:{line:63,column:11},end:{line:67,column:5}}],line:63}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0},f:{0:0,1:0,2:0,3:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/brain.ts"],names:[],mappings:";;;AAAA,IAAA,WAAA,QAAA,QAAA,CAAA;AAEA,IAAA,SAAA,QAAA,kBAAA,CAAA;AAMA,IAAA,SAAA,QAAA,QAAA,CAAA;AACA,IAAA,aAAA,QAAA,cAAA,CAAA;AACA,IAAA,kBAAA,QAAA,iBAAA,CAAA;AAEA,IAAA,mBAAA,aAAA,YAAA;AAAA,aAAA,gBAAA,GAAA,CAEC;AAAD,WAAA,gBAAA;AAAC,CAFD,EAAA;AAAa,QAAA,gBAAA,GAAA,gBAAA;AAKb,SAAA,QAAA,CAAyB,MAAzB,EAAyC,MAAzC,EAAoE;;AAClE,QAAM,OAAyB,OAAA,UAAA,CAAiB,OAAA,cAAA,CAAe,KAAhC,EAAuC,MAAvC,CAA/B;AACA,QAAI,CAAC,IAAL,EAAW;AACT,cAAM,IAAI,KAAJ,CAAU,oBAAoB,MAA9B,CAAN;AACD;AAED,QAAM,aAAqC,OAAA,UAAA,CAAuB,OAAA,cAAA,CAAe,WAAtC,EAAmD,KAAK,UAAL,CAAgB,EAAnE,CAA3C;AACA,QAAI,CAAC,UAAL,EAAiB;AACf,cAAM,IAAI,KAAJ,CAAU,0BAA0B,KAAK,UAAL,CAAgB,EAApD,CAAN;AACD;AAED,QAAM,YAAmC,OAAA,UAAA,CAAsB,OAAA,cAAA,CAAe,UAArC,EAAiD,KAAK,SAAtD,CAAzC;AACA,QAAI,CAAC,SAAL,EAAgB;AACd,cAAM,IAAI,KAAJ,CAAU,yBAAyB,KAAK,SAAxC,CAAN;AACD;AAED;AACA;AACA;AACA;AAEA,QAAM,UAAmC,OAAA,UAAA,CAAwB,OAAA,cAAA,CAAe,QAAvC,EAAiD,UAAU,OAA3D,CAAzC;AACA,QAAI,CAAC,OAAL,EAAc;AACZ,cAAM,IAAI,KAAJ,CAAU,uBAAuB,UAAU,OAA3C,CAAN;AACD;AAED,QAAM,YAAgC,SAAA,OAAA,CAAQ,KAAK,OAAb,EAAsB,UAAC,MAAD,EAAyB;AACnF,eAAO,OAAO,QAAP,KAAoB,OAAO,QAAlC;AACD,KAFqC,CAAtC;AAGA,QAAI,CAAC,SAAL,EAAgB;AACd,cAAM,IAAI,KAAJ,CAAU,uBAAuB,OAAO,QAAxC,CAAN;AACD;AAED;AACA,oBAAA,eAAA,CAAgB,MAAhB,EAAwB,WAAW,IAAnC,EAAyC,OAAO,OAAhD;AAEA;AACA,QAAM,kBAAmC,WAAW,eAApD;AAEA;AACA,QAAM,UAAgB,OAAA,aAAA,CAAoB,OAAA,cAAA,CAAe,KAAnC,EAA0C;AAC9D,gBAAM,MADwD;AAE9D,oBAAY,QAAQ,WAF0C;AAG9D,sBAAW,KAAA,EAAA,EACT,GAAC,SAAD,IAAa;AACX,2BAAe,IAAI,IAAJ,EADJ;AAEX,qBAAS,OAAO;AAFL,SADJ,EAKV,EALD;AAH8D,KAA1C,CAAtB;AAWA,QAAI,oBAAoB,OAAA,eAAA,CAAgB,UAAxC,EAAoD;AAClD;AACA,YAAI,CAAC,WAAW,aAAX,CAAyB,SAAzB,EAAoC,OAApC,CAAL,EAA4E;AAC1E,kBAAM,IAAI,KAAJ,CAAU,uBAAuB,OAAO,QAAxC,CAAN;AACD;AAED;AACA,mBAAW,qBAAX,CAAiC,OAAjC,EAA0C,SAA1C,EAAqD,OAArD;AAEA,eAAO,WAAW,QAAX,CAAoB,MAApB,EAA4B,WAAW,IAAvC,EAA6C,SAA7C,EAAwD,OAAxD,EAAiE,OAAjE,CAAP;AAED,KAXD,MAWO,IAAI,oBAAoB,OAAA,eAAA,CAAgB,UAAxC,EAAoD;AACzD,cAAM,IAAI,KAAJ,CAAU,KAAV,CAAN;AACD,KAFM,MAEA;AACL,cAAM,IAAI,KAAJ,CAAU,yBAAV,CAAN;AACD;AACF;AAnED,QAAA,QAAA,GAAA,QAAA",sourcesContent:["import { findKey } from 'lodash';\n\nimport {\n  Game, GameBoard, LiteHistory, LiteRoundRobinHistory, PlayersMapPlayer,\n  TurnSubmitStyle, DataModelTypes, RuleBundle, Turn\n} from '../../types/mule';\nimport { MulePlayTurnRequest, MulePlayTurnResponse } from '../../types/mule-http';\n\nimport { genericCreate, genericGet } from './data';\nimport * as roundRobin from './roundRobin';\nimport { validateActions } from './actionsHelper';\n\nexport class BackendMockBrain {\n\n}\n\n\nexport function playTurn(gameId: string, params: MulePlayTurnRequest): Promise<MulePlayTurnResponse> {\n  const game: Game | undefined = genericGet<Game>(DataModelTypes.Games, gameId);\n  if (!game) {\n    throw new Error('invalid gameId ' + gameId);\n  }\n\n  const ruleBundle: RuleBundle | undefined = genericGet<RuleBundle>(DataModelTypes.RuleBundles, game.ruleBundle.id);\n  if (!ruleBundle) {\n    throw new Error('invalid ruleBundleId ' + game.ruleBundle.id);\n  }\n\n  const gameBoard: GameBoard | undefined = genericGet<GameBoard>(DataModelTypes.GameBoards, game.gameBoard);\n  if (!gameBoard) {\n    throw new Error('invalid gameboardId ' + game.gameBoard);\n  }\n\n  // const gameState: GameState | undefined = genericGet<GameState>(DataModelTypes.GameStates, gameBoard.gameState);\n  // if (!gameState) {\n  //   throw new Error('invalid historyId ' + gameBoard.gameState);\n  // }\n\n  const history: LiteHistory | undefined = genericGet<LiteHistory>(DataModelTypes.Historys, gameBoard.history);\n  if (!history) {\n    throw new Error('invalid historyId ' + gameBoard.history);\n  }\n\n  const playerRel: string | undefined = findKey(game.players, (player: PlayersMapPlayer) => {\n    return player.playerId === params.playerId;\n  });\n  if (!playerRel) {\n    throw new Error('invalid playerId: ' + params.playerId);\n  }\n\n  // check actions\n  validateActions(gameId, ruleBundle.name, params.actions);\n\n  // get TurnSubmitStyle\n  const turnSubmitStyle: TurnSubmitStyle = ruleBundle.turnSubmitStyle;\n\n  // save turn\n  const newTurn: Turn = genericCreate<Turn>(DataModelTypes.Turns, {\n    gameId,\n    turnNumber: history.currentTurn,\n    playerTurns: {\n      [playerRel]: {\n        dateSubmitted: new Date(),\n        actions: params.actions,\n      }\n    }\n  });\n\n  if (turnSubmitStyle === TurnSubmitStyle.RoundRobin) {\n    // return robinRobin.playTurn\n    if (!roundRobin.isPlayersTurn(playerRel, history as LiteRoundRobinHistory)) {\n      throw new Error('not players turn: ' + params.playerId);\n    }\n\n    // save history/turn\n    roundRobin.addTurnAndSaveHistory(newTurn, playerRel, history as LiteRoundRobinHistory);\n\n    return roundRobin.playTurn(gameId, ruleBundle.name, playerRel, newTurn, history);\n\n  } else if (turnSubmitStyle === TurnSubmitStyle.PlayByMail) {\n    throw new Error('nyi');\n  } else {\n    throw new Error('wtf unknown submitstyle');\n  }\n}\n\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(0)),l=(r.s[2]++,A(1)),i=(r.s[3]++,A(2)),u=(r.s[4]++,A(20)),a=(r.s[5]++,A(6)),s=(r.s[6]++,function(){function n(){r.f[1]++}return r.f[0]++,r.s[7]++,n}());r.s[8]++,e.BackendMockBrain=s,r.s[36]++,e.playTurn=t},function(n,e,A){"use strict";function t(n,e){a.f[1]++,a.s[4]++,c[n]=e}function r(n){return a.f[2]++,a.s[6]++,c[n]}function o(n,e){a.f[3]++;var A=(a.s[7]++,e);return a.s[8]++,r(n)[A]}function l(n,e){return a.f[4]++,a.s[9]++,u(n,e,"progressRound")}function i(n,e){return a.f[5]++,a.s[11]++,u(n,e,"progressTurn")}function u(n,e,A,t,r){a.f[6]++;var l=(a.s[13]++,o(n,A));return a.s[14]++,l?(a.b[0][0]++,a.s[15]++,s(e,A).then(function(n){return a.f[7]++,a.s[16]++,console.log("[START] "+A,e),a.s[17]++,l(n,t,r)}).then(function(n){return a.f[8]++,a.s[18]++,console.log("[END] "+A,e),a.s[19]++,n}).fail(function(n){a.f[9]++;var t=(a.s[20]++,"[ERROR] "+A+": "+n);throw a.s[21]++,console.log(t,e,n),a.s[22]++,t})):(a.b[0][1]++,a.s[23]++,console.log(A+" Hook Not Implemented",e),a.s[24]++,Promise.resolve())}var a=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/hookApi.ts",e="2af4dbd9c750a97e919a088cd2c47ea35a6dafdd",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/hookApi.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:5,column:15},end:{line:7,column:1}},2:{start:{line:6,column:4},end:{line:6,column:16}},3:{start:{line:8,column:18},end:{line:8,column:20}},4:{start:{line:10,column:4},end:{line:10,column:45}},5:{start:{line:12,column:0},end:{line:12,column:38}},6:{start:{line:14,column:4},end:{line:14,column:39}},7:{start:{line:17,column:18},end:{line:17,column:26}},8:{start:{line:18,column:4},end:{line:18,column:50}},9:{start:{line:22,column:4},end:{line:22,column:61}},10:{start:{line:24,column:0},end:{line:24,column:46}},11:{start:{line:27,column:4},end:{line:27,column:60}},12:{start:{line:29,column:0},end:{line:29,column:44}},13:{start:{line:37,column:16},end:{line:37,column:59}},14:{start:{line:38,column:4},end:{line:53,column:5}},15:{start:{line:39,column:8},end:{line:49,column:11}},16:{start:{line:40,column:12},end:{line:40,column:55}},17:{start:{line:41,column:12},end:{line:41,column:44}},18:{start:{line:43,column:12},end:{line:43,column:53}},19:{start:{line:44,column:12},end:{line:44,column:26}},20:{start:{line:46,column:27},end:{line:46,column:61}},21:{start:{line:47,column:12},end:{line:47,column:47}},22:{start:{line:48,column:12},end:{line:48,column:27}},23:{start:{line:51,column:8},end:{line:51,column:64}},24:{start:{line:52,column:8},end:{line:52,column:33}}},fnMap:{0:{name:"createMQ",decl:{start:{line:5,column:24},end:{line:5,column:32}},loc:{start:{line:5,column:35},end:{line:7,column:1}},line:5},1:{name:"addBundleCode",decl:{start:{line:9,column:9},end:{line:9,column:22}},loc:{start:{line:9,column:51},end:{line:11,column:1}},line:9},2:{name:"getBundleCode",decl:{start:{line:13,column:9},end:{line:13,column:22}},loc:{start:{line:13,column:39},end:{line:15,column:1}},line:13},3:{name:"getBundleCodeHook",decl:{start:{line:16,column:9},end:{line:16,column:26}},loc:{start:{line:16,column:53},end:{line:19,column:1}},line:16},4:{name:"progressRoundHook",decl:{start:{line:21,column:9},end:{line:21,column:26}},loc:{start:{line:21,column:51},end:{line:23,column:1}},line:21},5:{name:"progressTurnHook",decl:{start:{line:26,column:9},end:{line:26,column:25}},loc:{start:{line:26,column:50},end:{line:28,column:1}},line:26},6:{name:"baseHook",decl:{start:{line:30,column:9},end:{line:30,column:17}},loc:{start:{line:30,column:68},end:{line:54,column:1}},line:30},7:{name:"(anonymous_7)",decl:{start:{line:39,column:47},end:{line:39,column:48}},loc:{start:{line:39,column:60},end:{line:42,column:9}},line:39},8:{name:"(anonymous_8)",decl:{start:{line:42,column:16},end:{line:42,column:17}},loc:{start:{line:42,column:34},end:{line:45,column:9}},line:42},9:{name:"(anonymous_9)",decl:{start:{line:45,column:16},end:{line:45,column:17}},loc:{start:{line:45,column:31},end:{line:49,column:9}},line:45}},branchMap:{0:{loc:{start:{line:38,column:4},end:{line:53,column:5}},type:"if",locations:[{start:{line:38,column:4},end:{line:53,column:5}},{start:{line:38,column:4},end:{line:53,column:5}}],line:38}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0},b:{0:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/hookApi.ts"],names:[],mappings:";;;AAIA;AACA,IAAM,WAAgB,SAAhB,QAAgB,GAAA;AAAM,WAAA,IAAA;AAAI,CAAhC,C,CAAkC;AAElC,IAAM,cAA4C,EAAlD;AAEA,SAAA,aAAA,CAA8B,cAA9B,EAAsD,UAAtD,EAA4E;AAC1E,gBAAY,cAAZ,IAA8B,UAA9B;AACD;AAFD,QAAA,aAAA,GAAA,aAAA;AAIA,SAAA,aAAA,CAAuB,cAAvB,EAA6C;AAC3C,WAAO,YAAY,cAAZ,CAAP;AACD;AAED,SAAA,iBAAA,CAA2B,cAA3B,EAAmD,QAAnD,EAAmE;AACjE,QAAM,UAAuB,QAA7B;AACA,WAAO,cAAc,cAAd,EAA8B,OAA9B,CAAP;AACD;AAED;AACA,SAAA,iBAAA,CAAkC,cAAlC,EAA0D,MAA1D,EAAwE;AACtE,WAAO,SAAS,cAAT,EAAyB,MAAzB,EAAiC,eAAjC,CAAP;AACD;AAFD,QAAA,iBAAA,GAAA,iBAAA;AAIA;AACA,SAAA,gBAAA,CAAiC,cAAjC,EAAyD,MAAzD,EAAuE;AACrE,WAAO,SAAS,cAAT,EAAyB,MAAzB,EAAiC,cAAjC,CAAP;AACD;AAFD,QAAA,gBAAA,GAAA,gBAAA;AAIA,SAAA,QAAA,CAAkB,cAAlB,EAA0C,MAA1C,EAA0D,QAA1D,EAA4E,MAA5E,EAA0F,MAA1F,EAAsG;AACpG;AACA;AACA;AACA;AACA;AACA;AAEA,QAAM,QAA8B,kBAAkB,cAAlB,EAAkC,QAAlC,CAApC;AAEA,QAAI,KAAJ,EAAW;AACT,eAAO,SAAS,MAAT,EAAiB,QAAjB,EACJ,IADI,CACC,UAAU,CAAV,EAAyB;AAC7B,oBAAQ,GAAR,CAAY,aAAa,QAAzB,EAAmC,MAAnC;AACA,mBAAO,MAAM,CAAN,EAAS,MAAT,EAAiB,MAAjB,CAAP;AACD,SAJI,EAKJ,IALI,CAKC,UAAU,MAAV,EAAqB;AACzB,oBAAQ,GAAR,CAAY,WAAW,QAAvB,EAAiC,MAAjC;AACA,mBAAO,MAAP;AACD,SARI,EASJ,IATI,CASC,UAAU,GAAV,EAAkB;AACtB,gBAAI,WAAW,aAAc,QAAd,GAAyB,IAAzB,GAAgC,GAA/C;AACA,oBAAQ,GAAR,CAAY,QAAZ,EAAsB,MAAtB,EAA8B,GAA9B;AACA,kBAAM,QAAN;AACD,SAbI,CAAP;AAcD,KAfD,MAeO;AACL,gBAAQ,GAAR,CAAY,WAAW,uBAAvB,EAAgD,MAAhD;AACA,eAAO,QAAQ,OAAR,EAAP;AACD;AACF",sourcesContent:["\n\nimport { BundleCode, BundleHooks, MuleStateSdk } from '../../types/backend-sdk';\n\n// import createMQ from './M';\nconst createMQ: any = () => null; // temp while mockBackend is under construction\n\nconst bundleCodes: {[name: string]: BundleCode} = {};\n\nexport function addBundleCode(ruleBundleName: string, bundleCode: BundleCode): void {\n  bundleCodes[ruleBundleName] = bundleCode;\n}\n\nfunction getBundleCode(ruleBundleName: string): BundleCode {\n  return bundleCodes[ruleBundleName];\n}\n\nfunction getBundleCodeHook(ruleBundleName: string, hookName: string): Function | undefined {\n  const hookKey: BundleHooks = hookName as BundleHooks;\n  return getBundleCode(ruleBundleName)[hookKey];\n}\n\n// returns metadata or null\nexport function progressRoundHook(ruleBundleName: string, gameId: string): Promise<any> {\n  return baseHook(ruleBundleName, gameId, 'progressRound');\n}\n\n// returns metadata or null\nexport function progressTurnHook(ruleBundleName: string, gameId: string): Promise<any> {\n  return baseHook(ruleBundleName, gameId, 'progressTurn');\n}\n\nfunction baseHook(ruleBundleName: string, gameId: string, hookName: string, param1?: any, param2?: any): Promise<any> {\n  // look if hook exists\n  // if hook exists\n  //   print start msg\n  //     doHookQ\n  //      then: print end msg\n  //      fail: display err & propigate\n\n  const hookQ: Function | undefined = getBundleCodeHook(ruleBundleName, hookName);\n\n  if (hookQ) {\n    return createMQ(gameId, hookName)\n      .then(function (M: MuleStateSdk) {\n        console.log('[START] ' + hookName, gameId);\n        return hookQ(M, param1, param2);\n      })\n      .then(function (result: any) {\n        console.log('[END] ' + hookName, gameId);\n        return result;\n      })\n      .fail(function (err: any) {\n        var errorMsg = '[ERROR] '  + hookName + ': ' + err;\n        console.log(errorMsg, gameId, err);\n        throw errorMsg;\n      });\n  } else {\n    console.log(hookName + ' Hook Not Implemented', gameId);\n    return Promise.resolve();\n  }\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();a.s[0]++,Object.defineProperty(e,"__esModule",{value:!0}),a.s[1]++;var s=function(){return a.f[0]++,a.s[2]++,null},c=(a.s[3]++,{});a.s[5]++,e.addBundleCode=t,a.s[10]++,e.progressRoundHook=l,a.s[12]++,e.progressTurnHook=i},function(n,e,A){"use strict";function t(n,e){return a.f[0]++,a.s[5]++,n===e.turnOrder[e.currentPlayerIndexTurn]}function r(n,e,A,t,r){return a.f[1]++,a.s[7]++,d.doActionsAndSaveMeta(n,e,t.playerTurns[A].actions),a.s[8]++,Promise.resolve({msg:"Success",turnNumber:r.currentTurn})}function o(n,e,A){a.f[2]++;var t=(a.s[10]++,l(n,e,A));return a.s[11]++,m.genericSave(c.DataModelTypes.Historys,t)}function l(n,e,A){return a.f[3]++,a.s[13]++,s.assign({},A,{turns:u(A.turns,n._id,A.currentRound,i(e,A))})}function i(n,e){return a.f[4]++,a.s[14]++,Number(s.invert(e.turnOrder)[n])}function u(n,e,A,t){a.f[5]++;var r,o=(a.s[15]++,n[A-1]),l=(a.s[16]++,o.slice());return a.s[17]++,l[t]=e,a.s[18]++,s.assign({},n,(r={},r[A-1]=l,r))}var a=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/roundRobin.ts",e="65a2515e01b52862cda625c0257d526396e246a9",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/roundRobin.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:15},end:{line:4,column:32}},2:{start:{line:5,column:13},end:{line:5,column:40}},3:{start:{line:6,column:13},end:{line:6,column:30}},4:{start:{line:7,column:22},end:{line:7,column:48}},5:{start:{line:9,column:4},end:{line:9,column:74}},6:{start:{line:11,column:0},end:{line:11,column:38}},7:{start:{line:14,column:4},end:{line:14,column:102}},8:{start:{line:17,column:4},end:{line:20,column:7}},9:{start:{line:22,column:0},end:{line:22,column:28}},10:{start:{line:24,column:21},end:{line:24,column:71}},11:{start:{line:25,column:4},end:{line:25,column:74}},12:{start:{line:27,column:0},end:{line:27,column:54}},13:{start:{line:29,column:4},end:{line:31,column:7}},14:{start:{line:34,column:4},end:{line:34,column:65}},15:{start:{line:38,column:23},end:{line:38,column:39}},16:{start:{line:39,column:26},end:{line:39,column:46}},17:{start:{line:40,column:4},end:{line:40,column:50}},18:{start:{line:41,column:4},end:{line:41,column:86}}},fnMap:{0:{name:"isPlayersTurn",decl:{start:{line:8,column:9},end:{line:8,column:22}},loc:{start:{line:8,column:42},end:{line:10,column:1}},line:8},1:{name:"playTurn",decl:{start:{line:12,column:9},end:{line:12,column:17}},loc:{start:{line:12,column:68},end:{line:21,column:1}},line:12},2:{name:"addTurnAndSaveHistory",decl:{start:{line:23,column:9},end:{line:23,column:30}},loc:{start:{line:23,column:60},end:{line:26,column:1}},line:23},3:{name:"getAddedTurnToHistory",decl:{start:{line:28,column:9},end:{line:28,column:30}},loc:{start:{line:28,column:60},end:{line:32,column:1}},line:28},4:{name:"getPlayersOrderIndex",decl:{start:{line:33,column:9},end:{line:33,column:29}},loc:{start:{line:33,column:50},end:{line:35,column:1}},line:33},5:{name:"getTurnsWithAddedTurnId",decl:{start:{line:36,column:9},end:{line:36,column:32}},loc:{start:{line:36,column:76},end:{line:42,column:1}},line:36}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0,5:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/mockSdk/mockBackend/roundRobin.ts"],names:[],mappings:";;;AAAA,IAAA,WAAA,QAAA,QAAA,CAAA;AAGA,IAAA,SAAA,QAAA,kBAAA,CAAA;AAMA,IAAA,SAAA,QAAA,QAAA,CAAA;AACA,IAAA,kBAAA,QAAA,iBAAA,CAAA;AAEA,SAAA,aAAA,CAA8B,QAA9B,EAAgD,OAAhD,EAA0E;AACxE,WAAO,aAAa,QAAQ,SAAR,CAAkB,QAAQ,sBAA1B,CAApB;AACD;AAFD,QAAA,aAAA,GAAA,aAAA;AAIA,SAAA,QAAA,CAAyB,MAAzB,EAAyC,cAAzC,EAAiE,SAAjE,EAAoF,IAApF,EAAgG,OAAhG,EAAoH;AAClH;AACA,oBAAA,oBAAA,CAAqB,MAArB,EAA6B,cAA7B,EAA6C,KAAK,WAAL,CAAiB,SAAjB,EAA4B,OAAzE;AAEA;AAEA;AAEA,WAAO,QAAQ,OAAR,CAAgB;AACrB,aAAK,SADgB;AAErB,oBAAY,QAAQ;AAFC,KAAhB,CAAP;AAID;AAZD,QAAA,QAAA,GAAA,QAAA;AAcA,SAAA,qBAAA,CAAsC,OAAtC,EAAqD,SAArD,EAAwE,OAAxE,EAAsG;AACpG,QAAM,aAAoC,sBAAsB,OAAtB,EAA+B,SAA/B,EAA0C,OAA1C,CAA1C;AACA,WAAO,OAAA,WAAA,CAAmC,OAAA,cAAA,CAAe,QAAlD,EAA4D,UAA5D,CAAP;AACD;AAHD,QAAA,qBAAA,GAAA,qBAAA;AAKA,SAAA,qBAAA,CAA+B,OAA/B,EAA8C,SAA9C,EAAiE,OAAjE,EAA+F;AAC7F,WAAO,SAAA,MAAA,CAAO,EAAP,EAAW,OAAX,EAAoB;AACzB,eAAO,wBAAwB,QAAQ,KAAhC,EAAuC,QAAQ,GAA/C,EAAoD,QAAQ,YAA5D,EAA0E,qBAAqB,SAArB,EAAgC,OAAhC,CAA1E;AADkB,KAApB,CAAP;AAGD;AAED,SAAA,oBAAA,CAA8B,SAA9B,EAAiD,OAAjD,EAA2E;AACzE,WAAO,OAAO,SAAA,MAAA,CAAO,QAAQ,SAAf,EAA0B,SAA1B,CAAP,CAAP,CADyE,CACpB;AACtD;AAED,SAAA,uBAAA,CAAiC,KAAjC,EAAwE,SAAxE,EAA2F,KAA3F,EAA0G,gBAA1G,EAAkI;;AAChI,QAAM,eAAyB,MAAM,QAAQ,CAAd,CAA/B;AACA,QAAM,kBAAgC,aAAY,KAAZ,EAAtC;AACA,oBAAgB,gBAAhB,IAAoC,SAApC;AACA,WAAO,SAAA,MAAA,CAAO,EAAP,EAAW,KAAX,GAAgB,KAAA,EAAA,EACrB,GAAC,QAAQ,CAAT,IAAa,eADQ,EAErB,EAFK,EAAP;AAGD",sourcesContent:["import { assign, invert } from 'lodash';\n\n\nimport {\n  RoundRobinHistory, RoundRobinHistoryTurns, LiteRoundRobinHistory,\n  Turn, TurnId, DataModelTypes, LiteHistory\n} from '../../types/mule';\nimport { MulePlayTurnResponse } from '../../types/mule-http';\n\nimport { genericSave } from './data';\nimport { doActionsAndSaveMeta } from './actionsHelper';\n\nexport function isPlayersTurn(playerId: string, history: RoundRobinHistory): boolean {\n  return playerId === history.turnOrder[history.currentPlayerIndexTurn];\n}\n\nexport function playTurn(gameId: string, ruleBundleName: string, playerRel: string, turn: Turn, history: LiteHistory): Promise<MulePlayTurnResponse> {\n  // play turn\n  doActionsAndSaveMeta(gameId, ruleBundleName, turn.playerTurns[playerRel].actions);\n\n  // progressTurn\n\n  // progressRound (if applicable)\n\n  return Promise.resolve({\n    msg: 'Success',\n    turnNumber: history.currentTurn, // 2\n  });\n}\n\nexport function addTurnAndSaveHistory(newTurn: Turn, playerRel: string, history: LiteRoundRobinHistory): LiteRoundRobinHistory {\n  const newHistory: LiteRoundRobinHistory = getAddedTurnToHistory(newTurn, playerRel, history);\n  return genericSave<LiteRoundRobinHistory>(DataModelTypes.Historys, newHistory);\n}\n\nfunction getAddedTurnToHistory(newTurn: Turn, playerRel: string, history: LiteRoundRobinHistory): LiteRoundRobinHistory {\n  return assign({}, history, {\n    turns: getTurnsWithAddedTurnId(history.turns, newTurn._id, history.currentRound, getPlayersOrderIndex(playerRel, history)),\n  });\n}\n\nfunction getPlayersOrderIndex(playerRel: string, history: RoundRobinHistory): number {\n  return Number(invert(history.turnOrder)[playerRel]); // from mule-models/History\n}\n\nfunction getTurnsWithAddedTurnId(turns: RoundRobinHistoryTurns<TurnId>, newTurnId: string, round: number, playerOrderIndex: number): RoundRobinHistoryTurns<TurnId> {\n  const roundTurnIds: TurnId[] = turns[round - 1];\n  const newRoundTurnIds: TurnId[] = [...roundTurnIds];\n  newRoundTurnIds[playerOrderIndex] = newTurnId;\n  return assign({}, turns, {\n    [round - 1]: newRoundTurnIds\n  });\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();a.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var s=(a.s[1]++,A(0)),c=(a.s[2]++,A(1)),m=(a.s[3]++,A(2)),d=(a.s[4]++,A(6));a.s[6]++,e.isPlayersTurn=t,a.s[9]++,e.playTurn=r,a.s[12]++,e.addTurnAndSaveHistory=o},function(n,e,A){"use strict";function t(n){r.f[0]++;var e=(r.s[2]++,{});return r.s[3]++,e.sendQ=function(e){return r.f[1]++,r.s[4]++,o.http.post(n+"playTurn",e)},r.s[5]++,e.sendGameTurnQ=function(e,A){return r.f[2]++,r.s[6]++,o.http.post(n+"games/"+e+"/playTurn",A)},r.s[7]++,e}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/methods/PlayTurn.ts",e="3aecde229db486488d7b28a5c3fbd50b84769d9d",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/methods/PlayTurn.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:37}},2:{start:{line:6,column:15},end:{line:6,column:17}},3:{start:{line:7,column:4},end:{line:9,column:6}},4:{start:{line:8,column:8},end:{line:8,column:66}},5:{start:{line:10,column:4},end:{line:12,column:6}},6:{start:{line:11,column:8},end:{line:11,column:87}},7:{start:{line:13,column:4},end:{line:13,column:16}},8:{start:{line:15,column:0},end:{line:15,column:42}}},fnMap:{0:{name:"initPlayTurnApi",decl:{start:{line:5,column:9},end:{line:5,column:24}},loc:{start:{line:5,column:38},end:{line:14,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:17},end:{line:7,column:18}},loc:{start:{line:7,column:35},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:10,column:25},end:{line:10,column:26}},loc:{start:{line:10,column:51},end:{line:12,column:5}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/methods/PlayTurn.ts"],names:[],mappings:";;;AAEA,IAAA,SAAA,QAAA,eAAA,CAAA;AAEA,SAAA,eAAA,CAAgC,WAAhC,EAAmD;AACjD,QAAM,OAAY,EAAlB;AAEA,SAAK,KAAL,GAAa,UAAU,MAAV,EAAqB;AAChC,eAAO,OAAA,IAAA,CAAK,IAAL,CAAU,cAAc,UAAxB,EAAoC,MAApC,CAAP;AACD,KAFD;AAIA,SAAK,aAAL,GAAqB,UAAU,MAAV,EAA0B,MAA1B,EAAqC;AACxD,eAAO,OAAA,IAAA,CAAK,IAAL,CAAU,cAAc,QAAd,GAAyB,MAAzB,GAAkC,WAA5C,EAAyD,MAAzD,CAAP;AACD,KAFD;AAIA,WAAO,IAAP;AACD;AAZD,QAAA,eAAA,GAAA,eAAA",sourcesContent:["import { PlayTurnApi } from '../../types/sdk';\n\nimport { http } from '../utils/http';\n\nexport function initPlayTurnApi(contextPath: string): PlayTurnApi {\n  const that: any = {};\n\n  that.sendQ = function (params: any): Promise<any> {\n    return http.post(contextPath + 'playTurn', params);\n  };\n\n  that.sendGameTurnQ = function (gameId: string, params: any): Promise<any> {\n    return http.post(contextPath + 'games/' + gameId + '/playTurn', params);\n  };\n\n  return that;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(3));r.s[8]++,e.initPlayTurnApi=t},function(n,e,A){"use strict";function t(n){r.f[0]++;var e=(r.s[2]++,{});return r.s[3]++,e.indexQ=function(){return r.f[1]++,r.s[4]++,o.http.get(n+"gameBoards")},r.s[5]++,e.readQ=function(A){return r.f[2]++,r.s[6]++,o.http.get(n+"gameBoards/"+A).then(function(n){return r.f[3]++,r.s[7]++,e.cacheGameBoard(n),r.s[8]++,n})},r.s[9]++,e.readGamesBoardQ=function(e){return r.f[4]++,r.s[10]++,o.http.get(n+"games/"+e+"/board")},r.s[11]++,e.gameBoardsCache={},r.s[12]++,e.cacheGameBoard=function(n){r.f[5]++,r.s[13]++,e.gameBoardsCache[n._id]=n},r.s[14]++,e.readCacheQ=function(n){return r.f[6]++,r.s[15]++,e.gameBoardsCache[n]?(r.b[0][0]++,r.s[16]++,Promise.resolve(e.gameBoardsCache[n])):(r.b[0][1]++,r.s[17]++,e.readQ(n).then(function(n){return r.f[7]++,r.s[18]++,e.gameBoardsCache[n._id]=n,r.s[19]++,n}).catch(function(n){throw r.f[8]++,r.s[20]++,console.log("WTF"),r.s[21]++,n}))},r.s[22]++,e}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/GameBoards.ts",e="8b3184bc153510856c6ec47eb6b1f70a34c96cbc",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/GameBoards.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:37}},2:{start:{line:6,column:15},end:{line:6,column:17}},3:{start:{line:7,column:4},end:{line:9,column:6}},4:{start:{line:8,column:8},end:{line:8,column:59}},5:{start:{line:10,column:4},end:{line:15,column:6}},6:{start:{line:11,column:8},end:{line:14,column:11}},7:{start:{line:12,column:12},end:{line:12,column:40}},8:{start:{line:13,column:12},end:{line:13,column:26}},9:{start:{line:16,column:4},end:{line:18,column:6}},10:{start:{line:17,column:8},end:{line:17,column:75}},11:{start:{line:20,column:4},end:{line:20,column:30}},12:{start:{line:21,column:4},end:{line:23,column:6}},13:{start:{line:22,column:8},end:{line:22,column:50}},14:{start:{line:24,column:4},end:{line:36,column:6}},15:{start:{line:25,column:8},end:{line:35,column:9}},16:{start:{line:26,column:12},end:{line:26,column:70}},17:{start:{line:28,column:12},end:{line:34,column:15}},18:{start:{line:29,column:16},end:{line:29,column:58}},19:{start:{line:30,column:16},end:{line:30,column:30}},20:{start:{line:32,column:16},end:{line:32,column:35}},21:{start:{line:33,column:16},end:{line:33,column:26}},22:{start:{line:37,column:4},end:{line:37,column:16}},23:{start:{line:39,column:0},end:{line:39,column:46}}},fnMap:{0:{name:"initGameBoardsApi",decl:{start:{line:5,column:9},end:{line:5,column:26}},loc:{start:{line:5,column:40},end:{line:38,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:30},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:10,column:17},end:{line:10,column:18}},loc:{start:{line:10,column:40},end:{line:15,column:5}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:11,column:79},end:{line:11,column:80}},loc:{start:{line:11,column:97},end:{line:14,column:9}},line:11},4:{name:"(anonymous_4)",decl:{start:{line:16,column:27},end:{line:16,column:28}},loc:{start:{line:16,column:45},end:{line:18,column:5}},line:16},5:{name:"(anonymous_5)",decl:{start:{line:21,column:26},end:{line:21,column:27}},loc:{start:{line:21,column:44},end:{line:23,column:5}},line:21},6:{name:"(anonymous_6)",decl:{start:{line:24,column:22},end:{line:24,column:23}},loc:{start:{line:24,column:45},end:{line:36,column:5}},line:24},7:{name:"(anonymous_7)",decl:{start:{line:28,column:48},end:{line:28,column:49}},loc:{start:{line:28,column:66},end:{line:31,column:13}},line:28},8:{name:"(anonymous_8)",decl:{start:{line:31,column:21},end:{line:31,column:22}},loc:{start:{line:31,column:36},end:{line:34,column:13}},line:31}},branchMap:{0:{loc:{start:{line:25,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:25,column:8},end:{line:35,column:9}},{start:{line:25,column:8},end:{line:35,column:9}}],line:25}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/GameBoards.ts"],names:[],mappings:";;;AAKA,IAAA,SAAA,QAAA,eAAA,CAAA;AAGA,SAAA,iBAAA,CAAkC,WAAlC,EAAqD;AAEnD,QAAM,OAAY,EAAlB;AAEA,SAAK,MAAL,GAAc,YAAA;AACZ,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,YAAvB,CAAP;AACD,KAFD;AAIA,SAAK,KAAL,GAAa,UAAU,WAAV,EAA6B;AACxC,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,aAAd,GAA8B,WAAvC,EACJ,IADI,CACC,UAAU,MAAV,EAA2B;AAC/B,iBAAK,cAAL,CAAoB,MAApB;AACA,mBAAO,MAAP;AACD,SAJI,CAAP;AAKD,KAND;AAQA,SAAK,eAAL,GAAuB,UAAU,MAAV,EAAwB;AAC7C,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,QAAd,GAAyB,MAAzB,GAAkC,QAA3C,CAAP;AACD,KAFD;AAIA;AACA,SAAK,eAAL,GAAuB,EAAvB;AAEA,SAAK,cAAL,GAAsB,UAAU,MAAV,EAA2B;AAC/C,aAAK,eAAL,CAAqB,OAAO,GAA5B,IAAmC,MAAnC;AACD,KAFD;AAIA,SAAK,UAAL,GAAkB,UAAU,WAAV,EAA6B;AAC7C,YAAI,KAAK,eAAL,CAAqB,WAArB,CAAJ,EAAuC;AACrC,mBAAO,QAAQ,OAAR,CAAgB,KAAK,eAAL,CAAqB,WAArB,CAAhB,CAAP;AACD,SAFD,MAEO;AACL,mBAAO,KAAK,KAAL,CAAW,WAAX,EACJ,IADI,CACC,UAAU,MAAV,EAA2B;AAC/B,qBAAK,eAAL,CAAqB,OAAO,GAA5B,IAAmC,MAAnC;AACA,uBAAO,MAAP;AACD,aAJI,EAKJ,KALI,CAKE,UAAU,GAAV,EAA+B;AACpC,wBAAQ,GAAR,CAAY,KAAZ;AACA,sBAAM,GAAN;AACD,aARI,CAAP;AASD;AACF,KAdD;AAgBA,WAAO,IAAP;AACD;AA5CD,QAAA,iBAAA,GAAA,iBAAA",sourcesContent:["\n\nimport { GameBoard } from '../../types/mule';\nimport { GameBoardsApi, UnknownErrorType } from '../../types/sdk';\n\nimport { http } from '../utils/http';\n\n\nexport function initGameBoardsApi(contextPath: string): GameBoardsApi {\n\n  const that: any = {};\n\n  that.indexQ = function (): Promise<GameBoard[]> {\n    return http.get(contextPath + 'gameBoards');\n  };\n\n  that.readQ = function (gameBoardId: string): Promise<GameBoard> {\n    return http.get(contextPath + 'gameBoards/' + gameBoardId)\n      .then(function (result: GameBoard) {\n        that.cacheGameBoard(result);\n        return result;\n      });\n  };\n\n  that.readGamesBoardQ = function (gameId: string): Promise<GameBoard> {\n    return http.get(contextPath + 'games/' + gameId + '/board');\n  };\n\n  ////// CACHING //////\n  that.gameBoardsCache = {};\n\n  that.cacheGameBoard = function (result: GameBoard): void {\n    that.gameBoardsCache[result._id] = result;\n  };\n\n  that.readCacheQ = function (gameBoardId: string): Promise<GameBoard> {\n    if (that.gameBoardsCache[gameBoardId]) {\n      return Promise.resolve(that.gameBoardsCache[gameBoardId]);\n    } else {\n      return that.readQ(gameBoardId)\n        .then(function (result: GameBoard) {\n          that.gameBoardsCache[result._id] = result;\n          return result;\n        })\n        .catch(function (err: UnknownErrorType) {\n          console.log('WTF');\n          throw err;\n        });\n    }\n  };\n\n  return that as GameBoardsApi;\n}\n\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(3));r.s[23]++,e.initGameBoardsApi=t},function(n,e,A){"use strict";function t(n){r.f[0]++;var e=(r.s[2]++,{});return r.s[3]++,e.indexQ=function(){return r.f[1]++,r.s[4]++,o.http.get(n+"historys")},r.s[5]++,e.readQ=function(e){return r.f[2]++,r.s[6]++,o.http.get(n+"gameStates/"+e)},r.s[7]++,e.readGamesStateQ=function(e){return r.f[3]++,r.s[8]++,o.http.get(n+"games/"+e+"/state")},r.s[9]++,e}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/GameStates.ts",e="2e10c40007dc5f5f7f53135a3dfd1b6940011128",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/GameStates.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:37}},2:{start:{line:6,column:15},end:{line:6,column:17}},3:{start:{line:7,column:4},end:{line:9,column:6}},4:{start:{line:8,column:8},end:{line:8,column:57}},5:{start:{line:10,column:4},end:{line:12,column:6}},6:{start:{line:11,column:8},end:{line:11,column:74}},7:{start:{line:13,column:4},end:{line:15,column:6}},8:{start:{line:14,column:8},end:{line:14,column:75}},9:{start:{line:16,column:4},end:{line:16,column:16}},10:{start:{line:18,column:0},end:{line:18,column:46}}},fnMap:{0:{name:"initGameStatesApi",decl:{start:{line:5,column:9},end:{line:5,column:26}},loc:{start:{line:5,column:40},end:{line:17,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:30},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:10,column:17},end:{line:10,column:18}},loc:{start:{line:10,column:40},end:{line:12,column:5}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:13,column:27},end:{line:13,column:28}},loc:{start:{line:13,column:45},end:{line:15,column:5}},line:13}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/GameStates.ts"],names:[],mappings:";;;AAGA,IAAA,SAAA,QAAA,eAAA,CAAA;AAEA,SAAA,iBAAA,CAAkC,WAAlC,EAAqD;AACnD,QAAM,OAAY,EAAlB;AAEA,SAAK,MAAL,GAAc,YAAA;AACZ,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,UAAvB,CAAP;AACD,KAFD;AAIA,SAAK,KAAL,GAAa,UAAU,WAAV,EAA6B;AACxC,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,aAAd,GAA8B,WAAvC,CAAP;AACD,KAFD;AAIA,SAAK,eAAL,GAAuB,UAAU,MAAV,EAAwB;AAC7C,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,QAAd,GAAyB,MAAzB,GAAkC,QAA3C,CAAP;AACD,KAFD;AAIA,WAAO,IAAP;AACD;AAhBD,QAAA,iBAAA,GAAA,iBAAA",sourcesContent:["import { GameState } from '../../types/mule';\nimport { GameStatesApi } from '../../types/sdk';\n\nimport { http } from '../utils/http';\n\nexport function initGameStatesApi(contextPath: string): GameStatesApi {\n  const that: any = {};\n\n  that.indexQ = function (): Promise<GameState[]> {\n    return http.get(contextPath + 'historys');\n  };\n\n  that.readQ = function (gameStateId: string): Promise<GameState> {\n    return http.get(contextPath + 'gameStates/' + gameStateId);\n  };\n\n  that.readGamesStateQ = function (gameId: string): Promise<GameState> {\n    return http.get(contextPath + 'games/' + gameId + '/state');\n  };\n\n  return that as GameStatesApi;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(3));r.s[10]++,e.initGameStatesApi=t},function(n,e,A){"use strict";function t(n){r.f[0]++;var e=(r.s[4]++,{}),A=(r.s[5]++,l.initUsersApi(n));return r.s[6]++,e.indexQ=function(){return r.f[1]++,r.s[7]++,i.http.get(n+"games")},r.s[8]++,e.createQ=function(e){return r.f[2]++,r.s[9]++,i.http.post(n+"games",e)},r.s[10]++,e.readQ=function(e){return r.f[3]++,r.s[11]++,i.http.get(n+"games/"+e)},r.s[12]++,e.readUsersGamesQ=function(e){return r.f[4]++,r.s[13]++,i.http.get(n+"users/"+e+"/games")},r.s[14]++,e.readMyGamesQ=function(){return r.f[5]++,r.s[15]++,e.readUsersGamesQ(A.getLoggedInUserId())},r.s[16]++,e.joinGameQ=function(e){return r.f[6]++,r.s[17]++,i.http.post(n+"games/"+e+"/join")},r.s[18]++,e.getPlayersMapQ=function(n){r.f[7]++;var e=(r.s[19]++,o.clone(n.players)),t=(r.s[20]++,[]);return r.s[21]++,o.each(e,function(n,o){r.f[8]++,r.s[22]++,t.push(A.readCacheQ(n.playerId).then(function(n){r.f[9]++,r.s[23]++,n?(r.b[0][0]++,r.s[24]++,e[o].name=n.username):r.b[0][1]++}))}),r.s[25]++,Promise.all(t).then(function(){return r.f[10]++,r.s[26]++,e})},r.s[27]++,e}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Games.ts",e="16bdb74c26fd5076bd628a7b4a3e9c72fb813164",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Games.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:15},end:{line:4,column:32}},2:{start:{line:5,column:14},end:{line:5,column:40}},3:{start:{line:6,column:13},end:{line:6,column:37}},4:{start:{line:8,column:15},end:{line:8,column:17}},5:{start:{line:9,column:19},end:{line:9,column:52}},6:{start:{line:10,column:4},end:{line:12,column:6}},7:{start:{line:11,column:8},end:{line:11,column:54}},8:{start:{line:13,column:4},end:{line:15,column:6}},9:{start:{line:14,column:8},end:{line:14,column:63}},10:{start:{line:16,column:4},end:{line:18,column:6}},11:{start:{line:17,column:8},end:{line:17,column:64}},12:{start:{line:19,column:4},end:{line:21,column:6}},13:{start:{line:20,column:8},end:{line:20,column:75}},14:{start:{line:22,column:4},end:{line:24,column:6}},15:{start:{line:23,column:8},end:{line:23,column:66}},16:{start:{line:26,column:4},end:{line:28,column:6}},17:{start:{line:27,column:8},end:{line:27,column:75}},18:{start:{line:30,column:4},end:{line:43,column:6}},19:{start:{line:31,column:18},end:{line:31,column:46}},20:{start:{line:32,column:27},end:{line:32,column:29}},21:{start:{line:33,column:8},end:{line:39,column:11}},22:{start:{line:34,column:12},end:{line:38,column:16}},23:{start:{line:35,column:16},end:{line:37,column:17}},24:{start:{line:36,column:20},end:{line:36,column:56}},25:{start:{line:40,column:8},end:{line:42,column:11}},26:{start:{line:41,column:12},end:{line:41,column:23}},27:{start:{line:44,column:4},end:{line:44,column:16}},28:{start:{line:46,column:0},end:{line:46,column:36}}},fnMap:{0:{name:"initGamesApi",decl:{start:{line:7,column:9},end:{line:7,column:21}},loc:{start:{line:7,column:35},end:{line:45,column:1}},line:7},1:{name:"(anonymous_1)",decl:{start:{line:10,column:18},end:{line:10,column:19}},loc:{start:{line:10,column:30},end:{line:12,column:5}},line:10},2:{name:"(anonymous_2)",decl:{start:{line:13,column:19},end:{line:13,column:20}},loc:{start:{line:13,column:37},end:{line:15,column:5}},line:13},3:{name:"(anonymous_3)",decl:{start:{line:16,column:17},end:{line:16,column:18}},loc:{start:{line:16,column:35},end:{line:18,column:5}},line:16},4:{name:"(anonymous_4)",decl:{start:{line:19,column:27},end:{line:19,column:28}},loc:{start:{line:19,column:45},end:{line:21,column:5}},line:19},5:{name:"(anonymous_5)",decl:{start:{line:22,column:24},end:{line:22,column:25}},loc:{start:{line:22,column:36},end:{line:24,column:5}},line:22},6:{name:"(anonymous_6)",decl:{start:{line:26,column:21},end:{line:26,column:22}},loc:{start:{line:26,column:39},end:{line:28,column:5}},line:26},7:{name:"(anonymous_7)",decl:{start:{line:30,column:26},end:{line:30,column:27}},loc:{start:{line:30,column:42},end:{line:43,column:5}},line:30},8:{name:"(anonymous_8)",decl:{start:{line:33,column:27},end:{line:33,column:28}},loc:{start:{line:33,column:56},end:{line:39,column:9}},line:33},9:{name:"(anonymous_9)",decl:{start:{line:34,column:72},end:{line:34,column:73}},loc:{start:{line:34,column:88},end:{line:38,column:13}},line:34},10:{name:"(anonymous_10)",decl:{start:{line:40,column:46},end:{line:40,column:47}},loc:{start:{line:40,column:58},end:{line:42,column:9}},line:40}},branchMap:{0:{loc:{start:{line:35,column:16},end:{line:37,column:17}},type:"if",locations:[{start:{line:35,column:16},end:{line:37,column:17}},{start:{line:35,column:16},end:{line:37,column:17}}],line:35}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},b:{0:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Games.ts"],names:[],mappings:";;;AAAA,IAAA,WAAA,QAAA,QAAA,CAAA;AAKA,IAAA,UAAA,QAAA,iBAAA,CAAA;AACA,IAAA,SAAA,QAAA,eAAA,CAAA;AAGA,SAAA,YAAA,CAA6B,WAA7B,EAAgD;AAC9C,QAAI,OAAY,EAAhB;AAEA,QAAM,WAAqB,QAAA,YAAA,CAAa,WAAb,CAA3B;AAEA,SAAK,MAAL,GAAc,YAAA;AACZ,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,OAAvB,CAAP;AACD,KAFD;AAIA,SAAK,OAAL,GAAe,UAAU,MAAV,EAAqB;AAClC,eAAO,OAAA,IAAA,CAAK,IAAL,CAAU,cAAc,OAAxB,EAAiC,MAAjC,CAAP;AACD,KAFD;AAIA,SAAK,KAAL,GAAa,UAAU,MAAV,EAAwB;AACnC,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,QAAd,GAAyB,MAAlC,CAAP;AACD,KAFD;AAIA,SAAK,eAAL,GAAuB,UAAU,MAAV,EAAwB;AAC7C,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,QAAd,GAAyB,MAAzB,GAAkC,QAA3C,CAAP;AACD,KAFD;AAIA,SAAK,YAAL,GAAoB,YAAA;AAClB,eAAO,KAAK,eAAL,CAAqB,SAAS,iBAAT,EAArB,CAAP;AACD,KAFD;AAIA;AAEA,SAAK,SAAL,GAAiB,UAAU,MAAV,EAAwB;AACvC,eAAO,OAAA,IAAA,CAAK,IAAL,CAAU,cAAc,QAAd,GAAyB,MAAzB,GAAkC,OAA5C,CAAP;AACD,KAFD;AAIA;AAEA,SAAK,cAAL,GAAsB,UAAU,IAAV,EAAoB;AACxC,YAAI,MAAkB,SAAA,KAAA,CAAM,KAAK,OAAX,CAAtB;AAAA,YACE,eAAgC,EADlC;AAGA,iBAAA,IAAA,CAAK,GAAL,EAAU,UAAU,MAAV,EAAsC,SAAtC,EAAuD;AAC/D,yBAAa,IAAb,CAAkB,SAAS,UAAT,CAAoB,OAAO,QAA3B,EACf,IADe,CACV,UAAU,IAAV,EAAqB;AACzB,oBAAI,IAAJ,EAAU;AACR,wBAAI,SAAJ,EAAe,IAAf,GAAsB,KAAK,QAA3B;AACD;AACF,aALe,CAAlB;AAOD,SARD;AAUA,eAAO,QAAQ,GAAR,CAAY,YAAZ,EACJ,IADI,CACC,YAAA;AAAM,mBAAA,GAAA;AAAG,SADV,CAAP;AAED,KAhBD;AAkBA,WAAO,IAAP;AACD;AApDD,QAAA,YAAA,GAAA,YAAA",sourcesContent:["import { clone, each } from 'lodash';\n\nimport { Game, PlayersMap, User } from '../../types/mule';\nimport { GamesApi, UsersApi } from '../../types/sdk';\n\nimport { initUsersApi } from '../models/Users';\nimport { http } from '../utils/http';\n\n\nexport function initGamesApi(contextPath: string) {\n  var that: any = {};\n\n  const usersApi: UsersApi = initUsersApi(contextPath);\n\n  that.indexQ = function (): Promise<Game[]> {\n    return http.get(contextPath + 'games');\n  };\n\n  that.createQ = function (params: any): Promise<any> {\n    return http.post(contextPath + 'games', params);\n  };\n\n  that.readQ = function (gameId: string): Promise<string> {\n    return http.get(contextPath + 'games/' + gameId);\n  };\n\n  that.readUsersGamesQ = function (userId: string): Promise<Game[]> {\n    return http.get(contextPath + 'users/' + userId + '/games');\n  };\n\n  that.readMyGamesQ = function (): Promise<Game[]> {\n    return that.readUsersGamesQ(usersApi.getLoggedInUserId());\n  };\n\n  ////// GAME SERVICES //////\n\n  that.joinGameQ = function (gameId: string): Promise<any> {\n    return http.post(contextPath + 'games/' + gameId + '/join');\n  };\n\n  ///// other //////\n\n  that.getPlayersMapQ = function (game: Game): Promise<PlayersMap> {\n    var map: PlayersMap = clone(game.players),\n      promiseArray: Promise<void>[] = [];\n\n    each(map, function (player: {playerId: string}, playerRel: string) {\n      promiseArray.push(usersApi.readCacheQ(player.playerId)\n        .then(function (user?: User) {\n          if (user) {\n            map[playerRel].name = user.username;\n          }\n        })\n      );\n    });\n\n    return Promise.all(promiseArray)\n      .then(() => map);\n  };\n\n  return that as GamesApi;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(0)),l=(r.s[2]++,A(7)),i=(r.s[3]++,A(3));r.s[28]++,e.initGamesApi=t},function(n,e,A){"use strict";function t(n){r.f[0]++;var e=(r.s[2]++,{});return r.s[3]++,e.indexQ=function(){return r.f[1]++,r.s[4]++,o.http.get(n+"historys")},r.s[5]++,e.readQ=function(e){return r.f[2]++,r.s[6]++,o.http.get(n+"historys/"+e)},r.s[7]++,e.readGamesHistoryQ=function(e){return r.f[3]++,r.s[8]++,o.http.get(n+"games/"+e+"/history")},r.s[9]++,e.readGamesFullHistoryQ=function(e){return r.f[4]++,r.s[10]++,o.http.get(n+"games/"+e+"/history/all")},r.s[11]++,e}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Historys.ts",e="f7ac844268604263376418d97d22a5061eee0949",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Historys.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:37}},2:{start:{line:6,column:15},end:{line:6,column:17}},3:{start:{line:7,column:4},end:{line:9,column:6}},4:{start:{line:8,column:8},end:{line:8,column:57}},5:{start:{line:10,column:4},end:{line:12,column:6}},6:{start:{line:11,column:8},end:{line:11,column:70}},7:{start:{line:13,column:4},end:{line:15,column:6}},8:{start:{line:14,column:8},end:{line:14,column:112}},9:{start:{line:16,column:4},end:{line:18,column:6}},10:{start:{line:17,column:8},end:{line:17,column:81}},11:{start:{line:19,column:4},end:{line:19,column:16}},12:{start:{line:21,column:0},end:{line:21,column:42}}},fnMap:{0:{name:"initHistorysApi",decl:{start:{line:5,column:9},end:{line:5,column:24}},loc:{start:{line:5,column:38},end:{line:20,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:30},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:10,column:17},end:{line:10,column:18}},loc:{start:{line:10,column:38},end:{line:12,column:5}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:13,column:29},end:{line:13,column:30}},loc:{start:{line:13,column:47},end:{line:15,column:5}},line:13},4:{name:"(anonymous_4)",decl:{start:{line:16,column:33},end:{line:16,column:34}},loc:{start:{line:16,column:51},end:{line:18,column:5}},line:16}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Historys.ts"],names:[],mappings:";;;AAGA,IAAA,SAAA,QAAA,eAAA,CAAA;AAEA,SAAA,eAAA,CAAgC,WAAhC,EAAmD;AACjD,QAAM,OAAY,EAAlB;AAEA,SAAK,MAAL,GAAc,YAAA;AACZ,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,UAAvB,CAAP;AACD,KAFD;AAIA,SAAK,KAAL,GAAa,UAAU,SAAV,EAA2B;AACtC,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,WAAd,GAA4B,SAArC,CAAP;AACD,KAFD;AAIA,SAAK,iBAAL,GAAyB,UAAU,MAAV,EAAwB;AAC/C,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,QAAd,GAAyB,MAAzB,GAAkC,UAA3C,CAAqD,kCAArD,CAAP;AACD,KAFD;AAIA,SAAK,qBAAL,GAA6B,UAAU,MAAV,EAAwB;AACnD,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,QAAd,GAAyB,MAAzB,GAAkC,cAA3C,CAAP;AACD,KAFD;AAIA,WAAO,IAAP;AACD;AApBD,QAAA,eAAA,GAAA,eAAA",sourcesContent:["import { FullHistory, LiteHistory } from '../../types/mule';\nimport { HistorysApi } from '../../types/sdk';\n\nimport { http } from '../utils/http';\n\nexport function initHistorysApi(contextPath: string): HistorysApi {\n  const that: any = {};\n\n  that.indexQ = function (): Promise<LiteHistory[]> {\n    return http.get(contextPath + 'historys');\n  };\n\n  that.readQ = function (historyId: string): Promise<LiteHistory> {\n    return http.get(contextPath + 'historys/' + historyId);\n  };\n\n  that.readGamesHistoryQ = function (gameId: string): Promise<LiteHistory> {\n    return http.get(contextPath + 'games/' + gameId + '/history'/*, null, {responseType: 'json'}*/);\n  };\n\n  that.readGamesFullHistoryQ = function (gameId: string): Promise<FullHistory> {\n    return http.get(contextPath + 'games/' + gameId + '/history/all');\n  };\n\n  return that as HistorysApi;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(3));r.s[12]++,e.initHistorysApi=t},function(n,e,A){"use strict";function t(n){r.f[0]++;var e=(r.s[2]++,{});return r.s[3]++,e.indexQ=function(){return r.f[1]++,r.s[4]++,o.http.get(n+"ruleBundles")},r.s[5]++,e.createQ=function(e){return r.f[2]++,r.s[6]++,o.http.post(n+"ruleBundles",e)},r.s[7]++,e.readQ=function(e){return r.f[3]++,r.s[8]++,o.http.get(n+"ruleBundles/"+e)},r.s[9]++,e}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/RuleBundles.ts",e="02dc4bb547773e07b903aa4cb2c345b738c650a5",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/RuleBundles.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:37}},2:{start:{line:6,column:15},end:{line:6,column:17}},3:{start:{line:7,column:4},end:{line:9,column:6}},4:{start:{line:8,column:8},end:{line:8,column:60}},5:{start:{line:10,column:4},end:{line:12,column:6}},6:{start:{line:11,column:8},end:{line:11,column:69}},7:{start:{line:13,column:4},end:{line:15,column:6}},8:{start:{line:14,column:8},end:{line:14,column:76}},9:{start:{line:16,column:4},end:{line:16,column:16}},10:{start:{line:18,column:0},end:{line:18,column:48}}},fnMap:{0:{name:"initRuleBundlesApi",decl:{start:{line:5,column:9},end:{line:5,column:27}},loc:{start:{line:5,column:41},end:{line:17,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:18},end:{line:7,column:19}},loc:{start:{line:7,column:30},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:10,column:19},end:{line:10,column:20}},loc:{start:{line:10,column:37},end:{line:12,column:5}},line:10},3:{name:"(anonymous_3)",decl:{start:{line:13,column:17},end:{line:13,column:18}},loc:{start:{line:13,column:41},end:{line:15,column:5}},line:13}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},f:{0:0,1:0,2:0,3:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/RuleBundles.ts"],names:[],mappings:";;;AAGA,IAAA,SAAA,QAAA,eAAA,CAAA;AAEA,SAAA,kBAAA,CAAmC,WAAnC,EAAsD;AACpD,QAAI,OAAY,EAAhB;AAEA,SAAK,MAAL,GAAc,YAAA;AACZ,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,aAAvB,CAAP;AACD,KAFD;AAIA,SAAK,OAAL,GAAe,UAAU,MAAV,EAAqB;AAClC,eAAO,OAAA,IAAA,CAAK,IAAL,CAAU,cAAc,aAAxB,EAAuC,MAAvC,CAAP;AACD,KAFD;AAIA,SAAK,KAAL,GAAa,UAAU,YAAV,EAA8B;AACzC,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,cAAd,GAA+B,YAAxC,CAAP;AACD,KAFD;AAIA,WAAO,IAAP;AACD;AAhBD,QAAA,kBAAA,GAAA,kBAAA",sourcesContent:["import { RuleBundle } from '../../types/mule';\nimport { RuleBundlesApi } from '../../types/sdk';\n\nimport { http } from '../utils/http';\n\nexport function initRuleBundlesApi(contextPath: string): RuleBundlesApi {\n  var that: any = {};\n\n  that.indexQ = function (): Promise<RuleBundle[]> {\n    return http.get(contextPath + 'ruleBundles');\n  };\n\n  that.createQ = function (params: any): Promise<any> {\n    return http.post(contextPath + 'ruleBundles', params);\n  };\n\n  that.readQ = function (ruleBundleId: string): Promise<RuleBundle> {\n    return http.get(contextPath + 'ruleBundles/' + ruleBundleId);\n  };\n\n  return that as RuleBundlesApi;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(3));r.s[10]++,e.initRuleBundlesApi=t},function(n,e,A){"use strict";function t(n){r.f[0]++;var e=(r.s[2]++,{});return r.s[3]++,e.readQ=function(e){return r.f[1]++,r.s[4]++,o.http.get(n+"turns/"+e)},r.s[5]++,e.readGamesTurnQ=function(e,A){return r.f[2]++,r.s[6]++,o.http.get(n+"games/"+e+"/history/"+A)},r.s[7]++,e}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Turns.ts",e="12d5e742ce79052eb02e1f83056a30ae04ad7a95",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Turns.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:13},end:{line:4,column:37}},2:{start:{line:6,column:15},end:{line:6,column:17}},3:{start:{line:7,column:4},end:{line:9,column:6}},4:{start:{line:8,column:8},end:{line:8,column:64}},5:{start:{line:10,column:4},end:{line:12,column:6}},6:{start:{line:11,column:8},end:{line:11,column:91}},7:{start:{line:13,column:4},end:{line:13,column:16}},8:{start:{line:15,column:0},end:{line:15,column:36}}},fnMap:{0:{name:"initTurnsApi",decl:{start:{line:5,column:9},end:{line:5,column:21}},loc:{start:{line:5,column:35},end:{line:14,column:1}},line:5},1:{name:"(anonymous_1)",decl:{start:{line:7,column:17},end:{line:7,column:18}},loc:{start:{line:7,column:35},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:10,column:26},end:{line:10,column:27}},loc:{start:{line:10,column:56},end:{line:12,column:5}},line:10}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0,1:0,2:0},b:{},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/muleSdk/models/Turns.ts"],names:[],mappings:";;;AAGA,IAAA,SAAA,QAAA,eAAA,CAAA;AAEA,SAAA,YAAA,CAA6B,WAA7B,EAAgD;AAC9C,QAAM,OAAY,EAAlB;AAEA,SAAK,KAAL,GAAa,UAAU,MAAV,EAAwB;AACnC,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,QAAd,GAAyB,MAAlC,CAAP;AACD,KAFD;AAIA,SAAK,cAAL,GAAsB,UAAU,MAAV,EAA0B,UAA1B,EAA4C;AAChE,eAAO,OAAA,IAAA,CAAK,GAAL,CAAS,cAAc,QAAd,GAAyB,MAAzB,GAAkC,WAAlC,GAAgD,UAAzD,CAAP;AACD,KAFD;AAIA,WAAO,IAAP;AACD;AAZD,QAAA,YAAA,GAAA,YAAA",sourcesContent:["import { Turn } from '../../types/mule';\nimport { TurnsApi } from '../../types/sdk';\n\nimport { http } from '../utils/http';\n\nexport function initTurnsApi(contextPath: string): TurnsApi {\n  const that: any = {};\n\n  that.readQ = function (turnId: string): Promise<Turn> {\n    return http.get(contextPath + 'turns/' + turnId);\n  };\n\n  that.readGamesTurnQ = function (gameId: string, turnNumber: number): Promise<Turn> {\n    return http.get(contextPath + 'games/' + gameId + '/history/' + turnNumber);\n  };\n\n  return that as TurnsApi;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var o=(r.s[1]++,A(3));r.s[8]++,e.initTurnsApi=t},function(n,e,A){"use strict";function t(n){r.f[0]++;var e=(r.s[1]++,window.location.search.substring(1)),A=(r.s[2]++,e.split("&"));r.s[3]++;for(var t=0;t<A.length;t++){var o=(r.s[4]++,A[t].split("="));if(r.s[5]++,o[0]===n)return r.b[0][0]++,r.s[6]++,o[1];r.b[0][1]++}r.s[7]++}var r=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/shared/fn/http.ts",e="b8790316bfa0cab8df8409e5eb0b192cb852e0ea",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/shared/fn/http.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:5,column:19},end:{line:5,column:54}},2:{start:{line:6,column:24},end:{line:6,column:43}},3:{start:{line:7,column:4},end:{line:12,column:5}},4:{start:{line:8,column:29},end:{line:8,column:56}},5:{start:{line:9,column:8},end:{line:11,column:9}},6:{start:{line:10,column:12},end:{line:10,column:37}},7:{start:{line:13,column:4},end:{line:13,column:11}},8:{start:{line:18,column:0},end:{line:18,column:42}}},fnMap:{0:{name:"getUrlParameter",decl:{start:{line:4,column:9},end:{line:4,column:24}},loc:{start:{line:4,column:33},end:{line:17,column:1}},line:4}},branchMap:{0:{loc:{start:{line:9,column:8},end:{line:11,column:9}},type:"if",locations:[{start:{line:9,column:8},end:{line:11,column:9}},{start:{line:9,column:8},end:{line:11,column:9}}],line:9}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},f:{0:0},b:{0:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/shared/fn/http.ts"],names:[],mappings:";;;AAKA,SAAA,eAAA,CAAgC,MAAhC,EAA8C;AAC5C,QAAM,WAAmB,OAAO,QAAP,CAAgB,MAAhB,CAAuB,SAAvB,CAAiC,CAAjC,CAAzB;AACA,QAAM,gBAA0B,SAAS,KAAT,CAAe,GAAf,CAAhC;AACA,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,cAAc,MAAlC,EAA0C,GAA1C,EAA+C;AAC7C,YAAM,iBAA2B,cAAc,CAAd,EAAiB,KAAjB,CAAuB,GAAvB,CAAjC;AACA,YAAI,eAAe,CAAf,MAAsB,MAA1B,EAAkC;AAChC,mBAAO,eAAe,CAAf,CAAP;AACD;AACF;AACD;AAEA;AACA;AACA;AACD;AAdD,QAAA,eAAA,GAAA,eAAA",sourcesContent:["\nexport interface HttpFnLibrary {\n  getUrlParameter(sParam: string): string | undefined;\n}\n\nexport function getUrlParameter(sParam: string): string | undefined {\n  const sPageURL: string = window.location.search.substring(1);\n  const sURLVariables: string[] = sPageURL.split('&');\n  for (let i = 0; i < sURLVariables.length; i++) {\n    const sParameterName: string[] = sURLVariables[i].split('=');\n    if (sParameterName[0] === sParam) {\n      return sParameterName[1];\n    }\n  }\n  return;\n\n  // TODO add es???\n  // const params = new window.URLSearchParams(window.location.search);\n  // return params.get(sParam) || undefined;\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();r.s[0]++,Object.defineProperty(e,"__esModule",{value:!0}),r.s[8]++,e.getUrlParameter=t},function(n,e,A){"use strict";function t(n,e,A){s.f[0]++;var t=(s.s[2]++,c.clone(c.find(n.board,function(n){return s.f[1]++,s.s[3]++,n.id===A})));if(s.s[4]++,!t)throw s.b[0][0]++,s.s[5]++,new Error("bad id "+A);return s.b[0][1]++,s.s[6]++,e.spaces.forEach(function(n){s.f[2]++,s.s[7]++,n.boardSpaceId===A?(s.b[1][0]++,s.s[8]++,t.attributes=n.attributes):s.b[1][1]++}),s.s[9]++,t}function r(n,e){s.f[3]++;var A=(s.s[11]++,[]);return s.s[12]++,c.each(n.pieces,function(n){s.f[4]++,s.s[13]++,n.locationId===e?(s.b[2][0]++,s.s[14]++,A.push(n)):s.b[2][1]++}),s.s[15]++,A}function o(n,e,A){return s.f[5]++,s.s[17]++,c.filter(n.pieces,function(n){return s.f[6]++,s.s[18]++,s.b[3][0]++,n.locationId===e&&(s.b[3][1]++,n.ownerId===A)})}function l(n,e){return s.f[7]++,s.s[20]++,c.filter(n.pieces,function(n){return s.f[8]++,s.s[21]++,e===n.id})}function i(n,e){s.f[9]++;var A=(s.s[23]++,[]);return s.s[24]++,c.each(n.pieces,function(n){s.f[10]++,s.s[25]++,n.class===e?(s.b[4][0]++,s.s[26]++,A.push(n)):s.b[4][1]++}),s.s[27]++,A}function u(n){return s.f[11]++,s.s[29]++,n.turnOrder[n.currentPlayerIndexTurn]}function a(n){return s.f[12]++,s.s[31]++,n.turns}var s=function(){var n="/home/niko/dev-mule/mule-sdk-js/src/shared/fn/mule.ts",e="5404aba1fa65aef1f466fbb728b332530ac5ea19",A=function(){}.constructor,t=new A("return this")(),r="__coverage__",o={path:"/home/niko/dev-mule/mule-sdk-js/src/shared/fn/mule.ts",statementMap:{0:{start:{line:3,column:0},end:{line:3,column:62}},1:{start:{line:4,column:15},end:{line:4,column:32}},2:{start:{line:7,column:21},end:{line:9,column:7}},3:{start:{line:8,column:8},end:{line:8,column:41}},4:{start:{line:10,column:4},end:{line:12,column:5}},5:{start:{line:11,column:8},end:{line:11,column:45}},6:{start:{line:13,column:4},end:{line:17,column:7}},7:{start:{line:14,column:8},end:{line:16,column:9}},8:{start:{line:15,column:12},end:{line:15,column:58}},9:{start:{line:18,column:4},end:{line:18,column:22}},10:{start:{line:20,column:0},end:{line:20,column:44}},11:{start:{line:22,column:17},end:{line:22,column:19}},12:{start:{line:23,column:4},end:{line:27,column:7}},13:{start:{line:24,column:8},end:{line:26,column:9}},14:{start:{line:25,column:12},end:{line:25,column:36}},15:{start:{line:28,column:4},end:{line:28,column:18}},16:{start:{line:30,column:0},end:{line:30,column:44}},17:{start:{line:32,column:4},end:{line:34,column:7}},18:{start:{line:33,column:8},end:{line:33,column:73}},19:{start:{line:36,column:0},end:{line:36,column:66}},20:{start:{line:38,column:4},end:{line:40,column:7}},21:{start:{line:39,column:8},end:{line:39,column:36}},22:{start:{line:42,column:0},end:{line:42,column:28}},23:{start:{line:45,column:16},end:{line:45,column:18}},24:{start:{line:46,column:4},end:{line:50,column:7}},25:{start:{line:47,column:8},end:{line:49,column:9}},26:{start:{line:48,column:12},end:{line:48,column:30}},27:{start:{line:51,column:4},end:{line:51,column:17}},28:{start:{line:53,column:0},end:{line:53,column:52}},29:{start:{line:55,column:4},end:{line:55,column:61}},30:{start:{line:57,column:0},end:{line:57,column:42}},31:{start:{line:59,column:4},end:{line:59,column:25}},32:{start:{line:61,column:0},end:{line:61,column:86}}},fnMap:{0:{name:"getFullSpaceInfo",decl:{start:{line:6,column:9},end:{line:6,column:25}},loc:{start:{line:6,column:57},end:{line:19,column:1}},line:6},1:{name:"(anonymous_1)",decl:{start:{line:7,column:67},end:{line:7,column:68}},loc:{start:{line:7,column:89},end:{line:9,column:5}},line:7},2:{name:"(anonymous_2)",decl:{start:{line:13,column:29},end:{line:13,column:30}},loc:{start:{line:13,column:51},end:{line:17,column:5}},line:13},3:{name:"getPiecesOnSpace",decl:{start:{line:21,column:9},end:{line:21,column:25}},loc:{start:{line:21,column:46},end:{line:29,column:1}},line:21},4:{name:"(anonymous_4)",decl:{start:{line:23,column:36},end:{line:23,column:37}},loc:{start:{line:23,column:58},end:{line:27,column:5}},line:23},5:{name:"getPiecesByOwnerIdOnSpaceId",decl:{start:{line:31,column:9},end:{line:31,column:36}},loc:{start:{line:31,column:66},end:{line:35,column:1}},line:31},6:{name:"(anonymous_6)",decl:{start:{line:32,column:45},end:{line:32,column:46}},loc:{start:{line:32,column:62},end:{line:34,column:5}},line:32},7:{name:"getPiece",decl:{start:{line:37,column:9},end:{line:37,column:17}},loc:{start:{line:37,column:38},end:{line:41,column:1}},line:37},8:{name:"(anonymous_8)",decl:{start:{line:38,column:45},end:{line:38,column:46}},loc:{start:{line:38,column:62},end:{line:40,column:5}},line:38},9:{name:"getClassesFromPieces",decl:{start:{line:44,column:9},end:{line:44,column:29}},loc:{start:{line:44,column:52},end:{line:52,column:1}},line:44},10:{name:"(anonymous_10)",decl:{start:{line:46,column:36},end:{line:46,column:37}},loc:{start:{line:46,column:53},end:{line:50,column:5}},line:46},11:{name:"getWhosTurnIsIt",decl:{start:{line:54,column:9},end:{line:54,column:24}},loc:{start:{line:54,column:34},end:{line:56,column:1}},line:54},12:{name:"getPreviousTurnsFromPlayByMailHistory",decl:{start:{line:58,column:9},end:{line:58,column:46}},loc:{start:{line:58,column:56},end:{line:60,column:1}},line:58}},branchMap:{0:{loc:{start:{line:10,column:4},end:{line:12,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:12,column:5}},{start:{line:10,column:4},end:{line:12,column:5}}],line:10},1:{loc:{start:{line:14,column:8},end:{line:16,column:9}},type:"if",locations:[{start:{line:14,column:8},end:{line:16,column:9}},{start:{line:14,column:8},end:{line:16,column:9}}],line:14},2:{loc:{start:{line:24,column:8},end:{line:26,column:9}},type:"if",locations:[{start:{line:24,column:8},end:{line:26,column:9}},{start:{line:24,column:8},end:{line:26,column:9}}],line:24},3:{loc:{start:{line:33,column:15},end:{line:33,column:72}},type:"binary-expr",locations:[{start:{line:33,column:15},end:{line:33,column:43}},{start:{line:33,column:47},end:{line:33,column:72}}],line:33},4:{loc:{start:{line:47,column:8},end:{line:49,column:9}},type:"if",locations:[{start:{line:47,column:8},end:{line:49,column:9}},{start:{line:47,column:8},end:{line:49,column:9}}],line:47}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0]},inputSourceMap:{version:3,sources:["/home/niko/dev-mule/mule-sdk-js/src/shared/fn/mule.ts"],names:[],mappings:";;;AACA,IAAA,WAAA,QAAA,QAAA,CAAA;AAkBA;AACA,SAAA,gBAAA,CAAiC,SAAjC,EAAuD,SAAvD,EAA6E,OAA7E,EAA4F;AAE1F,QAAM,aAAqC,SAAA,KAAA,CAAM,SAAA,IAAA,CAAK,UAAU,KAAf,EAAsB,UAAC,UAAD,EAAuB;AAC5F,eAAO,WAAW,EAAX,KAAkB,OAAzB;AACD,KAFgD,CAAN,CAA3C;AAIA,QAAI,CAAC,UAAL,EAAiB;AACf,cAAM,IAAI,KAAJ,CAAU,YAAY,OAAtB,CAAN;AACD;AAED,cAAU,MAAV,CAAiB,OAAjB,CAAyB,UAAC,UAAD,EAAuB;AAC9C,YAAI,WAAW,YAAX,KAA4B,OAAhC,EAAyC;AACvC,uBAAW,UAAX,GAAwB,WAAW,UAAnC,CADuC,CACQ;AAChD;AACF,KAJD;AAMA,WAAO,UAAP;AACD;AAjBD,QAAA,gBAAA,GAAA,gBAAA;AAmBA,SAAA,gBAAA,CAAiC,SAAjC,EAAuD,OAAvD,EAAsE;AACpE,QAAM,SAAuB,EAA7B;AAEA,aAAA,IAAA,CAAK,UAAU,MAAf,EAAuB,UAAU,UAAV,EAAgC;AACrD,YAAI,WAAW,UAAX,KAA0B,OAA9B,EAAuC;AACrC,mBAAO,IAAP,CAAY,UAAZ;AACD;AACF,KAJD;AAMA,WAAO,MAAP;AACD;AAVD,QAAA,gBAAA,GAAA,gBAAA;AAYA,SAAA,2BAAA,CAA4C,SAA5C,EAAkE,OAAlE,EAAmF,OAAnF,EAAkG;AAChG,WAAO,SAAA,MAAA,CAAO,UAAU,MAAjB,EAAyB,UAAU,KAAV,EAA2B;AACzD,eAAO,MAAM,UAAN,KAAqB,OAArB,IAAgC,MAAM,OAAN,KAAkB,OAAzD;AACD,KAFM,CAAP;AAGD;AAJD,QAAA,2BAAA,GAAA,2BAAA;AAMA,SAAA,QAAA,CAAyB,SAAzB,EAA+C,OAA/C,EAA8D;AAC5D,WAAO,SAAA,MAAA,CAAO,UAAU,MAAjB,EAAyB,UAAU,KAAV,EAA2B;AACzD,eAAO,YAAY,MAAM,EAAzB;AACD,KAFM,CAAP;AAGD;AAJD,QAAA,QAAA,GAAA,QAAA;AAMA;AACA,SAAA,oBAAA,CAAqC,SAArC,EAA2D,SAA3D,EAA4E;AAC1E,QAAM,QAAsB,EAA5B;AAEA,aAAA,IAAA,CAAK,UAAU,MAAf,EAAuB,UAAU,KAAV,EAA2B;AAChD,YAAI,MAAM,KAAN,KAAgB,SAApB,EAA+B;AAC7B,kBAAM,IAAN,CAAW,KAAX;AACD;AACF,KAJD;AAMA,WAAO,KAAP;AACD;AAVD,QAAA,oBAAA,GAAA,oBAAA;AAYA,SAAA,eAAA,CAAgC,OAAhC,EAA0D;AACxD,WAAO,QAAQ,SAAR,CAAkB,QAAQ,sBAA1B,CAAP;AACD;AAFD,QAAA,eAAA,GAAA,eAAA;AAIA,SAAA,qCAAA,CAAyD,OAAzD,EAAoG;AAClG,WAAO,QAAQ,KAAf;AACD;AAFD,QAAA,qCAAA,GAAA,qCAAA",sourcesContent:["\nimport { clone, each, filter, find  } from 'lodash';\n\nimport {\n  BoardSpace, GameBoard, GameState, History, PieceState,\n  PlayByMailHistoryTurns, RoundRobinHistory, SpaceState,\n} from '../../types/mule';\n\nexport interface MuleFnLibrary {\n  getFullSpaceInfo(gameBoard: GameBoard, gameState: GameState, spaceId: string): BoardSpace;\n  getPiecesOnSpace(gameState: GameState, spaceId: string): PieceState[];\n  getPiecesByOwnerIdOnSpaceId(gameState: GameState, spaceId: string, ownerId: string): PieceState[];\n  getPiece(gameState: GameState, pieceId: number): PieceState[];\n  getClassesFromPieces(gameState: GameState, className: string): PieceState[];\n\n  getWhosTurnIsIt(history: RoundRobinHistory): string;\n  getPreviousTurnsFromPlayByMailHistory<T>(history: History<PlayByMailHistoryTurns<T>>): T[];\n}\n\n// combines gameboard.board and gameboard.spaces (really just adds attributes)\nexport function getFullSpaceInfo(gameBoard: GameBoard, gameState: GameState, spaceId: string): BoardSpace {\n\n  const foundSpace: BoardSpace | undefined = clone(find(gameBoard.board, (boardSpace: BoardSpace) => {\n    return boardSpace.id === spaceId;\n  }));\n\n  if (!foundSpace) {\n    throw new Error('bad id ' + spaceId);\n  }\n\n  gameState.spaces.forEach((spaceState: SpaceState) => {\n    if (spaceState.boardSpaceId === spaceId) {\n      foundSpace.attributes = spaceState.attributes; // TODO should we combine here (what if the Board.board (BoardSpace[]) attributes contain something that the SpaceState doesnt)\n    }\n  });\n\n  return foundSpace;\n}\n\nexport function getPiecesOnSpace(gameState: GameState, spaceId: string): PieceState[] {\n  const pieces: PieceState[] = [];\n\n  each(gameState.pieces, function (pieceState: PieceState) {\n    if (pieceState.locationId === spaceId) {\n      pieces.push(pieceState);\n    }\n  });\n\n  return pieces;\n}\n\nexport function getPiecesByOwnerIdOnSpaceId(gameState: GameState, spaceId: string, ownerId: string): PieceState[] {\n  return filter(gameState.pieces, function (piece: PieceState) {\n    return piece.locationId === spaceId && piece.ownerId === ownerId;\n  });\n}\n\nexport function getPiece(gameState: GameState, pieceId: number): PieceState[] {\n  return filter(gameState.pieces, function (piece: PieceState) {\n    return pieceId === piece.id;\n  });\n}\n\n// TODO rename\nexport function getClassesFromPieces(gameState: GameState, className: string): PieceState[] {\n  const found: PieceState[] = [];\n\n  each(gameState.pieces, function (value: PieceState) {\n    if (value.class === className) {\n      found.push(value);\n    }\n  });\n\n  return found;\n}\n\nexport function getWhosTurnIsIt(history: RoundRobinHistory): string {\n  return history.turnOrder[history.currentPlayerIndexTurn];\n}\n\nexport function getPreviousTurnsFromPlayByMailHistory<T>(history: History<PlayByMailHistoryTurns<T>>): T[] {\n  return history.turns as T[];\n}\n"],sourceRoot:""},_coverageSchema:"332fd63041d2c1bcb487cc26dd0d5f7d97098a6c"},l=t[r]||(t[r]={});return l[n]&&l[n].hash===e?l[n]:(o.hash=e,l[n]=o)}();s.s[0]++,Object.defineProperty(e,"__esModule",{value:!0});var c=(s.s[1]++,A(0));s.s[10]++,e.getFullSpaceInfo=t,s.s[16]++,e.getPiecesOnSpace=r,s.s[19]++,e.getPiecesByOwnerIdOnSpaceId=o,s.s[22]++,e.getPiece=l,s.s[28]++,e.getClassesFromPieces=i,s.s[30]++,e.getWhosTurnIsIt=u,s.s[32]++,e.getPreviousTurnsFromPlayByMailHistory=a},function(n,e){var A;A=function(){return this}();try{A=A||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(A=window)}n.exports=A},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){!function(n){"use strict";function e(n){if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(n))throw new TypeError("Invalid character in header field name");return n.toLowerCase()}function A(n){return"string"!=typeof n&&(n=String(n)),n}function t(n){var e={next:function(){var e=n.shift();return{done:void 0===e,value:e}}};return C.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(n){this.map={},n instanceof r?n.forEach(function(n,e){this.append(e,n)},this):Array.isArray(n)?n.forEach(function(n){this.append(n[0],n[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(e){this.append(e,n[e])},this)}function o(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function l(n){return new Promise(function(e,A){n.onload=function(){e(n.result)},n.onerror=function(){A(n.error)}})}function i(n){var e=new FileReader,A=l(e);return e.readAsArrayBuffer(n),A}function u(n){var e=new FileReader,A=l(e);return e.readAsText(n),A}function a(n){for(var e=new Uint8Array(n),A=new Array(e.length),t=0;t<e.length;t++)A[t]=String.fromCharCode(e[t]);return A.join("")}function s(n){if(n.slice)return n.slice(0);var e=new Uint8Array(n.byteLength);return e.set(new Uint8Array(n)),e.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(n){if(this._bodyInit=n,n)if("string"==typeof n)this._bodyText=n;else if(C.blob&&Blob.prototype.isPrototypeOf(n))this._bodyBlob=n;else if(C.formData&&FormData.prototype.isPrototypeOf(n))this._bodyFormData=n;else if(C.searchParams&&URLSearchParams.prototype.isPrototypeOf(n))this._bodyText=n.toString();else if(C.arrayBuffer&&C.blob&&B(n))this._bodyArrayBuffer=s(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!C.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(n)&&!g(n))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=s(n)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof n?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):C.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},C.blob&&(this.blob=function(){var n=o(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(i)}),this.text=function(){var n=o(this);if(n)return n;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(a(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},C.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(n){var e=n.toUpperCase();return v.indexOf(e)>-1?e:n}function d(n,e){e=e||{};var A=e.body;if(n instanceof d){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,e.headers||(this.headers=new r(n.headers)),this.method=n.method,this.mode=n.mode,A||null==n._bodyInit||(A=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=m(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&A)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(A)}function f(n){var e=new FormData;return n.trim().split("&").forEach(function(n){if(n){var A=n.split("="),t=A.shift().replace(/\+/g," "),r=A.join("=").replace(/\+/g," ");e.append(decodeURIComponent(t),decodeURIComponent(r))}}),e}function p(n){var e=new r;return n.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(n){var A=n.split(":"),t=A.shift().trim();if(t){var r=A.join(":").trim();e.append(t,r)}}),e}function h(n,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(n)}if(!n.fetch){var C={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(n){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(C.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],B=function(n){return n&&DataView.prototype.isPrototypeOf(n)},g=ArrayBuffer.isView||function(n){return n&&y.indexOf(Object.prototype.toString.call(n))>-1};r.prototype.append=function(n,t){n=e(n),t=A(t);var r=this.map[n];this.map[n]=r?r+","+t:t},r.prototype.delete=function(n){delete this.map[e(n)]},r.prototype.get=function(n){return n=e(n),this.has(n)?this.map[n]:null},r.prototype.has=function(n){return this.map.hasOwnProperty(e(n))},r.prototype.set=function(n,t){this.map[e(n)]=A(t)},r.prototype.forEach=function(n,e){for(var A in this.map)this.map.hasOwnProperty(A)&&n.call(e,this.map[A],A,this)},r.prototype.keys=function(){var n=[];return this.forEach(function(e,A){n.push(A)}),t(n)},r.prototype.values=function(){var n=[];return this.forEach(function(e){n.push(e)}),t(n)},r.prototype.entries=function(){var n=[];return this.forEach(function(e,A){n.push([A,e])}),t(n)},C.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},c.call(d.prototype),c.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},h.error=function(){var n=new h(null,{status:0,statusText:""});return n.type="error",n};var b=[301,302,303,307,308];h.redirect=function(n,e){if(-1===b.indexOf(e))throw new RangeError("Invalid status code");return new h(null,{status:e,headers:{location:n}})},n.Headers=r,n.Request=d,n.Response=h,n.fetch=function(n,e){return new Promise(function(A,t){var r=new d(n,e),o=new XMLHttpRequest;o.onload=function(){var n={status:o.status,statusText:o.statusText,headers:p(o.getAllResponseHeaders()||"")};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;A(new h(e,n))},o.onerror=function(){t(new TypeError("Network request failed"))},o.ontimeout=function(){t(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials?o.withCredentials=!0:"omit"===r.credentials&&(o.withCredentials=!1),"responseType"in o&&C.blob&&(o.responseType="blob"),r.headers.forEach(function(n,e){o.setRequestHeader(e,n)}),o.send(void 0===r._bodyInit?null:r._bodyInit)})},n.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}])});